<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - FontForge coverage report 2017-08-04 01:21:11+02:00 (commit d35f7e4107a9e1db65cce47c468fcc914cecb8fd) - fontforgeexe/fontinfo.c</title>
  <link rel="stylesheet" type="text/css" href="../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../index.html">top level</a> - <a href="index.html">fontforgeexe</a> - fontinfo.c<span style="font-size: 80%;"> (source / <a href="fontinfo.c.func.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">FontForge coverage report 2017-08-04 01:21:11+02:00 (commit d35f7e4107a9e1db65cce47c468fcc914cecb8fd)</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">30</td>
            <td class="headerCovTableEntry">6537</td>
            <td class="headerCovTableEntryLo">0.5 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2017-08-04</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">3</td>
            <td class="headerCovTableEntry">160</td>
            <td class="headerCovTableEntryLo">1.9 %</td>
          </tr>
          <tr><td><img src="../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">          Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>            : /* -*- coding: utf-8 -*- */</a>
<span class="lineNum">       2 </span>            : /* Copyright (C) 2000-2012 by George Williams */
<span class="lineNum">       3 </span>            : /*
<span class="lineNum">       4 </span>            :  * Redistribution and use in source and binary forms, with or without
<span class="lineNum">       5 </span>            :  * modification, are permitted provided that the following conditions are met:
<span class="lineNum">       6 </span>            : 
<span class="lineNum">       7 </span>            :  * Redistributions of source code must retain the above copyright notice, this
<span class="lineNum">       8 </span>            :  * list of conditions and the following disclaimer.
<span class="lineNum">       9 </span>            : 
<span class="lineNum">      10 </span>            :  * Redistributions in binary form must reproduce the above copyright notice,
<span class="lineNum">      11 </span>            :  * this list of conditions and the following disclaimer in the documentation
<span class="lineNum">      12 </span>            :  * and/or other materials provided with the distribution.
<span class="lineNum">      13 </span>            : 
<span class="lineNum">      14 </span>            :  * The name of the author may not be used to endorse or promote products
<span class="lineNum">      15 </span>            :  * derived from this software without specific prior written permission.
<span class="lineNum">      16 </span>            : 
<span class="lineNum">      17 </span>            :  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
<span class="lineNum">      18 </span>            :  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
<span class="lineNum">      19 </span>            :  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO
<span class="lineNum">      20 </span>            :  * EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
<span class="lineNum">      21 </span>            :  * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
<span class="lineNum">      22 </span>            :  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
<span class="lineNum">      23 </span>            :  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
<span class="lineNum">      24 </span>            :  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
<span class="lineNum">      25 </span>            :  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
<span class="lineNum">      26 </span>            :  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
<span class="lineNum">      27 </span>            :  */
<span class="lineNum">      28 </span>            : #include &quot;autowidth.h&quot;
<span class="lineNum">      29 </span>            : #include &quot;bitmapchar.h&quot;
<span class="lineNum">      30 </span>            : #include &quot;dumppfa.h&quot;
<span class="lineNum">      31 </span>            : #include &quot;encoding.h&quot;
<span class="lineNum">      32 </span>            : #include &quot;featurefile.h&quot;
<span class="lineNum">      33 </span>            : #include &quot;fontforgeui.h&quot;
<span class="lineNum">      34 </span>            : #include &quot;lookups.h&quot;
<span class="lineNum">      35 </span>            : #include &quot;namelist.h&quot;
<span class="lineNum">      36 </span>            : #include &quot;ofl.h&quot;
<span class="lineNum">      37 </span>            : #include &quot;parsepfa.h&quot;
<span class="lineNum">      38 </span>            : #include &quot;parsettf.h&quot;
<span class="lineNum">      39 </span>            : #include &quot;psread.h&quot;
<span class="lineNum">      40 </span>            : #include &quot;sfd.h&quot;
<span class="lineNum">      41 </span>            : #include &quot;splineorder2.h&quot;
<span class="lineNum">      42 </span>            : #include &quot;splinesaveafm.h&quot;
<span class="lineNum">      43 </span>            : #include &quot;splineutil.h&quot;
<span class="lineNum">      44 </span>            : #include &quot;splineutil2.h&quot;
<span class="lineNum">      45 </span>            : #include &quot;tottf.h&quot;
<span class="lineNum">      46 </span>            : #include &lt;ustring.h&gt;
<span class="lineNum">      47 </span>            : #include &lt;chardata.h&gt;
<span class="lineNum">      48 </span>            : #include &lt;utype.h&gt;
<span class="lineNum">      49 </span>            : #include &quot;unicoderange.h&quot;
<span class="lineNum">      50 </span>            : #include &lt;locale.h&gt;
<span class="lineNum">      51 </span>            : #include &quot;sfundo.h&quot;
<span class="lineNum">      52 </span>            : #include &quot;collabclientui.h&quot;
<span class="lineNum">      53 </span>            : 
<span class="lineNum">      54 </span>            : extern int _GScrollBar_Width;
<span class="lineNum">      55 </span>            : extern GBox _ggadget_Default_Box;
<span class="lineNum">      56 </span>            : #define ACTIVE_BORDER   (_ggadget_Default_Box.active_border)
<span class="lineNum">      57 </span>            : #define MAIN_FOREGROUND (_ggadget_Default_Box.main_foreground)
<span class="lineNum">      58 </span>            : 
<span class="lineNum">      59 </span>            : #include &lt;gkeysym.h&gt;
<span class="lineNum">      60 </span>            : #include &lt;math.h&gt;
<span class="lineNum">      61 </span>            : #include &lt;unistd.h&gt;
<span class="lineNum">      62 </span>            : #include &lt;time.h&gt;
<span class="lineNum">      63 </span>            : 
<span class="lineNum">      64 </span>            : static int last_aspect=0;
<span class="lineNum">      65 </span>            : 
<span class="lineNum">      66 </span>            : GTextInfo emsizes[] = {
<span class="lineNum">      67 </span>            :     { (unichar_t *) &quot;1000&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      68 </span>            :     { (unichar_t *) &quot;1024&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      69 </span>            :     { (unichar_t *) &quot;2048&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      70 </span>            :     { (unichar_t *) &quot;4096&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      71 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">      72 </span>            : };
<span class="lineNum">      73 </span>            : 
<span class="lineNum">      74 </span>            : /* Note that we are storing integer data in a pointer field, hence the casts. They are not to be dereferenced. */
<span class="lineNum">      75 </span>            : GTextInfo interpretations[] = {
<span class="lineNum">      76 </span>            : /* GT: See the long comment at &quot;Property|New&quot; */
<span class="lineNum">      77 </span>            : /* GT: The msgstr should contain a translation of &quot;None&quot;, ignore &quot;Interpretation|&quot; */
<span class="lineNum">      78 </span>            : /* GT: In french this could be &quot;Aucun&quot; or &quot;Aucune&quot; depending on the gender */
<span class="lineNum">      79 </span>            : /* GT:  of &quot;Interpretation&quot; */
<span class="lineNum">      80 </span>            :     { (unichar_t *) N_(&quot;Interpretation|None&quot;), NULL, 0, 0, (void *) ui_none, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      81 </span>            : /*  { (unichar_t *) N_(&quot;Adobe Public Use Defs.&quot;), NULL, 0, 0, (void *) ui_adobe, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'}, */
<span class="lineNum">      82 </span>            : /*  { (unichar_t *) N_(&quot;Greek&quot;), NULL, 0, 0, (void *) ui_greek, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'}, */
<span class="lineNum">      83 </span>            :     { (unichar_t *) N_(&quot;Japanese&quot;), NULL, 0, 0, (void *) ui_japanese, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      84 </span>            :     { (unichar_t *) N_(&quot;Traditional Chinese&quot;), NULL, 0, 0, (void *) ui_trad_chinese, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      85 </span>            :     { (unichar_t *) N_(&quot;Simplified Chinese&quot;), NULL, 0, 0, (void *) ui_simp_chinese, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      86 </span>            :     { (unichar_t *) N_(&quot;Korean&quot;), NULL, 0, 0, (void *) ui_korean, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      87 </span>            : /*  { (unichar_t *) N_(&quot;AMS Public Use&quot;), NULL, 0, 0, (void *) ui_ams, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'}, */
<span class="lineNum">      88 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">      89 </span>            : };
<span class="lineNum">      90 </span>            : GTextInfo macstyles[] = {
<span class="lineNum">      91 </span>            :     { (unichar_t *) N_(&quot;MacStyles|Bold&quot;), NULL, 0, 0, (void *) sf_bold, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      92 </span>            :     { (unichar_t *) N_(&quot;MacStyles|Italic&quot;), NULL, 0, 0, (void *) sf_italic, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      93 </span>            :     { (unichar_t *) N_(&quot;MacStyles|Condense&quot;), NULL, 0, 0, (void *) sf_condense, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      94 </span>            :     { (unichar_t *) N_(&quot;MacStyles|Expand&quot;), NULL, 0, 0, (void *) sf_extend, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      95 </span>            :     { (unichar_t *) N_(&quot;MacStyles|Underline&quot;), NULL, 0, 0, (void *) sf_underline, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      96 </span>            :     { (unichar_t *) N_(&quot;MacStyles|Outline&quot;), NULL, 0, 0, (void *) sf_outline, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      97 </span>            :     { (unichar_t *) N_(&quot;MacStyles|Shadow&quot;), NULL, 0, 0, (void *) sf_shadow, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">      98 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">      99 </span>            : };
<span class="lineNum">     100 </span>            : static GTextInfo widthclass[] = {
<span class="lineNum">     101 </span>            :     { (unichar_t *) N_(&quot;Ultra-Condensed (50%)&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     102 </span>            :     { (unichar_t *) N_(&quot;Extra-Condensed (62.5%)&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     103 </span>            :     { (unichar_t *) N_(&quot;Condensed (75%)&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     104 </span>            :     { (unichar_t *) N_(&quot;Semi-Condensed (87.5%)&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     105 </span>            :     { (unichar_t *) N_(&quot;Medium (100%)&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     106 </span>            :     { (unichar_t *) N_(&quot;Semi-Expanded (112.5%)&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     107 </span>            :     { (unichar_t *) N_(&quot;Expanded (125%)&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     108 </span>            :     { (unichar_t *) N_(&quot;Extra-Expanded (150%)&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     109 </span>            :     { (unichar_t *) N_(&quot;Ultra-Expanded (200%)&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     110 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     111 </span>            : };
<span class="lineNum">     112 </span>            : static GTextInfo weightclass[] = {
<span class="lineNum">     113 </span>            :     { (unichar_t *) N_(&quot;100 Thin&quot;), NULL, 0, 0, (void *) 100, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     114 </span>            :     { (unichar_t *) N_(&quot;200 Extra-Light&quot;), NULL, 0, 0, (void *) 200, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     115 </span>            :     { (unichar_t *) N_(&quot;300 Light&quot;), NULL, 0, 0, (void *) 300, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     116 </span>            :     { (unichar_t *) N_(&quot;400 Regular&quot;), NULL, 0, 0, (void *) 400, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     117 </span>            :     { (unichar_t *) N_(&quot;500 Medium&quot;), NULL, 0, 0, (void *) 500, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     118 </span>            :     { (unichar_t *) N_(&quot;600 Semi-Bold&quot;), NULL, 0, 0, (void *) 600, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     119 </span>            :     { (unichar_t *) N_(&quot;700 Bold&quot;), NULL, 0, 0, (void *) 700, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     120 </span>            :     { (unichar_t *) N_(&quot;800 Extra-Bold&quot;), NULL, 0, 0, (void *) 800, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     121 </span>            :     { (unichar_t *) N_(&quot;900 Black&quot;), NULL, 0, 0, (void *) 900, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     122 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     123 </span>            : };
<span class="lineNum">     124 </span>            : static GTextInfo fstype[] = {
<span class="lineNum">     125 </span>            :     { (unichar_t *) N_(&quot;Never Embed/No Editing&quot;), NULL, 0, 0, (void *) 0x02, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     126 </span>            :     { (unichar_t *) N_(&quot;Printable Document&quot;), NULL, 0, 0, (void *) 0x04, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     127 </span>            :     { (unichar_t *) N_(&quot;Editable Document&quot;), NULL, 0, 0, (void *) 0x08, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     128 </span>            :     { (unichar_t *) N_(&quot;Installable Font&quot;), NULL, 0, 0, (void *) 0x00, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     129 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     130 </span>            : };
<span class="lineNum">     131 </span>            : static GTextInfo pfmfamily[] = {
<span class="lineNum">     132 </span>            :     { (unichar_t *) N_(&quot;Serif&quot;), NULL, 0, 0, (void *) 0x11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     133 </span>            :     { (unichar_t *) N_(&quot;Sans-Serif&quot;), NULL, 0, 0, (void *) 0x21, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     134 </span>            :     { (unichar_t *) N_(&quot;Monospace&quot;), NULL, 0, 0, (void *) 0x31, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     135 </span>            : /* GT: See the long comment at &quot;Property|New&quot; */
<span class="lineNum">     136 </span>            : /* GT: The msgstr should contain a translation of &quot;Script&quot;, ignore &quot;cursive|&quot; */
<span class="lineNum">     137 </span>            : /* GT: English uses &quot;script&quot; to me a general writing style (latin, greek, kanji) */
<span class="lineNum">     138 </span>            : /* GT: and the cursive handwriting style. Here we mean cursive handwriting. */
<span class="lineNum">     139 </span>            :     { (unichar_t *) N_(&quot;cursive|Script&quot;), NULL, 0, 0, (void *) 0x41, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     140 </span>            :     { (unichar_t *) N_(&quot;Decorative&quot;), NULL, 0, 0, (void *) 0x51, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     141 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     142 </span>            : };
<span class="lineNum">     143 </span>            : static GTextInfo ibmfamily[] = {
<span class="lineNum">     144 </span>            :     { (unichar_t *) N_(&quot;No Classification&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     145 </span>            :     { (unichar_t *) N_(&quot;Old Style Serifs&quot;), NULL, 0, 0, (void *) 0x100, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     146 </span>            :     { (unichar_t *) N_(&quot;OSS Rounded Legibility&quot;), NULL, 0, 0, (void *) 0x101, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     147 </span>            :     { (unichar_t *) N_(&quot;OSS Geralde&quot;), NULL, 0, 0, (void *) 0x102, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     148 </span>            :     { (unichar_t *) N_(&quot;OSS Venetian&quot;), NULL, 0, 0, (void *) 0x103, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     149 </span>            :     { (unichar_t *) N_(&quot;OSS Modified Venetian&quot;), NULL, 0, 0, (void *) 0x104, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     150 </span>            :     { (unichar_t *) N_(&quot;OSS Dutch Modern&quot;), NULL, 0, 0, (void *) 0x105, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     151 </span>            :     { (unichar_t *) N_(&quot;OSS Dutch Trad&quot;), NULL, 0, 0, (void *) 0x106, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     152 </span>            :     { (unichar_t *) N_(&quot;OSS Contemporary&quot;), NULL, 0, 0, (void *) 0x107, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     153 </span>            :     { (unichar_t *) N_(&quot;OSS Calligraphic&quot;), NULL, 0, 0, (void *) 0x108, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     154 </span>            :     { (unichar_t *) N_(&quot;OSS Miscellaneous&quot;), NULL, 0, 0, (void *) 0x10f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     155 </span>            :     { (unichar_t *) N_(&quot;Transitional Serifs&quot;), NULL, 0, 0, (void *) 0x200, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     156 </span>            :     { (unichar_t *) N_(&quot;TS Direct Line&quot;), NULL, 0, 0, (void *) 0x201, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     157 </span>            :     { (unichar_t *) N_(&quot;TS Script&quot;), NULL, 0, 0, (void *) 0x202, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     158 </span>            :     { (unichar_t *) N_(&quot;TS Miscellaneous&quot;), NULL, 0, 0, (void *) 0x20f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     159 </span>            :     { (unichar_t *) N_(&quot;Modern Serifs&quot;), NULL, 0, 0, (void *) 0x300, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     160 </span>            :     { (unichar_t *) N_(&quot;MS Italian&quot;), NULL, 0, 0, (void *) 0x301, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     161 </span>            :     { (unichar_t *) N_(&quot;MS Script&quot;), NULL, 0, 0, (void *) 0x302, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     162 </span>            :     { (unichar_t *) N_(&quot;MS Miscellaneous&quot;), NULL, 0, 0, (void *) 0x30f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     163 </span>            :     { (unichar_t *) N_(&quot;Clarendon Serifs&quot;), NULL, 0, 0, (void *) 0x400, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     164 </span>            :     { (unichar_t *) N_(&quot;CS Clarendon&quot;), NULL, 0, 0, (void *) 0x401, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     165 </span>            :     { (unichar_t *) N_(&quot;CS Modern&quot;), NULL, 0, 0, (void *) 0x402, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     166 </span>            :     { (unichar_t *) N_(&quot;CS Traditional&quot;), NULL, 0, 0, (void *) 0x403, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     167 </span>            :     { (unichar_t *) N_(&quot;CS Newspaper&quot;), NULL, 0, 0, (void *) 0x404, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     168 </span>            :     { (unichar_t *) N_(&quot;CS Stub Serif&quot;), NULL, 0, 0, (void *) 0x405, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     169 </span>            :     { (unichar_t *) N_(&quot;CS Monotone&quot;), NULL, 0, 0, (void *) 0x406, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     170 </span>            :     { (unichar_t *) N_(&quot;CS Typewriter&quot;), NULL, 0, 0, (void *) 0x407, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     171 </span>            :     { (unichar_t *) N_(&quot;CS Miscellaneous&quot;), NULL, 0, 0, (void *) 0x40f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     172 </span>            :     { (unichar_t *) N_(&quot;Slab Serifs&quot;), NULL, 0, 0, (void *) 0x500, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     173 </span>            :     { (unichar_t *) N_(&quot;Slab Serifs|SS Monotone&quot;), NULL, 0, 0, (void *) 0x501, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     174 </span>            :     { (unichar_t *) N_(&quot;Slab Serifs|SS Humanist&quot;), NULL, 0, 0, (void *) 0x502, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     175 </span>            :     { (unichar_t *) N_(&quot;Slab Serifs|SS Geometric&quot;), NULL, 0, 0, (void *) 0x503, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     176 </span>            :     { (unichar_t *) N_(&quot;Slab Serifs|SS Swiss&quot;), NULL, 0, 0, (void *) 0x504, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     177 </span>            :     { (unichar_t *) N_(&quot;Slab Serifs|SS Typewriter&quot;), NULL, 0, 0, (void *) 0x505, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     178 </span>            :     { (unichar_t *) N_(&quot;Slab Serifs|SS Miscellaneous&quot;), NULL, 0, 0, (void *) 0x50f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     179 </span>            :     { (unichar_t *) N_(&quot;Freeform Serifs&quot;), NULL, 0, 0, (void *) 0x700, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     180 </span>            :     { (unichar_t *) N_(&quot;FS Modern&quot;), NULL, 0, 0, (void *) 0x701, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     181 </span>            :     { (unichar_t *) N_(&quot;FS Miscellaneous&quot;), NULL, 0, 0, (void *) 0x70f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     182 </span>            :     { (unichar_t *) N_(&quot;Sans-Serif&quot;), NULL, 0, 0, (void *) 0x800, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     183 </span>            :     { (unichar_t *) N_(&quot;Sans-Serif|SS IBM NeoGrotesque Gothic&quot;), NULL, 0, 0, (void *) 0x801, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     184 </span>            :     { (unichar_t *) N_(&quot;Sans-Serif|SS Humanist&quot;), NULL, 0, 0, (void *) 0x802, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     185 </span>            :     { (unichar_t *) N_(&quot;Sans-Serif|SS Low-x Round Geometric&quot;), NULL, 0, 0, (void *) 0x803, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     186 </span>            :     { (unichar_t *) N_(&quot;Sans-Serif|SS High-x Round Geometric&quot;), NULL, 0, 0, (void *) 0x804, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     187 </span>            :     { (unichar_t *) N_(&quot;Sans-Serif|SS NeoGrotesque Gothic&quot;), NULL, 0, 0, (void *) 0x805, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     188 </span>            :     { (unichar_t *) N_(&quot;Sans-Serif|SS Modified Grotesque Gothic&quot;), NULL, 0, 0, (void *) 0x806, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     189 </span>            :     { (unichar_t *) N_(&quot;Sans-Serif|SS Typewriter Gothic&quot;), NULL, 0, 0, (void *) 0x809, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     190 </span>            :     { (unichar_t *) N_(&quot;Sans-Serif|SS Matrix&quot;), NULL, 0, 0, (void *) 0x80a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     191 </span>            :     { (unichar_t *) N_(&quot;Sans-Serif|SS Miscellaneous&quot;), NULL, 0, 0, (void *) 0x80f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     192 </span>            :     { (unichar_t *) N_(&quot;Ornamentals&quot;), NULL, 0, 0, (void *) 0x900, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     193 </span>            :     { (unichar_t *) N_(&quot;O Engraver&quot;), NULL, 0, 0, (void *) 0x901, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     194 </span>            :     { (unichar_t *) N_(&quot;O Black Letter&quot;), NULL, 0, 0, (void *) 0x902, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     195 </span>            :     { (unichar_t *) N_(&quot;O Decorative&quot;), NULL, 0, 0, (void *) 0x903, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     196 </span>            :     { (unichar_t *) N_(&quot;O Three Dimensional&quot;), NULL, 0, 0, (void *) 0x904, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     197 </span>            :     { (unichar_t *) N_(&quot;O Miscellaneous&quot;), NULL, 0, 0, (void *) 0x90f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     198 </span>            :     { (unichar_t *) N_(&quot;Scripts&quot;), NULL, 0, 0, (void *) 0xa00, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     199 </span>            :     { (unichar_t *) N_(&quot;S Uncial&quot;), NULL, 0, 0, (void *) 0xa01, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     200 </span>            :     { (unichar_t *) N_(&quot;S Brush Joined&quot;), NULL, 0, 0, (void *) 0xa02, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     201 </span>            :     { (unichar_t *) N_(&quot;S Formal Joined&quot;), NULL, 0, 0, (void *) 0xa03, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     202 </span>            :     { (unichar_t *) N_(&quot;S Monotone Joined&quot;), NULL, 0, 0, (void *) 0xa04, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     203 </span>            :     { (unichar_t *) N_(&quot;S Calligraphic&quot;), NULL, 0, 0, (void *) 0xa05, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     204 </span>            :     { (unichar_t *) N_(&quot;S Brush Unjoined&quot;), NULL, 0, 0, (void *) 0xa06, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     205 </span>            :     { (unichar_t *) N_(&quot;S Formal Unjoined&quot;), NULL, 0, 0, (void *) 0xa07, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     206 </span>            :     { (unichar_t *) N_(&quot;S Monotone Unjoined&quot;), NULL, 0, 0, (void *) 0xa08, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     207 </span>            :     { (unichar_t *) N_(&quot;S Miscellaneous&quot;), NULL, 0, 0, (void *) 0xa0f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     208 </span>            :     { (unichar_t *) N_(&quot;Symbolic&quot;), NULL, 0, 0, (void *) 0xc00, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     209 </span>            :     { (unichar_t *) N_(&quot;Sy Mixed Serif&quot;), NULL, 0, 0, (void *) 0xc03, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     210 </span>            :     { (unichar_t *) N_(&quot;Sy Old Style Serif&quot;), NULL, 0, 0, (void *) 0xc06, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     211 </span>            :     { (unichar_t *) N_(&quot;Sy Neo-grotesque Sans Serif&quot;), NULL, 0, 0, (void *) 0xc07, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     212 </span>            :     { (unichar_t *) N_(&quot;Sy Miscellaneous&quot;), NULL, 0, 0, (void *) 0xc0f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     213 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     214 </span>            : };
<span class="lineNum">     215 </span>            : static GTextInfo stylemap[] = {
<span class="lineNum">     216 </span>            :     { (unichar_t *) N_(&quot;Automatic&quot;), NULL, 0, 0, (void *) -1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     217 </span>            :     { (unichar_t *) N_(&quot;None&quot;), NULL, 0, 0, (void *) 0x00, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     218 </span>            :     { (unichar_t *) N_(&quot;Regular&quot;), NULL, 0, 0, (void *) 0x40, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     219 </span>            :     { (unichar_t *) N_(&quot;Italic&quot;), NULL, 0, 0, (void *) 0x01, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     220 </span>            :     { (unichar_t *) N_(&quot;Bold&quot;), NULL, 0, 0, (void *) 0x20, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     221 </span>            :     { (unichar_t *) N_(&quot;Bold Italic&quot;), NULL, 0, 0, (void *) 0x21, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     222 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     223 </span>            : };
<span class="lineNum">     224 </span>            : static GTextInfo os2versions[] = {
<span class="lineNum">     225 </span>            :     { (unichar_t *) N_(&quot;OS2Version|Automatic&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     226 </span>            :     { (unichar_t *) N_(&quot;1&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     227 </span>            :     { (unichar_t *) N_(&quot;2&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     228 </span>            :     { (unichar_t *) N_(&quot;3&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     229 </span>            :     { (unichar_t *) N_(&quot;4&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     230 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     231 </span>            : };
<span class="lineNum">     232 </span>            : static GTextInfo gaspversions[] = {
<span class="lineNum">     233 </span>            :     { (unichar_t *) N_(&quot;0&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     234 </span>            :     { (unichar_t *) N_(&quot;1&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     235 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     236 </span>            : };
<span class="lineNum">     237 </span>            : static GTextInfo panfamily[] = {
<span class="lineNum">     238 </span>            :     { (unichar_t *) N_(&quot;PanoseFamily|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     239 </span>            :     { (unichar_t *) N_(&quot;PanoseFamily|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     240 </span>            :     { (unichar_t *) N_(&quot;Latin: Text and Display&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     241 </span>            : /* GT: See the long comment at &quot;Property|New&quot; */
<span class="lineNum">     242 </span>            : /* GT: The msgstr should contain a translation of &quot;Script&quot;, ignore &quot;cursive|&quot; */
<span class="lineNum">     243 </span>            : /* GT: English uses &quot;script&quot; to me a general writing style (latin, greek, kanji) */
<span class="lineNum">     244 </span>            : /* GT: and the cursive handwriting style. Here we mean cursive handwriting. */
<span class="lineNum">     245 </span>            :     { (unichar_t *) N_(&quot;cursive|Latin: Handwritten&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     246 </span>            :     { (unichar_t *) N_(&quot;Latin: Decorative&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     247 </span>            :     { (unichar_t *) N_(&quot;Latin: Pictorial and Symbol&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     248 </span>            :     { (unichar_t *) &quot;6&quot;, NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     249 </span>            :     { (unichar_t *) &quot;7&quot;, NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     250 </span>            :     { (unichar_t *) &quot;8&quot;, NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     251 </span>            :     { (unichar_t *) &quot;9&quot;, NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     252 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     253 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     254 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     255 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     256 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     257 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     258 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     259 </span>            : };
<span class="lineNum">     260 </span>            : static GTextInfo panunknown[] = {
<span class="lineNum">     261 </span>            :     { (unichar_t *) &quot;Any&quot;, NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     262 </span>            :     { (unichar_t *) &quot;No Fit&quot;, NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     263 </span>            :     { (unichar_t *) &quot;2&quot;, NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     264 </span>            :     { (unichar_t *) &quot;3&quot;, NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     265 </span>            :     { (unichar_t *) &quot;4&quot;, NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     266 </span>            :     { (unichar_t *) &quot;5&quot;, NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     267 </span>            :     { (unichar_t *) &quot;6&quot;, NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     268 </span>            :     { (unichar_t *) &quot;7&quot;, NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     269 </span>            :     { (unichar_t *) &quot;8&quot;, NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     270 </span>            :     { (unichar_t *) &quot;9&quot;, NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     271 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     272 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     273 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     274 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     275 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     276 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     277 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     278 </span>            : };
<span class="lineNum">     279 </span>            : static GTextInfo panserifs[] = {
<span class="lineNum">     280 </span>            :     { (unichar_t *) N_(&quot;PanoseSerifs|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     281 </span>            :     { (unichar_t *) N_(&quot;PanoseSerifs|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     282 </span>            :     { (unichar_t *) N_(&quot;Cove&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     283 </span>            :     { (unichar_t *) N_(&quot;Obtuse Cove&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     284 </span>            :     { (unichar_t *) N_(&quot;Square Cove&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     285 </span>            :     { (unichar_t *) N_(&quot;Obtuse Square Cove&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     286 </span>            :     { (unichar_t *) N_(&quot;PanoseSerivfs|Square&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     287 </span>            :     { (unichar_t *) N_(&quot;PanoseSerifs|Thin&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     288 </span>            :     { (unichar_t *) N_(&quot;Bone&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     289 </span>            :     { (unichar_t *) N_(&quot;Exaggerated&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     290 </span>            :     { (unichar_t *) N_(&quot;Triangle&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     291 </span>            :     { (unichar_t *) N_(&quot;Normal Sans&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     292 </span>            :     { (unichar_t *) N_(&quot;Obtuse Sans&quot;), NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     293 </span>            :     { (unichar_t *) N_(&quot;Perpendicular Sans&quot;), NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     294 </span>            :     { (unichar_t *) N_(&quot;Flared&quot;), NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     295 </span>            :     { (unichar_t *) N_(&quot;PanoseSerivfs|Rounded&quot;), NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     296 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     297 </span>            : };
<span class="lineNum">     298 </span>            : static GTextInfo panweight[] = {
<span class="lineNum">     299 </span>            :     { (unichar_t *) N_(&quot;PanoseWeight|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     300 </span>            :     { (unichar_t *) N_(&quot;PanoseWeight|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     301 </span>            :     { (unichar_t *) N_(&quot;Very Light&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     302 </span>            :     { (unichar_t *) N_(&quot;Light&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     303 </span>            :     { (unichar_t *) N_(&quot;PanoseWeight|Thin&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     304 </span>            :     { (unichar_t *) N_(&quot;Book&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     305 </span>            :     { (unichar_t *) N_(&quot;Medium&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     306 </span>            :     { (unichar_t *) N_(&quot;Demi&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     307 </span>            :     { (unichar_t *) N_(&quot;Bold&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     308 </span>            :     { (unichar_t *) N_(&quot;Heavy&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     309 </span>            :     { (unichar_t *) N_(&quot;Black&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     310 </span>            :     { (unichar_t *) N_(&quot;Extra Black (Nord)&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     311 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     312 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     313 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     314 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     315 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     316 </span>            : };
<span class="lineNum">     317 </span>            : static GTextInfo panprop[] = {
<span class="lineNum">     318 </span>            :     { (unichar_t *) N_(&quot;PanoseProportion|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     319 </span>            :     { (unichar_t *) N_(&quot;PanoseProportion|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     320 </span>            :     { (unichar_t *) N_(&quot;Old Style&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     321 </span>            :     { (unichar_t *) N_(&quot;Modern&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     322 </span>            :     { (unichar_t *) N_(&quot;Even Width&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     323 </span>            :     { (unichar_t *) N_(&quot;Expanded&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     324 </span>            :     { (unichar_t *) N_(&quot;Condensed&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     325 </span>            :     { (unichar_t *) N_(&quot;Very Expanded&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     326 </span>            :     { (unichar_t *) N_(&quot;Very Condensed&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     327 </span>            :     { (unichar_t *) N_(&quot;Monospaced&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     328 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     329 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     330 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     331 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     332 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     333 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     334 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     335 </span>            : };
<span class="lineNum">     336 </span>            : static GTextInfo pancontrast[] = {
<span class="lineNum">     337 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     338 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     339 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|None&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     340 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|Very Low&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     341 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|Low&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     342 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|Medium Low&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     343 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|Medium&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     344 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|Medium High&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     345 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|High&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     346 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|Very High&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     347 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     348 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     349 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     350 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     351 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     352 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     353 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     354 </span>            : };
<span class="lineNum">     355 </span>            : static GTextInfo panstrokevar[] = {
<span class="lineNum">     356 </span>            :     { (unichar_t *) N_(&quot;PanoseStrokeVariation|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     357 </span>            :     { (unichar_t *) N_(&quot;PanoseStrokeVariation|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     358 </span>            :     { (unichar_t *) N_(&quot;No Variation&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     359 </span>            :     { (unichar_t *) N_(&quot;Gradual/Diagonal&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     360 </span>            :     { (unichar_t *) N_(&quot;Gradual/Transitional&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     361 </span>            :     { (unichar_t *) N_(&quot;Gradual/Vertical&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     362 </span>            :     { (unichar_t *) N_(&quot;Gradual/Horizontal&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     363 </span>            :     { (unichar_t *) N_(&quot;Rapid/Vertical&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     364 </span>            :     { (unichar_t *) N_(&quot;Rapid/Horizontal&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     365 </span>            :     { (unichar_t *) N_(&quot;Instant/Vertical&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     366 </span>            :     { (unichar_t *) N_(&quot;Instant/Horizontal&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     367 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     368 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     369 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     370 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     371 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     372 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     373 </span>            : };
<span class="lineNum">     374 </span>            : static GTextInfo panarmstyle[] = {
<span class="lineNum">     375 </span>            :     { (unichar_t *) N_(&quot;PanoseArmStyle|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     376 </span>            :     { (unichar_t *) N_(&quot;PanoseArmStyle|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     377 </span>            :     { (unichar_t *) N_(&quot;Straight Arms/Horizontal&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     378 </span>            :     { (unichar_t *) N_(&quot;Straight Arms/Wedge&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     379 </span>            :     { (unichar_t *) N_(&quot;Straight Arms/Vertical&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     380 </span>            :     { (unichar_t *) N_(&quot;Straight Arms/Single Serif&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     381 </span>            :     { (unichar_t *) N_(&quot;Straight Arms/Double Serif&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     382 </span>            :     { (unichar_t *) N_(&quot;Non-Straight Arms/Horizontal&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     383 </span>            :     { (unichar_t *) N_(&quot;Non-Straight Arms/Wedge&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     384 </span>            :     { (unichar_t *) N_(&quot;Non-Straight Arms/Vertical&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     385 </span>            :     { (unichar_t *) N_(&quot;Non-Straight Arms/Single Serif&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     386 </span>            :     { (unichar_t *) N_(&quot;Non-Straight Arms/Double Serif&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     387 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     388 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     389 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     390 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     391 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     392 </span>            : };
<span class="lineNum">     393 </span>            : static GTextInfo panletterform[] = {
<span class="lineNum">     394 </span>            :     { (unichar_t *) N_(&quot;PanoseLetterform|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     395 </span>            :     { (unichar_t *) N_(&quot;PanoseLetterform|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     396 </span>            :     { (unichar_t *) N_(&quot;Normal/Contact&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     397 </span>            :     { (unichar_t *) N_(&quot;Normal/Weighted&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     398 </span>            :     { (unichar_t *) N_(&quot;Normal/Boxed&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     399 </span>            :     { (unichar_t *) N_(&quot;Normal/Flattened&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     400 </span>            :     { (unichar_t *) N_(&quot;Normal/Rounded&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     401 </span>            :     { (unichar_t *) N_(&quot;Normal/Off-Center&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     402 </span>            :     { (unichar_t *) N_(&quot;Normal/Square&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     403 </span>            :     { (unichar_t *) N_(&quot;Oblique/Contact&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     404 </span>            :     { (unichar_t *) N_(&quot;Oblique/Weighted&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     405 </span>            :     { (unichar_t *) N_(&quot;Oblique/Boxed&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     406 </span>            :     { (unichar_t *) N_(&quot;Oblique/Flattened&quot;), NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     407 </span>            :     { (unichar_t *) N_(&quot;Oblique/Rounded&quot;), NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     408 </span>            :     { (unichar_t *) N_(&quot;Oblique/Off-Center&quot;), NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     409 </span>            :     { (unichar_t *) N_(&quot;Oblique/Square&quot;), NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     410 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     411 </span>            : };
<span class="lineNum">     412 </span>            : static GTextInfo panmidline[] = {
<span class="lineNum">     413 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     414 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     415 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|Standard/Trimmed&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     416 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|Standard/Pointed&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     417 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|Standard/Serifed&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     418 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|High/Trimmed&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     419 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|High/Pointed&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     420 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|High/Serifed&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     421 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|Constant/Trimmed&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     422 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|Constant/Pointed&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     423 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|Constant/Serifed&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     424 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|Low/Trimmed&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     425 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|Low/Pointed&quot;), NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     426 </span>            :     { (unichar_t *) N_(&quot;PanoseMidline|Low/Serifed&quot;), NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     427 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     428 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     429 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     430 </span>            : };
<span class="lineNum">     431 </span>            : static GTextInfo panxheight[] = {
<span class="lineNum">     432 </span>            :     { (unichar_t *) N_(&quot;PanoseXHeight|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     433 </span>            :     { (unichar_t *) N_(&quot;PanoseXHeight|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     434 </span>            :     { (unichar_t *) N_(&quot;PanoseXHeight|Constant/Small&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     435 </span>            :     { (unichar_t *) N_(&quot;PanoseXHeight|Constant/Standard&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     436 </span>            :     { (unichar_t *) N_(&quot;PanoseXHeight|Constant/Large&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     437 </span>            :     { (unichar_t *) N_(&quot;PanoseXHeight|Ducking/Small&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     438 </span>            :     { (unichar_t *) N_(&quot;PanoseXHeight|Ducking/Standard&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     439 </span>            :     { (unichar_t *) N_(&quot;PanoseXHeight|Ducking/Large&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     440 </span>            :     { (unichar_t *) &quot;8&quot;, NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     441 </span>            :     { (unichar_t *) &quot;9&quot;, NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     442 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     443 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     444 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     445 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     446 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     447 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     448 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     449 </span>            : };
<span class="lineNum">     450 </span>            : /* Latin: Hand written */
<span class="lineNum">     451 </span>            : static GTextInfo pantool[] = {
<span class="lineNum">     452 </span>            :     { (unichar_t *) N_(&quot;PanoseTool|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     453 </span>            :     { (unichar_t *) N_(&quot;PanoseTool|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     454 </span>            :     { (unichar_t *) N_(&quot;Flat Nib&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     455 </span>            :     { (unichar_t *) N_(&quot;Pressure Point&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     456 </span>            :     { (unichar_t *) N_(&quot;Engraved&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     457 </span>            :     { (unichar_t *) N_(&quot;Ball (Round Cap)&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     458 </span>            :     { (unichar_t *) N_(&quot;Brush&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     459 </span>            :     { (unichar_t *) N_(&quot;Rough&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     460 </span>            :     { (unichar_t *) N_(&quot;Felt Pen or Brush Tip&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     461 </span>            :     { (unichar_t *) N_(&quot;Wild Brush - Drips a lot&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     462 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     463 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     464 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     465 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     466 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     467 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     468 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     469 </span>            : };
<span class="lineNum">     470 </span>            : static GTextInfo panspacing[] = {
<span class="lineNum">     471 </span>            :     { (unichar_t *) N_(&quot;PanoseSpacing|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     472 </span>            :     { (unichar_t *) N_(&quot;PanoseSpacing|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     473 </span>            :     { (unichar_t *) N_(&quot;Proportional Spaced&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     474 </span>            :     { (unichar_t *) N_(&quot;Monospaced&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     475 </span>            :     { (unichar_t *) &quot;4&quot;, NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     476 </span>            :     { (unichar_t *) &quot;5&quot;, NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     477 </span>            :     { (unichar_t *) &quot;6&quot;, NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     478 </span>            :     { (unichar_t *) &quot;7&quot;, NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     479 </span>            :     { (unichar_t *) &quot;8&quot;, NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     480 </span>            :     { (unichar_t *) &quot;9&quot;, NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     481 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     482 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     483 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     484 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     485 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     486 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     487 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     488 </span>            : };
<span class="lineNum">     489 </span>            : static GTextInfo panasprat[] = {
<span class="lineNum">     490 </span>            :     { (unichar_t *) N_(&quot;PanoseAspectRatio|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     491 </span>            :     { (unichar_t *) N_(&quot;PanoseAspectRatio|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     492 </span>            :     { (unichar_t *) N_(&quot;Very Condensed&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     493 </span>            :     { (unichar_t *) N_(&quot;Condensed&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     494 </span>            :     { (unichar_t *) N_(&quot;Normal&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     495 </span>            :     { (unichar_t *) N_(&quot;Expanded&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     496 </span>            :     { (unichar_t *) N_(&quot;Very Expanded&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     497 </span>            :     { (unichar_t *) &quot;7&quot;, NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     498 </span>            :     { (unichar_t *) &quot;8&quot;, NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     499 </span>            :     { (unichar_t *) &quot;9&quot;, NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     500 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     501 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     502 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     503 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     504 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     505 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     506 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     507 </span>            : };
<span class="lineNum">     508 </span>            : static GTextInfo pancontrast2[] = {
<span class="lineNum">     509 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     510 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     511 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|None&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     512 </span>            :     { (unichar_t *) N_(&quot;Very Low&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     513 </span>            :     { (unichar_t *) N_(&quot;Low&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     514 </span>            :     { (unichar_t *) N_(&quot;Medium Low&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     515 </span>            :     { (unichar_t *) N_(&quot;Medium&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     516 </span>            :     { (unichar_t *) N_(&quot;Medium High&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     517 </span>            :     { (unichar_t *) N_(&quot;High&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     518 </span>            :     { (unichar_t *) N_(&quot;Very High&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     519 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     520 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     521 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     522 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     523 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     524 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     525 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     526 </span>            : };
<span class="lineNum">     527 </span>            : static GTextInfo pantopology[] = {
<span class="lineNum">     528 </span>            :     { (unichar_t *) N_(&quot;PanoseTopology|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     529 </span>            :     { (unichar_t *) N_(&quot;PanoseTopology|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     530 </span>            :     { (unichar_t *) N_(&quot;Roman Disconnected&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     531 </span>            :     { (unichar_t *) N_(&quot;Roman Trailing&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     532 </span>            :     { (unichar_t *) N_(&quot;Roman Connected&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     533 </span>            :     { (unichar_t *) N_(&quot;Cursive Disconnected&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     534 </span>            :     { (unichar_t *) N_(&quot;Cursive Trailing&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     535 </span>            :     { (unichar_t *) N_(&quot;Cursive Connected&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     536 </span>            :     { (unichar_t *) N_(&quot;Blackletter Disconnected&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     537 </span>            :     { (unichar_t *) N_(&quot;Blackletter Trailing&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     538 </span>            :     { (unichar_t *) N_(&quot;Blackletter Connected&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     539 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     540 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     541 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     542 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     543 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     544 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     545 </span>            : };
<span class="lineNum">     546 </span>            : static GTextInfo panform[] = {
<span class="lineNum">     547 </span>            :     { (unichar_t *) N_(&quot;PanoseForm|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     548 </span>            :     { (unichar_t *) N_(&quot;PanoseForm|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     549 </span>            :     { (unichar_t *) N_(&quot;Upright/No Wrapping&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     550 </span>            :     { (unichar_t *) N_(&quot;Upright/Some Wrapping&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     551 </span>            :     { (unichar_t *) N_(&quot;Upright/More Wrapping&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     552 </span>            :     { (unichar_t *) N_(&quot;Upright/Extreme Wrapping&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     553 </span>            :     { (unichar_t *) N_(&quot;Oblique/No Wrapping&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     554 </span>            :     { (unichar_t *) N_(&quot;Oblique/Some Wrapping&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     555 </span>            :     { (unichar_t *) N_(&quot;Oblique/More Wrapping&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     556 </span>            :     { (unichar_t *) N_(&quot;Oblique/Extreme Wrapping&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     557 </span>            :     { (unichar_t *) N_(&quot;Exaggerated/No Wrapping&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     558 </span>            :     { (unichar_t *) N_(&quot;Exaggerated/Some Wrapping&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     559 </span>            :     { (unichar_t *) N_(&quot;Exaggerated/More Wrapping&quot;), NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     560 </span>            :     { (unichar_t *) N_(&quot;Exaggerated/Extreme Wrapping&quot;), NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     561 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     562 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     563 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     564 </span>            : };
<span class="lineNum">     565 </span>            : static GTextInfo panfinials[] = {
<span class="lineNum">     566 </span>            :     { (unichar_t *) N_(&quot;PanoseFinials|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     567 </span>            :     { (unichar_t *) N_(&quot;PanoseFinials|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     568 </span>            :     { (unichar_t *) N_(&quot;None/No Loops&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     569 </span>            :     { (unichar_t *) N_(&quot;None/Closed Loops&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     570 </span>            :     { (unichar_t *) N_(&quot;None/Open Loops&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     571 </span>            :     { (unichar_t *) N_(&quot;Sharp/No Loops&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     572 </span>            :     { (unichar_t *) N_(&quot;Sharp/Closed Loops&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     573 </span>            :     { (unichar_t *) N_(&quot;Sharp/Open Loops&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     574 </span>            :     { (unichar_t *) N_(&quot;Tapered/No Loops&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     575 </span>            :     { (unichar_t *) N_(&quot;Tapered/Closed Loops&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     576 </span>            :     { (unichar_t *) N_(&quot;Tapered/Open Loops&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     577 </span>            :     { (unichar_t *) N_(&quot;Round/No Loops&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     578 </span>            :     { (unichar_t *) N_(&quot;Round/Closed Loops&quot;), NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     579 </span>            :     { (unichar_t *) N_(&quot;Round/Open Loops&quot;), NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     580 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     581 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     582 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     583 </span>            : };
<span class="lineNum">     584 </span>            : static GTextInfo panxascent[] = {
<span class="lineNum">     585 </span>            :     { (unichar_t *) N_(&quot;PanoseXAscent|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     586 </span>            :     { (unichar_t *) N_(&quot;PanoseXAscent|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     587 </span>            :     { (unichar_t *) N_(&quot;PanoseXAscent|Very Low&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     588 </span>            :     { (unichar_t *) N_(&quot;PanoseXAscent|Low&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     589 </span>            :     { (unichar_t *) N_(&quot;PanoseXAscent|Medium&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     590 </span>            :     { (unichar_t *) N_(&quot;PanoseXAscent|High&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     591 </span>            :     { (unichar_t *) N_(&quot;PanoseXAscent|Very High&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     592 </span>            :     { (unichar_t *) &quot;7&quot;, NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     593 </span>            :     { (unichar_t *) &quot;8&quot;, NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     594 </span>            :     { (unichar_t *) &quot;9&quot;, NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     595 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     596 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     597 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     598 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     599 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     600 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     601 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     602 </span>            : };
<span class="lineNum">     603 </span>            : /* Latin: Decorative */
<span class="lineNum">     604 </span>            : static GTextInfo panclass[] = {
<span class="lineNum">     605 </span>            :     { (unichar_t *) N_(&quot;PanoseClass|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     606 </span>            :     { (unichar_t *) N_(&quot;PanoseClass|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     607 </span>            :     { (unichar_t *) N_(&quot;Derivative&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     608 </span>            :     { (unichar_t *) N_(&quot;Non-standard Topology&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     609 </span>            :     { (unichar_t *) N_(&quot;Non-standard Elements&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     610 </span>            :     { (unichar_t *) N_(&quot;Non-standard Aspect&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     611 </span>            :     { (unichar_t *) N_(&quot;Initials&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     612 </span>            :     { (unichar_t *) N_(&quot;Cartoon&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     613 </span>            :     { (unichar_t *) N_(&quot;Picture Stems&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     614 </span>            :     { (unichar_t *) N_(&quot;Ornamented&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     615 </span>            :     { (unichar_t *) N_(&quot;Text and Background&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     616 </span>            :     { (unichar_t *) N_(&quot;Collage&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     617 </span>            :     { (unichar_t *) N_(&quot;Montage&quot;), NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     618 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     619 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     620 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     621 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     622 </span>            : };
<span class="lineNum">     623 </span>            : static GTextInfo panaspect[] = {
<span class="lineNum">     624 </span>            :     { (unichar_t *) N_(&quot;PanoseAspect|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     625 </span>            :     { (unichar_t *) N_(&quot;PanoseAspect|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     626 </span>            :     { (unichar_t *) N_(&quot;Super Condensed&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     627 </span>            :     { (unichar_t *) N_(&quot;Very Condensed&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     628 </span>            :     { (unichar_t *) N_(&quot;Condensed&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     629 </span>            :     { (unichar_t *) N_(&quot;Normal&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     630 </span>            :     { (unichar_t *) N_(&quot;Extended&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     631 </span>            :     { (unichar_t *) N_(&quot;Very Extended&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     632 </span>            :     { (unichar_t *) N_(&quot;Super Extended&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     633 </span>            :     { (unichar_t *) &quot;9&quot;, NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     634 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     635 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     636 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     637 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     638 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     639 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     640 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     641 </span>            : };
<span class="lineNum">     642 </span>            : static GTextInfo pancontrast3[] = {
<span class="lineNum">     643 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     644 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     645 </span>            :     { (unichar_t *) N_(&quot;PanoseContrast|None&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     646 </span>            :     { (unichar_t *) N_(&quot;Very Low&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     647 </span>            :     { (unichar_t *) N_(&quot;Low&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     648 </span>            :     { (unichar_t *) N_(&quot;Medium Low&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     649 </span>            :     { (unichar_t *) N_(&quot;Medium&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     650 </span>            :     { (unichar_t *) N_(&quot;Medium High&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     651 </span>            :     { (unichar_t *) N_(&quot;High&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     652 </span>            :     { (unichar_t *) N_(&quot;Very High&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     653 </span>            :     { (unichar_t *) N_(&quot;Horizontal Low&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     654 </span>            :     { (unichar_t *) N_(&quot;Horizontal Medium&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     655 </span>            :     { (unichar_t *) N_(&quot;Horizontal High&quot;), NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     656 </span>            :     { (unichar_t *) N_(&quot;Broken&quot;), NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     657 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     658 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     659 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     660 </span>            : };
<span class="lineNum">     661 </span>            : static GTextInfo panserifvar[] = {
<span class="lineNum">     662 </span>            :     { (unichar_t *) N_(&quot;PanoseSerifVariant|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     663 </span>            :     { (unichar_t *) N_(&quot;PanoseSerifVariant|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     664 </span>            :     { (unichar_t *) N_(&quot;Cove&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     665 </span>            :     { (unichar_t *) N_(&quot;Obtuse Cove&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     666 </span>            :     { (unichar_t *) N_(&quot;Square Cove&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     667 </span>            :     { (unichar_t *) N_(&quot;Obtuse Square Cove&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     668 </span>            :     { (unichar_t *) N_(&quot;PanoseSerivfs|Square&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     669 </span>            :     { (unichar_t *) N_(&quot;PanoseSerifs|Thin&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     670 </span>            : /*!*/{ (unichar_t *) N_(&quot;Oval&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     671 </span>            :     { (unichar_t *) N_(&quot;Exaggerated&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     672 </span>            :     { (unichar_t *) N_(&quot;Triangle&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     673 </span>            :     { (unichar_t *) N_(&quot;Normal Sans&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     674 </span>            :     { (unichar_t *) N_(&quot;Obtuse Sans&quot;), NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     675 </span>            :     { (unichar_t *) N_(&quot;Perpendicular Sans&quot;), NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     676 </span>            :     { (unichar_t *) N_(&quot;Flared&quot;), NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     677 </span>            :     { (unichar_t *) N_(&quot;PanoseSerivfs|Rounded&quot;), NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     678 </span>            : /* Um, these guys are only supposed to go up to 15, so why does this have a 16? */
<span class="lineNum">     679 </span>            : /*!*/{ (unichar_t *) N_(&quot;PanoseSerivfs|Script&quot;), NULL, 0, 0, (void *) 16, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     680 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     681 </span>            : };
<span class="lineNum">     682 </span>            : static GTextInfo pantreatment[] = {
<span class="lineNum">     683 </span>            :     { (unichar_t *) N_(&quot;PanoseTreatment|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     684 </span>            :     { (unichar_t *) N_(&quot;PanoseTreatment|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     685 </span>            :     { (unichar_t *) N_(&quot;Standard Solid Fill&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     686 </span>            :     { (unichar_t *) N_(&quot;No Fill&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     687 </span>            :     { (unichar_t *) N_(&quot;Patterned Fill&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     688 </span>            :     { (unichar_t *) N_(&quot;Complex Fill&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     689 </span>            :     { (unichar_t *) N_(&quot;Shaped Fill&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     690 </span>            :     { (unichar_t *) N_(&quot;Drawn or Distressed&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     691 </span>            :     { (unichar_t *) &quot;8&quot;, NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     692 </span>            :     { (unichar_t *) &quot;9&quot;, NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     693 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     694 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     695 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     696 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     697 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     698 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     699 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     700 </span>            : };
<span class="lineNum">     701 </span>            : static GTextInfo panlining[] = {
<span class="lineNum">     702 </span>            :     { (unichar_t *) N_(&quot;PanoseLining|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     703 </span>            :     { (unichar_t *) N_(&quot;PanoseLining|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     704 </span>            :     { (unichar_t *) N_(&quot;PanoseLining|None&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     705 </span>            :     { (unichar_t *) N_(&quot;PanoseLining|Inline&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     706 </span>            :     { (unichar_t *) N_(&quot;PanoseLining|Outline&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     707 </span>            :     { (unichar_t *) N_(&quot;PanoseLining|Engraved (Multiple Lines)&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     708 </span>            :     { (unichar_t *) N_(&quot;PanoseLining|Shadow&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     709 </span>            :     { (unichar_t *) N_(&quot;PanoseLining|Relief&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     710 </span>            :     { (unichar_t *) N_(&quot;PanoseLining|Backdrop&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     711 </span>            :     { (unichar_t *) &quot;9&quot;, NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     712 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     713 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     714 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     715 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     716 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     717 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     718 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     719 </span>            : };
<span class="lineNum">     720 </span>            : static GTextInfo pantopology2[] = {
<span class="lineNum">     721 </span>            :     { (unichar_t *) N_(&quot;PanoseTopology|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     722 </span>            :     { (unichar_t *) N_(&quot;PanoseTopology|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     723 </span>            :     { (unichar_t *) N_(&quot;Standard&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     724 </span>            :     { (unichar_t *) N_(&quot;Square&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     725 </span>            :     { (unichar_t *) N_(&quot;Multiple Segment&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     726 </span>            :     { (unichar_t *) N_(&quot;Deco (E,M,S) Waco Midline&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     727 </span>            :     { (unichar_t *) N_(&quot;Uneven Weighting&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     728 </span>            :     { (unichar_t *) N_(&quot;Diverse Arms&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     729 </span>            :     { (unichar_t *) N_(&quot;Diverse Forms&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     730 </span>            :     { (unichar_t *) N_(&quot;Lombardic Forms&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     731 </span>            :     { (unichar_t *) N_(&quot;Upper Case in Lower Case&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     732 </span>            :     { (unichar_t *) N_(&quot;Implied Topology&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     733 </span>            :     { (unichar_t *) N_(&quot;Horseshoe E and A&quot;), NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     734 </span>            :     { (unichar_t *) N_(&quot;Cursive&quot;), NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     735 </span>            :     { (unichar_t *) N_(&quot;Blackletter&quot;), NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     736 </span>            :     { (unichar_t *) N_(&quot;Swash Variance&quot;), NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     737 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     738 </span>            : };
<span class="lineNum">     739 </span>            : static GTextInfo pancharrange[] = {
<span class="lineNum">     740 </span>            :     { (unichar_t *) N_(&quot;PanoseCharRange|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     741 </span>            :     { (unichar_t *) N_(&quot;PanoseCharRange|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     742 </span>            :     { (unichar_t *) N_(&quot;Extended Collection&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     743 </span>            :     { (unichar_t *) N_(&quot;Literals&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     744 </span>            :     { (unichar_t *) N_(&quot;No Lower Case&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     745 </span>            :     { (unichar_t *) N_(&quot;Small Caps&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     746 </span>            :     { (unichar_t *) &quot;6&quot;, NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     747 </span>            :     { (unichar_t *) &quot;7&quot;, NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     748 </span>            :     { (unichar_t *) &quot;8&quot;, NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     749 </span>            :     { (unichar_t *) &quot;9&quot;, NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     750 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     751 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     752 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     753 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     754 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     755 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     756 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     757 </span>            : };
<span class="lineNum">     758 </span>            : /* Latin: Symbol */
<span class="lineNum">     759 </span>            : static GTextInfo pankind[] = {
<span class="lineNum">     760 </span>            :     { (unichar_t *) N_(&quot;PanoseKind|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     761 </span>            :     { (unichar_t *) N_(&quot;PanoseKind|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     762 </span>            :     { (unichar_t *) N_(&quot;Montages&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     763 </span>            :     { (unichar_t *) N_(&quot;Pictures&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     764 </span>            :     { (unichar_t *) N_(&quot;Shapes&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     765 </span>            :     { (unichar_t *) N_(&quot;Scientific&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     766 </span>            :     { (unichar_t *) N_(&quot;Music&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     767 </span>            :     { (unichar_t *) N_(&quot;Expert&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     768 </span>            :     { (unichar_t *) N_(&quot;Patterns&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     769 </span>            :     { (unichar_t *) N_(&quot;Borders&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     770 </span>            :     { (unichar_t *) N_(&quot;Icons&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     771 </span>            :     { (unichar_t *) N_(&quot;Logos&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     772 </span>            :     { (unichar_t *) N_(&quot;Industry Specific&quot;), NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     773 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     774 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     775 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     776 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     777 </span>            : };
<span class="lineNum">     778 </span>            : static GTextInfo panasprat2[] = {
<span class="lineNum">     779 </span>            :     { (unichar_t *) N_(&quot;PanoseAspect|Any&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     780 </span>            :     { (unichar_t *) N_(&quot;PanoseAspect|No Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     781 </span>            :     { (unichar_t *) N_(&quot;No Width&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     782 </span>            :     { (unichar_t *) N_(&quot;Exceptionally Wide&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     783 </span>            :     { (unichar_t *) N_(&quot;Super Wide&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     784 </span>            :     { (unichar_t *) N_(&quot;Very Wide&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     785 </span>            :     { (unichar_t *) N_(&quot;Wide&quot;), NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     786 </span>            :     { (unichar_t *) N_(&quot;Normal&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     787 </span>            :     { (unichar_t *) N_(&quot;Narrow&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     788 </span>            :     { (unichar_t *) N_(&quot;Very Narrow&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     789 </span>            :     { (unichar_t *) &quot;10&quot;, NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     790 </span>            :     { (unichar_t *) &quot;11&quot;, NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     791 </span>            :     { (unichar_t *) &quot;12&quot;, NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     792 </span>            :     { (unichar_t *) &quot;13&quot;, NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     793 </span>            :     { (unichar_t *) &quot;14&quot;, NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     794 </span>            :     { (unichar_t *) &quot;15&quot;, NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     795 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">     796 </span>            : };
<span class="lineNum">     797 </span>            : 
<span class="lineNum">     798 </span>            : static struct titlelist { char *name; GTextInfo *variants; } panoses[][9] = {
<span class="lineNum">     799 </span>            :     /*Any*/    {{ N_(&quot;Class2&quot;), panunknown }, { N_(&quot;Class3&quot;), panunknown }, { N_(&quot;Class4&quot;), panunknown }, { N_(&quot;Class5&quot;), panunknown }, { N_(&quot;Class6&quot;), panunknown }, { N_(&quot;Class7&quot;), panunknown }, { N_(&quot;Class8&quot;), panunknown }, { N_(&quot;Class9&quot;), panunknown }, { N_(&quot;Class10&quot;), panunknown }},
<span class="lineNum">     800 </span>            :     /*NoFit*/  {{ N_(&quot;Class2&quot;), panunknown }, { N_(&quot;Class3&quot;), panunknown }, { N_(&quot;Class4&quot;), panunknown }, { N_(&quot;Class5&quot;), panunknown }, { N_(&quot;Class6&quot;), panunknown }, { N_(&quot;Class7&quot;), panunknown }, { N_(&quot;Class8&quot;), panunknown }, { N_(&quot;Class9&quot;), panunknown }, { N_(&quot;Class10&quot;), panunknown }},
<span class="lineNum">     801 </span>            :     /*LtnTxt*/ {{ N_(&quot;_Serifs&quot;), panserifs }, { N_(&quot;Panose|_Weight&quot;), panweight }, { N_(&quot;_Proportion&quot;), panprop }, { N_(&quot;_Contrast&quot;), pancontrast }, { N_(&quot;Stroke _Variation&quot;), panstrokevar }, { N_(&quot;_Arm Style&quot;), panarmstyle }, { N_(&quot;_Letterform&quot;), panletterform }, { N_(&quot;_Midline&quot;), panmidline }, { N_(&quot;_X-Height&quot;), panxheight }},
<span class="lineNum">     802 </span>            :     /*LtnHnd*/ {{ N_(&quot;_Tool&quot;), pantool }, { N_(&quot;Panose|_Weight&quot;), panweight }, { N_(&quot;_Spacing&quot;), panspacing }, { N_(&quot;_Aspect Ratio&quot;), panasprat }, { N_(&quot;_Contrast&quot;), pancontrast2 }, { N_(&quot;_Topology&quot;), pantopology }, { N_(&quot;F_orm&quot;), panform }, { N_(&quot;F_inials&quot;), panfinials }, { N_(&quot;_X-Ascent&quot;), panxascent }},
<span class="lineNum">     803 </span>            :     /*LtnDcr*/ {{ N_(&quot;_Class&quot;), panclass }, { N_(&quot;Panose|_Weight&quot;), panweight }, { N_(&quot;_Aspect&quot;), panaspect }, { N_(&quot;C_ontrast&quot;), pancontrast3 }, { N_(&quot;_Serif Variant&quot;), panserifvar }, { N_(&quot;T_reatment&quot;), pantreatment }, { N_(&quot;_Lining&quot;), panlining }, { N_(&quot;_Topology&quot;), pantopology2 }, { N_(&quot;Char. _Range&quot;), pancharrange }},
<span class="lineNum">     804 </span>            :                                             /* Yup, really should be &quot;unknown&quot;, no weights permitted, nor aspect ratios */
<span class="lineNum">     805 </span>            :     /*LtnSym*/ {{ N_(&quot;_Kind&quot;), pankind }, { N_(&quot;Panose|_Weight&quot;), panunknown }, { N_(&quot;_Spacing&quot;), panspacing }, { N_(&quot;_Aspect Ratio&quot;), panunknown }, { N_(&quot;AR: Char 94&quot;), panasprat2 }, { N_(&quot;AR: Char 119&quot;), panasprat2 }, { N_(&quot;AR: Char 157&quot;), panasprat2 }, { N_(&quot;AR: Char 163&quot;), panasprat2 }, { N_(&quot;AR: Char 211&quot;), panasprat2 }},
<span class="lineNum">     806 </span>            :     /* 6 */    {{ N_(&quot;Class2&quot;), panunknown }, { N_(&quot;Class3&quot;), panunknown }, { N_(&quot;Class4&quot;), panunknown }, { N_(&quot;Class5&quot;), panunknown }, { N_(&quot;Class6&quot;), panunknown }, { N_(&quot;Class7&quot;), panunknown }, { N_(&quot;Class8&quot;), panunknown }, { N_(&quot;Class9&quot;), panunknown }, { N_(&quot;Class10&quot;), panunknown }},
<span class="lineNum">     807 </span>            :     {{NULL, NULL}}
<span class="lineNum">     808 </span>            : };
<span class="lineNum">     809 </span>            : 
<span class="lineNum">     810 </span>            : /* There is a similar list at the end of python.c, untranslated strings for */
<span class="lineNum">     811 </span>            : /*  scripting use */
<span class="lineNum">     812 </span>            : static GTextInfo mslanguages[] = {
<span class="lineNum">     813 </span>            :     { (unichar_t *) N_(&quot;Afrikaans&quot;), NULL, 0, 0, (void *) 0x436, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     814 </span>            :     { (unichar_t *) N_(&quot;Albanian&quot;), NULL, 0, 0, (void *) 0x41c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     815 </span>            : /* GT: See the long comment at &quot;Property|New&quot; */
<span class="lineNum">     816 </span>            : /* GT: The msgstr should contain a translation of &quot;Malayalam&quot;, ignore &quot;Lang|&quot; */
<span class="lineNum">     817 </span>            :     { (unichar_t *) N_(&quot;Lang|Amharic&quot;), NULL, 0, 0, (void *) 0x45e, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     818 </span>            :     { (unichar_t *) N_(&quot;Arabic (Saudi Arabia)&quot;), NULL, 0, 0, (void *) 0x401, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     819 </span>            :     { (unichar_t *) N_(&quot;Arabic (Iraq)&quot;), NULL, 0, 0, (void *) 0x801, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     820 </span>            :     { (unichar_t *) N_(&quot;Arabic (Egypt)&quot;), NULL, 0, 0, (void *) 0xc01, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     821 </span>            :     { (unichar_t *) N_(&quot;Arabic (Libya)&quot;), NULL, 0, 0, (void *) 0x1001, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     822 </span>            :     { (unichar_t *) N_(&quot;Arabic (Algeria)&quot;), NULL, 0, 0, (void *) 0x1401, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     823 </span>            :     { (unichar_t *) N_(&quot;Arabic (Morocco)&quot;), NULL, 0, 0, (void *) 0x1801, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     824 </span>            :     { (unichar_t *) N_(&quot;Arabic (Tunisia)&quot;), NULL, 0, 0, (void *) 0x1C01, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     825 </span>            :     { (unichar_t *) N_(&quot;Arabic (Oman)&quot;), NULL, 0, 0, (void *) 0x2001, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     826 </span>            :     { (unichar_t *) N_(&quot;Arabic (Yemen)&quot;), NULL, 0, 0, (void *) 0x2401, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     827 </span>            :     { (unichar_t *) N_(&quot;Arabic (Syria)&quot;), NULL, 0, 0, (void *) 0x2801, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     828 </span>            :     { (unichar_t *) N_(&quot;Arabic (Jordan)&quot;), NULL, 0, 0, (void *) 0x2c01, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     829 </span>            :     { (unichar_t *) N_(&quot;Arabic (Lebanon)&quot;), NULL, 0, 0, (void *) 0x3001, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     830 </span>            :     { (unichar_t *) N_(&quot;Arabic (Kuwait)&quot;), NULL, 0, 0, (void *) 0x3401, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     831 </span>            :     { (unichar_t *) N_(&quot;Arabic (U.A.E.)&quot;), NULL, 0, 0, (void *) 0x3801, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     832 </span>            :     { (unichar_t *) N_(&quot;Arabic (Bahrain)&quot;), NULL, 0, 0, (void *) 0x3c01, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     833 </span>            :     { (unichar_t *) N_(&quot;Arabic (Qatar)&quot;), NULL, 0, 0, (void *) 0x4001, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     834 </span>            :     { (unichar_t *) N_(&quot;Lang|Armenian&quot;), NULL, 0, 0, (void *) 0x42b, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     835 </span>            :     { (unichar_t *) N_(&quot;Assamese&quot;), NULL, 0, 0, (void *) 0x44d, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     836 </span>            :     { (unichar_t *) N_(&quot;Azeri (Latin)&quot;), NULL, 0, 0, (void *) 0x42c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     837 </span>            :     { (unichar_t *) N_(&quot;Azeri (Cyrillic)&quot;), NULL, 0, 0, (void *) 0x82c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     838 </span>            :     { (unichar_t *) N_(&quot;Basque&quot;), NULL, 0, 0, (void *) 0x42d, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     839 </span>            :     { (unichar_t *) N_(&quot;Byelorussian&quot;), NULL, 0, 0, (void *) 0x423, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     840 </span>            :     { (unichar_t *) N_(&quot;Lang|Bengali&quot;), NULL, 0, 0, (void *) 0x445, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     841 </span>            :     { (unichar_t *) N_(&quot;Bengali Bangladesh&quot;), NULL, 0, 0, (void *) 0x845, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     842 </span>            :     { (unichar_t *) N_(&quot;Bulgarian&quot;), NULL, 0, 0, (void *) 0x402, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     843 </span>            :     { (unichar_t *) N_(&quot;Burmese&quot;), NULL, 0, 0, (void *) 0x455, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     844 </span>            :     { (unichar_t *) N_(&quot;Catalan&quot;), NULL, 0, 0, (void *) 0x403, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     845 </span>            :     { (unichar_t *) N_(&quot;Cambodian&quot;), NULL, 0, 0, (void *) 0x453, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     846 </span>            :     { (unichar_t *) N_(&quot;Lang|Cherokee&quot;), NULL, 0, 0, (void *) 0x45c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     847 </span>            :     { (unichar_t *) N_(&quot;Chinese (Taiwan)&quot;), NULL, 0, 0, (void *) 0x404, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     848 </span>            :     { (unichar_t *) N_(&quot;Chinese (PRC)&quot;), NULL, 0, 0, (void *) 0x804, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     849 </span>            :     { (unichar_t *) N_(&quot;Chinese (Hong Kong)&quot;), NULL, 0, 0, (void *) 0xc04, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     850 </span>            :     { (unichar_t *) N_(&quot;Chinese (Singapore)&quot;), NULL, 0, 0, (void *) 0x1004, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     851 </span>            :     { (unichar_t *) N_(&quot;Chinese (Macau)&quot;), NULL, 0, 0, (void *) 0x1404, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     852 </span>            :     { (unichar_t *) N_(&quot;Croatian&quot;), NULL, 0, 0, (void *) 0x41a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     853 </span>            :     { (unichar_t *) N_(&quot;Croatian Bosnia/Herzegovina&quot;), NULL, 0, 0, (void *) 0x101a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     854 </span>            :     { (unichar_t *) N_(&quot;Czech&quot;), NULL, 0, 0, (void *) 0x405, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     855 </span>            :     { (unichar_t *) N_(&quot;Danish&quot;), NULL, 0, 0, (void *) 0x406, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     856 </span>            :     { (unichar_t *) N_(&quot;Divehi&quot;), NULL, 0, 0, (void *) 0x465, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     857 </span>            :     { (unichar_t *) N_(&quot;Dutch&quot;), NULL, 0, 0, (void *) 0x413, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     858 </span>            :     { (unichar_t *) N_(&quot;Flemish (Belgian Dutch)&quot;), NULL, 0, 0, (void *) 0x813, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     859 </span>            :     { (unichar_t *) N_(&quot;Edo&quot;), NULL, 0, 0, (void *) 0x466, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     860 </span>            :     { (unichar_t *) N_(&quot;English (British)&quot;), NULL, 0, 0, (void *) 0x809, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     861 </span>            :     { (unichar_t *) N_(&quot;English (US)&quot;), NULL, 0, 0, (void *) 0x409, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     862 </span>            :     { (unichar_t *) N_(&quot;English (Canada)&quot;), NULL, 0, 0, (void *) 0x1009, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     863 </span>            :     { (unichar_t *) N_(&quot;English (Australian)&quot;), NULL, 0, 0, (void *) 0xc09, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     864 </span>            :     { (unichar_t *) N_(&quot;English (New Zealand)&quot;), NULL, 0, 0, (void *) 0x1409, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     865 </span>            :     { (unichar_t *) N_(&quot;English (Irish)&quot;), NULL, 0, 0, (void *) 0x1809, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     866 </span>            :     { (unichar_t *) N_(&quot;English (South Africa)&quot;), NULL, 0, 0, (void *) 0x1c09, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     867 </span>            :     { (unichar_t *) N_(&quot;English (Jamaica)&quot;), NULL, 0, 0, (void *) 0x2009, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     868 </span>            :     { (unichar_t *) N_(&quot;English (Caribbean)&quot;), NULL, 0, 0, (void *) 0x2409, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     869 </span>            :     { (unichar_t *) N_(&quot;English (Belize)&quot;), NULL, 0, 0, (void *) 0x2809, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     870 </span>            :     { (unichar_t *) N_(&quot;English (Trinidad)&quot;), NULL, 0, 0, (void *) 0x2c09, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     871 </span>            :     { (unichar_t *) N_(&quot;English (Zimbabwe)&quot;), NULL, 0, 0, (void *) 0x3009, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     872 </span>            :     { (unichar_t *) N_(&quot;English (Philippines)&quot;), NULL, 0, 0, (void *) 0x3409, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     873 </span>            :     { (unichar_t *) N_(&quot;English (Indonesia)&quot;), NULL, 0, 0, (void *) 0x3809, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     874 </span>            :     { (unichar_t *) N_(&quot;English (Hong Kong)&quot;), NULL, 0, 0, (void *) 0x3c09, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     875 </span>            :     { (unichar_t *) N_(&quot;English (India)&quot;), NULL, 0, 0, (void *) 0x4009, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     876 </span>            :     { (unichar_t *) N_(&quot;English (Malaysia)&quot;), NULL, 0, 0, (void *) 0x4409, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     877 </span>            :     { (unichar_t *) N_(&quot;Estonian&quot;), NULL, 0, 0, (void *) 0x425, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     878 </span>            :     { (unichar_t *) N_(&quot;Faeroese&quot;), NULL, 0, 0, (void *) 0x438, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     879 </span>            :     { (unichar_t *) N_(&quot;Lang|Farsi&quot;), NULL, 0, 0, (void *) 0x429, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     880 </span>            :     { (unichar_t *) N_(&quot;Filipino&quot;), NULL, 0, 0, (void *) 0x464, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     881 </span>            :     { (unichar_t *) N_(&quot;Finnish&quot;), NULL, 0, 0, (void *) 0x40b, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     882 </span>            :     { (unichar_t *) N_(&quot;French French&quot;), NULL, 0, 0, (void *) 0x40c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     883 </span>            :     { (unichar_t *) N_(&quot;French Belgium&quot;), NULL, 0, 0, (void *) 0x80c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     884 </span>            :     { (unichar_t *) N_(&quot;French Canadian&quot;), NULL, 0, 0, (void *) 0xc0c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     885 </span>            :     { (unichar_t *) N_(&quot;French Swiss&quot;), NULL, 0, 0, (void *) 0x100c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     886 </span>            :     { (unichar_t *) N_(&quot;French Luxembourg&quot;), NULL, 0, 0, (void *) 0x140c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     887 </span>            :     { (unichar_t *) N_(&quot;French Monaco&quot;), NULL, 0, 0, (void *) 0x180c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     888 </span>            :     { (unichar_t *) N_(&quot;French West Indies&quot;), NULL, 0, 0, (void *) 0x1c0c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     889 </span>            :     { (unichar_t *) NU_(&quot;French Runion&quot;), NULL, 0, 0, (void *) 0x200c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     890 </span>            :     { (unichar_t *) N_(&quot;French D.R. Congo&quot;), NULL, 0, 0, (void *) 0x240c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     891 </span>            :     { (unichar_t *) N_(&quot;French Senegal&quot;), NULL, 0, 0, (void *) 0x280c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     892 </span>            :     { (unichar_t *) N_(&quot;French Camaroon&quot;), NULL, 0, 0, (void *) 0x2c0c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     893 </span>            :     { (unichar_t *) NU_(&quot;French Cte d'Ivoire&quot;), NULL, 0, 0, (void *) 0x300c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     894 </span>            :     { (unichar_t *) N_(&quot;French Mali&quot;), NULL, 0, 0, (void *) 0x340c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     895 </span>            :     { (unichar_t *) N_(&quot;French Morocco&quot;), NULL, 0, 0, (void *) 0x380c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     896 </span>            :     { (unichar_t *) N_(&quot;French Haiti&quot;), NULL, 0, 0, (void *) 0x3c0c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     897 </span>            :     { (unichar_t *) N_(&quot;French North Africa&quot;), NULL, 0, 0, (void *) 0xe40c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     898 </span>            :     { (unichar_t *) N_(&quot;Frisian&quot;), NULL, 0, 0, (void *) 0x462, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     899 </span>            :     { (unichar_t *) N_(&quot;Fulfulde&quot;), NULL, 0, 0, (void *) 0x467, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     900 </span>            :     { (unichar_t *) N_(&quot;Gaelic (Scottish)&quot;), NULL, 0, 0, (void *) 0x43c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     901 </span>            :     { (unichar_t *) N_(&quot;Gaelic (Irish)&quot;), NULL, 0, 0, (void *) 0x83c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     902 </span>            :     { (unichar_t *) N_(&quot;Galician&quot;), NULL, 0, 0, (void *) 0x467, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     903 </span>            :     { (unichar_t *) N_(&quot;Lang|Georgian&quot;), NULL, 0, 0, (void *) 0x437, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     904 </span>            :     { (unichar_t *) N_(&quot;German German&quot;), NULL, 0, 0, (void *) 0x407, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     905 </span>            :     { (unichar_t *) N_(&quot;German Swiss&quot;), NULL, 0, 0, (void *) 0x807, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     906 </span>            :     { (unichar_t *) N_(&quot;German Austrian&quot;), NULL, 0, 0, (void *) 0xc07, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     907 </span>            :     { (unichar_t *) N_(&quot;German Luxembourg&quot;), NULL, 0, 0, (void *) 0x1007, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     908 </span>            :     { (unichar_t *) N_(&quot;German Liechtenstein&quot;), NULL, 0, 0, (void *) 0x1407, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     909 </span>            :     { (unichar_t *) N_(&quot;Lang|Greek&quot;), NULL, 0, 0, (void *) 0x408, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     910 </span>            :     { (unichar_t *) N_(&quot;Guarani&quot;), NULL, 0, 0, (void *) 0x474, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     911 </span>            :     { (unichar_t *) N_(&quot;Lang|Gujarati&quot;), NULL, 0, 0, (void *) 0x447, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     912 </span>            :     { (unichar_t *) N_(&quot;Hausa&quot;), NULL, 0, 0, (void *) 0x468, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     913 </span>            :     { (unichar_t *) N_(&quot;Hawaiian&quot;), NULL, 0, 0, (void *) 0x475, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     914 </span>            :     { (unichar_t *) N_(&quot;Lang|Hebrew&quot;), NULL, 0, 0, (void *) 0x40d, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     915 </span>            :     { (unichar_t *) N_(&quot;Hindi&quot;), NULL, 0, 0, (void *) 0x439, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     916 </span>            :     { (unichar_t *) N_(&quot;Hungarian&quot;), NULL, 0, 0, (void *) 0x40e, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     917 </span>            :     { (unichar_t *) N_(&quot;Ibibio&quot;), NULL, 0, 0, (void *) 0x469, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     918 </span>            :     { (unichar_t *) N_(&quot;Icelandic&quot;), NULL, 0, 0, (void *) 0x40f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     919 </span>            :     { (unichar_t *) N_(&quot;Igbo&quot;), NULL, 0, 0, (void *) 0x470, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     920 </span>            :     { (unichar_t *) N_(&quot;Indonesian&quot;), NULL, 0, 0, (void *) 0x421, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     921 </span>            :     { (unichar_t *) N_(&quot;Inuktitut&quot;), NULL, 0, 0, (void *) 0x45d, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     922 </span>            :     { (unichar_t *) N_(&quot;Italian&quot;), NULL, 0, 0, (void *) 0x410, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     923 </span>            :     { (unichar_t *) N_(&quot;Italian Swiss&quot;), NULL, 0, 0, (void *) 0x810, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     924 </span>            :     { (unichar_t *) N_(&quot;Japanese&quot;), NULL, 0, 0, (void *) 0x411, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     925 </span>            :     { (unichar_t *) N_(&quot;Lang|Kannada&quot;), NULL, 0, 0, (void *) 0x44b, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     926 </span>            :     { (unichar_t *) N_(&quot;Kanuri&quot;), NULL, 0, 0, (void *) 0x471, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     927 </span>            :     { (unichar_t *) N_(&quot;Kashmiri (India)&quot;), NULL, 0, 0, (void *) 0x860, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     928 </span>            :     { (unichar_t *) N_(&quot;Kazakh&quot;), NULL, 0, 0, (void *) 0x43f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     929 </span>            :     { (unichar_t *) N_(&quot;Lang|Khmer&quot;), NULL, 0, 0, (void *) 0x453, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     930 </span>            :     { (unichar_t *) N_(&quot;Kirghiz&quot;), NULL, 0, 0, (void *) 0x440, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     931 </span>            :     { (unichar_t *) N_(&quot;Konkani&quot;), NULL, 0, 0, (void *) 0x457, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     932 </span>            :     { (unichar_t *) N_(&quot;Korean&quot;), NULL, 0, 0, (void *) 0x412, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     933 </span>            :     { (unichar_t *) N_(&quot;Korean (Johab)&quot;), NULL, 0, 0, (void *) 0x812, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     934 </span>            :     { (unichar_t *) N_(&quot;Lao&quot;), NULL, 0, 0, (void *) 0x454, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     935 </span>            :     { (unichar_t *) N_(&quot;Latvian&quot;), NULL, 0, 0, (void *) 0x426, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     936 </span>            :     { (unichar_t *) N_(&quot;Lang|Latin&quot;), NULL, 0, 0, (void *) 0x476, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     937 </span>            :     { (unichar_t *) N_(&quot;Lithuanian&quot;), NULL, 0, 0, (void *) 0x427, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     938 </span>            :     { (unichar_t *) N_(&quot;Lithuanian (Classic)&quot;), NULL, 0, 0, (void *) 0x827, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     939 </span>            :     { (unichar_t *) N_(&quot;Macedonian&quot;), NULL, 0, 0, (void *) 0x42f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     940 </span>            :     { (unichar_t *) N_(&quot;Malay&quot;), NULL, 0, 0, (void *) 0x43e, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     941 </span>            :     { (unichar_t *) N_(&quot;Malay (Brunei)&quot;), NULL, 0, 0, (void *) 0x83e, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     942 </span>            :     { (unichar_t *) N_(&quot;Lang|Malayalam&quot;), NULL, 0, 0, (void *) 0x44c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     943 </span>            :     { (unichar_t *) N_(&quot;Maltese&quot;), NULL, 0, 0, (void *) 0x43a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     944 </span>            :     { (unichar_t *) N_(&quot;Manipuri&quot;), NULL, 0, 0, (void *) 0x458, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     945 </span>            :     { (unichar_t *) N_(&quot;Maori&quot;), NULL, 0, 0, (void *) 0x481, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     946 </span>            :     { (unichar_t *) N_(&quot;Marathi&quot;), NULL, 0, 0, (void *) 0x44e, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     947 </span>            :     { (unichar_t *) N_(&quot;Mongolian (Cyrillic)&quot;), NULL, 0, 0, (void *) 0x450, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     948 </span>            :     { (unichar_t *) N_(&quot;Mongolian (Mongolian)&quot;), NULL, 0, 0, (void *) 0x850, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     949 </span>            :     { (unichar_t *) N_(&quot;Nepali&quot;), NULL, 0, 0, (void *) 0x461, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     950 </span>            :     { (unichar_t *) N_(&quot;Nepali (India)&quot;), NULL, 0, 0, (void *) 0x861, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     951 </span>            :     { (unichar_t *) N_(&quot;Norwegian (Bokmal)&quot;), NULL, 0, 0, (void *) 0x414, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     952 </span>            :     { (unichar_t *) N_(&quot;Norwegian (Nynorsk)&quot;), NULL, 0, 0, (void *) 0x814, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     953 </span>            :     { (unichar_t *) N_(&quot;Lang|Oriya&quot;), NULL, 0, 0, (void *) 0x448, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     954 </span>            :     { (unichar_t *) N_(&quot;Oromo&quot;), NULL, 0, 0, (void *) 0x472, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     955 </span>            :     { (unichar_t *) N_(&quot;Papiamentu&quot;), NULL, 0, 0, (void *) 0x479, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     956 </span>            :     { (unichar_t *) N_(&quot;Pashto&quot;), NULL, 0, 0, (void *) 0x463, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     957 </span>            :     { (unichar_t *) N_(&quot;Polish&quot;), NULL, 0, 0, (void *) 0x415, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     958 </span>            :     { (unichar_t *) N_(&quot;Portuguese (Portugal)&quot;), NULL, 0, 0, (void *) 0x416, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     959 </span>            :     { (unichar_t *) N_(&quot;Portuguese (Brasil)&quot;), NULL, 0, 0, (void *) 0x816, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     960 </span>            :     { (unichar_t *) N_(&quot;Punjabi (India)&quot;), NULL, 0, 0, (void *) 0x446, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     961 </span>            :     { (unichar_t *) N_(&quot;Punjabi (Pakistan)&quot;), NULL, 0, 0, (void *) 0x846, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     962 </span>            :     { (unichar_t *) N_(&quot;Quecha (Bolivia)&quot;), NULL, 0, 0, (void *) 0x46b, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     963 </span>            :     { (unichar_t *) N_(&quot;Quecha (Ecuador)&quot;), NULL, 0, 0, (void *) 0x86b, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     964 </span>            :     { (unichar_t *) N_(&quot;Quecha (Peru)&quot;), NULL, 0, 0, (void *) 0xc6b, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     965 </span>            :     { (unichar_t *) N_(&quot;Rhaeto-Romanic&quot;), NULL, 0, 0, (void *) 0x417, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     966 </span>            :     { (unichar_t *) N_(&quot;Romanian&quot;), NULL, 0, 0, (void *) 0x418, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     967 </span>            :     { (unichar_t *) N_(&quot;Romanian (Moldova)&quot;), NULL, 0, 0, (void *) 0x818, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     968 </span>            :     { (unichar_t *) N_(&quot;Russian&quot;), NULL, 0, 0, (void *) 0x419, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     969 </span>            :     { (unichar_t *) N_(&quot;Russian (Moldova)&quot;), NULL, 0, 0, (void *) 0x819, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     970 </span>            :     { (unichar_t *) N_(&quot;Sami (Lappish)&quot;), NULL, 0, 0, (void *) 0x43b, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     971 </span>            :     { (unichar_t *) N_(&quot;Sanskrit&quot;), NULL, 0, 0, (void *) 0x43b, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     972 </span>            :     { (unichar_t *) N_(&quot;Sepedi&quot;), NULL, 0, 0, (void *) 0x46c, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     973 </span>            :     { (unichar_t *) N_(&quot;Serbian (Cyrillic)&quot;), NULL, 0, 0, (void *) 0xc1a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     974 </span>            :     { (unichar_t *) N_(&quot;Serbian (Latin)&quot;), NULL, 0, 0, (void *) 0x81a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     975 </span>            :     { (unichar_t *) N_(&quot;Sindhi India&quot;), NULL, 0, 0, (void *) 0x459, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     976 </span>            :     { (unichar_t *) N_(&quot;Sindhi Pakistan&quot;), NULL, 0, 0, (void *) 0x859, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     977 </span>            :     { (unichar_t *) N_(&quot;Lang|Sinhalese&quot;), NULL, 0, 0, (void *) 0x45b, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     978 </span>            :     { (unichar_t *) N_(&quot;Slovak&quot;), NULL, 0, 0, (void *) 0x41b, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     979 </span>            :     { (unichar_t *) N_(&quot;Slovenian&quot;), NULL, 0, 0, (void *) 0x424, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     980 </span>            :     { (unichar_t *) N_(&quot;Sorbian&quot;), NULL, 0, 0, (void *) 0x42e, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     981 </span>            :     { (unichar_t *) N_(&quot;Spanish (Traditional)&quot;), NULL, 0, 0, (void *) 0x40a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     982 </span>            :     { (unichar_t *) N_(&quot;Spanish Mexico&quot;), NULL, 0, 0, (void *) 0x80a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     983 </span>            :     { (unichar_t *) N_(&quot;Spanish (Modern)&quot;), NULL, 0, 0, (void *) 0xc0a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     984 </span>            :     { (unichar_t *) N_(&quot;Spanish (Guatemala)&quot;), NULL, 0, 0, (void *) 0x100a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     985 </span>            :     { (unichar_t *) N_(&quot;Spanish (Costa Rica)&quot;), NULL, 0, 0, (void *) 0x140a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     986 </span>            :     { (unichar_t *) N_(&quot;Spanish (Panama)&quot;), NULL, 0, 0, (void *) 0x180a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     987 </span>            :     { (unichar_t *) N_(&quot;Spanish (Dominican Republic)&quot;), NULL, 0, 0, (void *) 0x1c0a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     988 </span>            :     { (unichar_t *) N_(&quot;Spanish (Venezuela)&quot;), NULL, 0, 0, (void *) 0x200a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     989 </span>            :     { (unichar_t *) N_(&quot;Spanish (Colombia)&quot;), NULL, 0, 0, (void *) 0x240a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     990 </span>            :     { (unichar_t *) N_(&quot;Spanish (Peru)&quot;), NULL, 0, 0, (void *) 0x280a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     991 </span>            :     { (unichar_t *) N_(&quot;Spanish (Argentina)&quot;), NULL, 0, 0, (void *) 0x2c0a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     992 </span>            :     { (unichar_t *) N_(&quot;Spanish (Ecuador)&quot;), NULL, 0, 0, (void *) 0x300a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     993 </span>            :     { (unichar_t *) N_(&quot;Spanish (Chile)&quot;), NULL, 0, 0, (void *) 0x340a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     994 </span>            :     { (unichar_t *) N_(&quot;Spanish (Uruguay)&quot;), NULL, 0, 0, (void *) 0x380a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     995 </span>            :     { (unichar_t *) N_(&quot;Spanish (Paraguay)&quot;), NULL, 0, 0, (void *) 0x3c0a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     996 </span>            :     { (unichar_t *) N_(&quot;Spanish (Bolivia)&quot;), NULL, 0, 0, (void *) 0x400a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     997 </span>            :     { (unichar_t *) N_(&quot;Spanish (El Salvador)&quot;), NULL, 0, 0, (void *) 0x440a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     998 </span>            :     { (unichar_t *) N_(&quot;Spanish (Honduras)&quot;), NULL, 0, 0, (void *) 0x480a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">     999 </span>            :     { (unichar_t *) N_(&quot;Spanish (Nicaragua)&quot;), NULL, 0, 0, (void *) 0x4c0a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1000 </span>            :     { (unichar_t *) N_(&quot;Spanish (Puerto Rico)&quot;), NULL, 0, 0, (void *) 0x500a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1001 </span>            :     { (unichar_t *) N_(&quot;Spanish (United States)&quot;), NULL, 0, 0, (void *) 0x540a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1002 </span>            :     { (unichar_t *) N_(&quot;Spanish (Latin America)&quot;), NULL, 0, 0, (void *) 0xe40a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1003 </span>            :     { (unichar_t *) N_(&quot;Sutu&quot;), NULL, 0, 0, (void *) 0x430, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1004 </span>            :     { (unichar_t *) N_(&quot;Swahili (Kenyan)&quot;), NULL, 0, 0, (void *) 0x441, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1005 </span>            :     { (unichar_t *) N_(&quot;Swedish (Sweden)&quot;), NULL, 0, 0, (void *) 0x41d, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1006 </span>            :     { (unichar_t *) N_(&quot;Swedish (Finland)&quot;), NULL, 0, 0, (void *) 0x81d, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1007 </span>            :     { (unichar_t *) N_(&quot;Lang|Syriac&quot;), NULL, 0, 0, (void *) 0x45a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1008 </span>            :     { (unichar_t *) N_(&quot;Lang|Tagalog&quot;), NULL, 0, 0, (void *) 0x464, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1009 </span>            :     { (unichar_t *) N_(&quot;Tajik&quot;), NULL, 0, 0, (void *) 0x428, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1010 </span>            :     { (unichar_t *) N_(&quot;Tamazight (Arabic)&quot;), NULL, 0, 0, (void *) 0x45f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1011 </span>            :     { (unichar_t *) N_(&quot;Tamazight (Latin)&quot;), NULL, 0, 0, (void *) 0x85f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1012 </span>            :     { (unichar_t *) N_(&quot;Lang|Tamil&quot;), NULL, 0, 0, (void *) 0x449, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1013 </span>            :     { (unichar_t *) N_(&quot;Tatar (Tatarstan)&quot;), NULL, 0, 0, (void *) 0x444, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1014 </span>            :     { (unichar_t *) N_(&quot;Lang|Telugu&quot;), NULL, 0, 0, (void *) 0x44a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1015 </span>            :     { (unichar_t *) N_(&quot;Lang|Thai&quot;), NULL, 0, 0, (void *) 0x41e, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1016 </span>            :     { (unichar_t *) N_(&quot;Tibetan (PRC)&quot;), NULL, 0, 0, (void *) 0x451, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1017 </span>            :     { (unichar_t *) N_(&quot;Tibetan Bhutan&quot;), NULL, 0, 0, (void *) 0x851, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1018 </span>            :     { (unichar_t *) N_(&quot;Tigrinya Ethiopia&quot;), NULL, 0, 0, (void *) 0x473, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1019 </span>            :     { (unichar_t *) N_(&quot;Tigrinyan Eritrea&quot;), NULL, 0, 0, (void *) 0x873, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1020 </span>            :     { (unichar_t *) N_(&quot;Tsonga&quot;), NULL, 0, 0, (void *) 0x431, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1021 </span>            :     { (unichar_t *) N_(&quot;Tswana&quot;), NULL, 0, 0, (void *) 0x432, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1022 </span>            :     { (unichar_t *) N_(&quot;Turkish&quot;), NULL, 0, 0, (void *) 0x41f, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1023 </span>            :     { (unichar_t *) N_(&quot;Turkmen&quot;), NULL, 0, 0, (void *) 0x442, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1024 </span>            :     { (unichar_t *) N_(&quot;Lang|Uighur&quot;), NULL, 0, 0, (void *) 0x480, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1025 </span>            :     { (unichar_t *) N_(&quot;Ukrainian&quot;), NULL, 0, 0, (void *) 0x422, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1026 </span>            :     { (unichar_t *) N_(&quot;Urdu (Pakistan)&quot;), NULL, 0, 0, (void *) 0x420, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1027 </span>            :     { (unichar_t *) N_(&quot;Urdu (India)&quot;), NULL, 0, 0, (void *) 0x820, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1028 </span>            :     { (unichar_t *) N_(&quot;Uzbek (Latin)&quot;), NULL, 0, 0, (void *) 0x443, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1029 </span>            :     { (unichar_t *) N_(&quot;Uzbek (Cyrillic)&quot;), NULL, 0, 0, (void *) 0x843, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1030 </span>            :     { (unichar_t *) N_(&quot;Venda&quot;), NULL, 0, 0, (void *) 0x433, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1031 </span>            :     { (unichar_t *) N_(&quot;Vietnamese&quot;), NULL, 0, 0, (void *) 0x42a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1032 </span>            :     { (unichar_t *) N_(&quot;Welsh&quot;), NULL, 0, 0, (void *) 0x452, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1033 </span>            :     { (unichar_t *) N_(&quot;Xhosa&quot;), NULL, 0, 0, (void *) 0x434, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1034 </span>            :     { (unichar_t *) N_(&quot;Lang|Yi&quot;), NULL, 0, 0, (void *) 0x478, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1035 </span>            :     { (unichar_t *) N_(&quot;Yiddish&quot;), NULL, 0, 0, (void *) 0x43d, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1036 </span>            :     { (unichar_t *) N_(&quot;Yoruba&quot;), NULL, 0, 0, (void *) 0x46a, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1037 </span>            :     { (unichar_t *) N_(&quot;Zulu&quot;), NULL, 0, 0, (void *) 0x435, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1038 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">    1039 </span>            : };
<span class="lineNum">    1040 </span>            : /* There is a similar list at the end of python.c, untranslated strings for */
<span class="lineNum">    1041 </span>            : /*  scripting use */
<span class="lineNum">    1042 </span>            : static GTextInfo ttfnameids[] = {
<span class="lineNum">    1043 </span>            : /* Put styles (docs call it subfamily) first because it is most likely to change */
<span class="lineNum">    1044 </span>            :     { (unichar_t *) N_(&quot;Styles (SubFamily)&quot;), NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1045 </span>            :     { (unichar_t *) N_(&quot;Copyright&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1046 </span>            :     { (unichar_t *) N_(&quot;Family&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1047 </span>            :     { (unichar_t *) N_(&quot;Fullname&quot;), NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1048 </span>            :     { (unichar_t *) N_(&quot;UniqueID&quot;), NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1049 </span>            :     { (unichar_t *) N_(&quot;Version&quot;), NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1050 </span>            : /* Don't give user access to PostScriptName, we set that elsewhere */
<span class="lineNum">    1051 </span>            :     { (unichar_t *) N_(&quot;Trademark&quot;), NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1052 </span>            :     { (unichar_t *) N_(&quot;Manufacturer&quot;), NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1053 </span>            :     { (unichar_t *) N_(&quot;Designer&quot;), NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1054 </span>            :     { (unichar_t *) N_(&quot;Descriptor&quot;), NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1055 </span>            :     { (unichar_t *) N_(&quot;Vendor URL&quot;), NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1056 </span>            :     { (unichar_t *) N_(&quot;Designer URL&quot;), NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1057 </span>            :     { (unichar_t *) N_(&quot;License&quot;), NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1058 </span>            :     { (unichar_t *) N_(&quot;License URL&quot;), NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1059 </span>            : /* slot 15 is reserved */
<span class="lineNum">    1060 </span>            :     { (unichar_t *) N_(&quot;Preferred Family&quot;), NULL, 0, 0, (void *) 16, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1061 </span>            :     { (unichar_t *) N_(&quot;Preferred Styles&quot;), NULL, 0, 0, (void *) 17, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1062 </span>            :     { (unichar_t *) N_(&quot;Compatible Full&quot;), NULL, 0, 0, (void *) 18, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1063 </span>            :     { (unichar_t *) N_(&quot;Sample Text&quot;), NULL, 0, 0, (void *) 19, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1064 </span>            :     { (unichar_t *) N_(&quot;CID findfont Name&quot;), NULL, 0, 0, (void *) 20, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1065 </span>            :     { (unichar_t *) N_(&quot;WWS Family&quot;), NULL, 0, 0, (void *) 21, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1066 </span>            :     { (unichar_t *) N_(&quot;WWS Subfamily&quot;), NULL, 0, 0, (void *) 22, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1067 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">    1068 </span>            : };
<span class="lineNum">    1069 </span>            : static GTextInfo otfssfeattags[] = {
<span class="lineNum">    1070 </span>            : /* These should not be translated. They are tags */
<span class="lineNum">    1071 </span>            :     { (unichar_t *) &quot;ss01&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','0','1'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1072 </span>            :     { (unichar_t *) &quot;ss02&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','0','2'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1073 </span>            :     { (unichar_t *) &quot;ss03&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','0','3'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1074 </span>            :     { (unichar_t *) &quot;ss04&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','0','4'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1075 </span>            :     { (unichar_t *) &quot;ss05&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','0','5'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1076 </span>            :     { (unichar_t *) &quot;ss06&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','0','6'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1077 </span>            :     { (unichar_t *) &quot;ss07&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','0','7'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1078 </span>            :     { (unichar_t *) &quot;ss08&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','0','8'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1079 </span>            :     { (unichar_t *) &quot;ss09&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','0','9'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1080 </span>            :     { (unichar_t *) &quot;ss10&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','1','0'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1081 </span>            :     { (unichar_t *) &quot;ss11&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','1','1'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1082 </span>            :     { (unichar_t *) &quot;ss12&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','1','2'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1083 </span>            :     { (unichar_t *) &quot;ss13&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','1','3'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1084 </span>            :     { (unichar_t *) &quot;ss14&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','1','4'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1085 </span>            :     { (unichar_t *) &quot;ss15&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','1','5'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1086 </span>            :     { (unichar_t *) &quot;ss16&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','1','6'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1087 </span>            :     { (unichar_t *) &quot;ss17&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','1','7'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1088 </span>            :     { (unichar_t *) &quot;ss18&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','1','8'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1089 </span>            :     { (unichar_t *) &quot;ss19&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','1','9'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1090 </span>            :     { (unichar_t *) &quot;ss20&quot;, NULL, 0, 0, (void *) (intpt) CHR('s','s','2','0'), NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1091 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">    1092 </span>            : };
<span class="lineNum">    1093 </span>            : /* Put styles (docs call it subfamily) first because it is most likely to change */
<span class="lineNum">    1094 </span>            : static GTextInfo unicoderangenames[] = {
<span class="lineNum">    1095 </span>            :     { (unichar_t *) N_(&quot;Basic Latin&quot;),                                NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1096 </span>            :     { (unichar_t *) N_(&quot;Latin-1 Supplement&quot;),                 NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1097 </span>            :     { (unichar_t *) N_(&quot;Latin Extended-A&quot;),                   NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1098 </span>            :     { (unichar_t *) N_(&quot;Latin Extended-B&quot;),                   NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1099 </span>            :     { (unichar_t *) N_(&quot;IPA Extensions&quot;),                     NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1100 </span>            :     { (unichar_t *) N_(&quot;Spacing Modifier Letters&quot;),           NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1101 </span>            :     { (unichar_t *) N_(&quot;Combining Diacritical Marks&quot;),                NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1102 </span>            :     { (unichar_t *) N_(&quot;Greek and Coptic&quot;),                   NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1103 </span>            :     { (unichar_t *) N_(&quot;Coptic&quot;),                             NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1104 </span>            :     { (unichar_t *) N_(&quot;Cyrillic &amp; Supplement&quot;),          NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1105 </span>            :     { (unichar_t *) N_(&quot;Armenian&quot;),                           NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1106 </span>            :     { (unichar_t *) N_(&quot;Hebrew&quot;),                             NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1107 </span>            :     { (unichar_t *) N_(&quot;Vai&quot;),                                        NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1108 </span>            :     { (unichar_t *) N_(&quot;Arabic&quot;),                             NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1109 </span>            :     { (unichar_t *) N_(&quot;N'Ko&quot;),                                       NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1110 </span>            :     { (unichar_t *) N_(&quot;Devanagari&quot;),                         NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1111 </span>            :     { (unichar_t *) N_(&quot;Bengali&quot;),                            NULL, 0, 0, (void *) 16, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1112 </span>            :     { (unichar_t *) N_(&quot;Gurmukhi&quot;),                           NULL, 0, 0, (void *) 17, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1113 </span>            :     { (unichar_t *) N_(&quot;Gujarati&quot;),                           NULL, 0, 0, (void *) 18, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1114 </span>            :     { (unichar_t *) N_(&quot;Oriya&quot;),                              NULL, 0, 0, (void *) 19, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1115 </span>            :     { (unichar_t *) N_(&quot;Tamil&quot;),                              NULL, 0, 0, (void *) 20, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1116 </span>            :     { (unichar_t *) N_(&quot;Telugu&quot;),                             NULL, 0, 0, (void *) 21, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1117 </span>            :     { (unichar_t *) N_(&quot;Kannada&quot;),                            NULL, 0, 0, (void *) 22, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1118 </span>            :     { (unichar_t *) N_(&quot;Malayalam&quot;),                          NULL, 0, 0, (void *) 23, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1119 </span>            :     { (unichar_t *) N_(&quot;Thai&quot;),                                       NULL, 0, 0, (void *) 24, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1120 </span>            :     { (unichar_t *) N_(&quot;Lao&quot;),                                        NULL, 0, 0, (void *) 25, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1121 </span>            :     { (unichar_t *) N_(&quot;Georgian&quot;),                           NULL, 0, 0, (void *) 26, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1122 </span>            :     { (unichar_t *) N_(&quot;Balinese&quot;),                           NULL, 0, 0, (void *) 27, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1123 </span>            :     { (unichar_t *) N_(&quot;Hangul Jamo&quot;),                                NULL, 0, 0, (void *) 28, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1124 </span>            :     { (unichar_t *) N_(&quot;Latin Extended Additional&quot;),          NULL, 0, 0, (void *) 29, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1125 </span>            :     { (unichar_t *) N_(&quot;Greek Extended&quot;),                     NULL, 0, 0, (void *) 30, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1126 </span>            :     { (unichar_t *) N_(&quot;General Punctuation&quot;),                        NULL, 0, 0, (void *) 31, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1127 </span>            :     { (unichar_t *) N_(&quot;Subscripts and Superscripts&quot;),                NULL, 0, 0, (void *) 32, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1128 </span>            :     { (unichar_t *) N_(&quot;Currency Symbols&quot;),                   NULL, 0, 0, (void *) 33, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1129 </span>            :     { (unichar_t *) N_(&quot;Combining Diacritical Marks for Symbols&quot;), NULL, 0, 0, (void *) 34, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1130 </span>            :     { (unichar_t *) N_(&quot;Letterlike Symbols&quot;),                 NULL, 0, 0, (void *) 35, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1131 </span>            :     { (unichar_t *) N_(&quot;Numeric Forms&quot;),                      NULL, 0, 0, (void *) 36, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1132 </span>            :     { (unichar_t *) N_(&quot;Arrows (&amp; Supplements A&amp;B)&quot;),         NULL, 0, 0, (void *) 37, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1133 </span>            :     { (unichar_t *) N_(&quot;Mathematical Operators (Suppl. &amp; Misc.)&quot;), NULL, 0, 0, (void *) 38, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1134 </span>            :     { (unichar_t *) N_(&quot;Miscellaneous Technical&quot;),            NULL, 0, 0, (void *) 39, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1135 </span>            :     { (unichar_t *) N_(&quot;Control Pictures&quot;),                   NULL, 0, 0, (void *) 40, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1136 </span>            :     { (unichar_t *) N_(&quot;Optical Character Recognition&quot;),      NULL, 0, 0, (void *) 41, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1137 </span>            :     { (unichar_t *) N_(&quot;Enclosed Alphanumerics&quot;),             NULL, 0, 0, (void *) 42, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1138 </span>            :     { (unichar_t *) N_(&quot;Box Drawing&quot;),                                NULL, 0, 0, (void *) 43, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1139 </span>            :     { (unichar_t *) N_(&quot;Block Elements&quot;),                     NULL, 0, 0, (void *) 44, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1140 </span>            :     { (unichar_t *) N_(&quot;Geometric Shapes&quot;),                   NULL, 0, 0, (void *) 45, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1141 </span>            :     { (unichar_t *) N_(&quot;Miscellaneous Symbols&quot;),              NULL, 0, 0, (void *) 46, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1142 </span>            :     { (unichar_t *) N_(&quot;Dingbats&quot;),                           NULL, 0, 0, (void *) 47, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1143 </span>            :     { (unichar_t *) N_(&quot;CJK Symbols and Punctuation&quot;),                NULL, 0, 0, (void *) 48, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1144 </span>            :     { (unichar_t *) N_(&quot;Hiragana&quot;),                           NULL, 0, 0, (void *) 49, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1145 </span>            :     { (unichar_t *) N_(&quot;Katakana &amp; Phonetic Extensions&quot;), NULL, 0, 0, (void *) 50, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1146 </span>            :     { (unichar_t *) N_(&quot;Bopomofo &amp; Extended&quot;),                    NULL, 0, 0, (void *) 51, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1147 </span>            :     { (unichar_t *) N_(&quot;Hangul Compatibility Jamo&quot;),          NULL, 0, 0, (void *) 52, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1148 </span>            :     { (unichar_t *) N_(&quot;Phags-pa&quot;),                           NULL, 0, 0, (void *) 53, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1149 </span>            :     { (unichar_t *) N_(&quot;Enclosed CJK Letters and Months&quot;),    NULL, 0, 0, (void *) 54, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1150 </span>            :     { (unichar_t *) N_(&quot;CJK Compatibility&quot;),                  NULL, 0, 0, (void *) 55, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1151 </span>            :     { (unichar_t *) N_(&quot;Hangul Syllables&quot;),                   NULL, 0, 0, (void *) 56, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1152 </span>            :     { (unichar_t *) N_(&quot;Non-Basic Multilingual Plane&quot;),               NULL, 0, 0, (void *) 57, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1153 </span>            :     { (unichar_t *) N_(&quot;Phoenician&quot;),                         NULL, 0, 0, (void *) 58, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1154 </span>            :     { (unichar_t *) N_(&quot;CJK Unified Ideographs&quot;),             NULL, 0, 0, (void *) 59, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1155 </span>            :                 /* And too much other stuff to put in this string */
<span class="lineNum">    1156 </span>            :     { (unichar_t *) N_(&quot;Private Use Area&quot;),                   NULL, 0, 0, (void *) 60, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1157 </span>            :     { (unichar_t *) N_(&quot;CJK Compatibility Ideographs&quot;),               NULL, 0, 0, (void *) 61, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1158 </span>            :     { (unichar_t *) N_(&quot;Alphabetic Presentation Forms&quot;),      NULL, 0, 0, (void *) 62, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1159 </span>            :     { (unichar_t *) N_(&quot;Arabic Presentation Forms-A&quot;),                NULL, 0, 0, (void *) 63, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1160 </span>            :     { (unichar_t *) N_(&quot;Combining Half Marks&quot;),                       NULL, 0, 0, (void *) 64, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1161 </span>            :     { (unichar_t *) N_(&quot;CJK Compatibility Forms&quot;),            NULL, 0, 0, (void *) 65, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1162 </span>            :     { (unichar_t *) N_(&quot;Small Form Variants&quot;),                        NULL, 0, 0, (void *) 66, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1163 </span>            :     { (unichar_t *) N_(&quot;Arabic Presentation Forms-B&quot;),                NULL, 0, 0, (void *) 67, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1164 </span>            :     { (unichar_t *) N_(&quot;Halfwidth and Fullwidth Forms&quot;),      NULL, 0, 0, (void *) 68, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1165 </span>            :     { (unichar_t *) N_(&quot;Specials&quot;),                           NULL, 0, 0, (void *) 69, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1166 </span>            :     { (unichar_t *) N_(&quot;Tibetan&quot;),                            NULL, 0, 0, (void *) 70, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1167 </span>            :     { (unichar_t *) N_(&quot;Syriac&quot;),                             NULL, 0, 0, (void *) 71, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1168 </span>            :     { (unichar_t *) N_(&quot;Thaana&quot;),                             NULL, 0, 0, (void *) 72, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1169 </span>            :     { (unichar_t *) N_(&quot;Sinhala&quot;),                            NULL, 0, 0, (void *) 73, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1170 </span>            :     { (unichar_t *) N_(&quot;Myanmar&quot;),                            NULL, 0, 0, (void *) 74, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1171 </span>            :     { (unichar_t *) N_(&quot;Ethiopic&quot;),                           NULL, 0, 0, (void *) 75, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1172 </span>            :     { (unichar_t *) N_(&quot;Cherokee&quot;),                           NULL, 0, 0, (void *) 76, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1173 </span>            :     { (unichar_t *) N_(&quot;Unified Canadian Aboriginal Syllabics&quot;),NULL, 0, 0, (void *) 77, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1174 </span>            :     { (unichar_t *) N_(&quot;Ogham&quot;),                              NULL, 0, 0, (void *) 78, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1175 </span>            :     { (unichar_t *) N_(&quot;Runic&quot;),                              NULL, 0, 0, (void *) 79, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1176 </span>            :     { (unichar_t *) N_(&quot;Khmer&quot;),                              NULL, 0, 0, (void *) 80, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1177 </span>            :     { (unichar_t *) N_(&quot;Mongolian&quot;),                          NULL, 0, 0, (void *) 81, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1178 </span>            :     { (unichar_t *) N_(&quot;Braille Patterns&quot;),                   NULL, 0, 0, (void *) 82, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1179 </span>            :     { (unichar_t *) N_(&quot;Yi Syllables/Radicals&quot;),              NULL, 0, 0, (void *) 83, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1180 </span>            :     { (unichar_t *) N_(&quot;Tagalog/Hanunno/Buhid/Tagbanwa&quot;),     NULL, 0, 0, (void *) 84, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1181 </span>            :     { (unichar_t *) N_(&quot;Old Italic&quot;),                         NULL, 0, 0, (void *) 85, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1182 </span>            :     { (unichar_t *) N_(&quot;Gothic&quot;),                             NULL, 0, 0, (void *) 86, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1183 </span>            :     { (unichar_t *) N_(&quot;Deseret&quot;),                            NULL, 0, 0, (void *) 87, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1184 </span>            :     { (unichar_t *) N_(&quot;Musical Symbols, Byzantine &amp; Western&quot;), NULL, 0, 0, (void *) 88, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1185 </span>            :     { (unichar_t *) N_(&quot;Mathematical Alphanumeric Symbols&quot;),  NULL, 0, 0, (void *) 89, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1186 </span>            :     { (unichar_t *) N_(&quot;Private Use (planes 15&amp;16)&quot;),             NULL, 0, 0, (void *) 90, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1187 </span>            :     { (unichar_t *) N_(&quot;Variation Selectors&quot;),                        NULL, 0, 0, (void *) 91, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1188 </span>            :     { (unichar_t *) N_(&quot;Tags&quot;),                                       NULL, 0, 0, (void *) 92, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1189 </span>            :     { (unichar_t *) N_(&quot;Limbu&quot;),                              NULL, 0, 0, (void *) 93, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1190 </span>            :     { (unichar_t *) N_(&quot;Tai Le&quot;),                             NULL, 0, 0, (void *) 94, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1191 </span>            :     { (unichar_t *) N_(&quot;New Tai Lue&quot;),                                NULL, 0, 0, (void *) 95, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1192 </span>            :     { (unichar_t *) N_(&quot;Buginese&quot;),                           NULL, 0, 0, (void *) 96, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1193 </span>            :     { (unichar_t *) N_(&quot;Glagolitic&quot;),                         NULL, 0, 0, (void *) 97, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1194 </span>            :     { (unichar_t *) N_(&quot;Tifinagh&quot;),                           NULL, 0, 0, (void *) 98, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1195 </span>            :     { (unichar_t *) N_(&quot;Yijing Hexagram Symbols&quot;),            NULL, 0, 0, (void *) 99, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1196 </span>            :     { (unichar_t *) N_(&quot;Syloti Nagri&quot;),                               NULL, 0, 0, (void *) 100, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1197 </span>            :     { (unichar_t *) N_(&quot;Linear B Syllabary/Ideograms, Agean Num.&quot;),   NULL, 0, 0, (void *) 101, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1198 </span>            :     { (unichar_t *) N_(&quot;Ancient Greek Numbers&quot;),              NULL, 0, 0, (void *) 102, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1199 </span>            :     { (unichar_t *) N_(&quot;Ugaritic&quot;),                           NULL, 0, 0, (void *) 103, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1200 </span>            :     { (unichar_t *) N_(&quot;Old Persian&quot;),                                NULL, 0, 0, (void *) 104, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1201 </span>            :     { (unichar_t *) N_(&quot;Shavian&quot;),                            NULL, 0, 0, (void *) 105, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1202 </span>            :     { (unichar_t *) N_(&quot;Osmanya&quot;),                            NULL, 0, 0, (void *) 106, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1203 </span>            :     { (unichar_t *) N_(&quot;Cypriot Syllabary&quot;),                  NULL, 0, 0, (void *) 107, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1204 </span>            :     { (unichar_t *) N_(&quot;Kharoshthi&quot;),                         NULL, 0, 0, (void *) 108, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1205 </span>            :     { (unichar_t *) N_(&quot;Tai Xuan Jing Symbols&quot;),              NULL, 0, 0, (void *) 109, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1206 </span>            :     { (unichar_t *) N_(&quot;Cuneiform Numbers &amp; Punctuation&quot;),        NULL, 0, 0, (void *) 110, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1207 </span>            :     { (unichar_t *) N_(&quot;Counting Rod Numerals&quot;),              NULL, 0, 0, (void *) 111, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1208 </span>            :     { (unichar_t *) N_(&quot;Sudanese&quot;),                           NULL, 0, 0, (void *) 112, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1209 </span>            :     { (unichar_t *) N_(&quot;Lepcha&quot;),                             NULL, 0, 0, (void *) 113, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1210 </span>            :     { (unichar_t *) N_(&quot;Ol Chiki&quot;),                           NULL, 0, 0, (void *) 114, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1211 </span>            :     { (unichar_t *) N_(&quot;Saurashtra&quot;),                         NULL, 0, 0, (void *) 115, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1212 </span>            :     { (unichar_t *) N_(&quot;Kayah Li&quot;),                           NULL, 0, 0, (void *) 116, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1213 </span>            :     { (unichar_t *) N_(&quot;Rejang&quot;),                             NULL, 0, 0, (void *) 117, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1214 </span>            :     { (unichar_t *) N_(&quot;Cham&quot;),                                       NULL, 0, 0, (void *) 118, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1215 </span>            :     { (unichar_t *) N_(&quot;Ancient Symbols&quot;),                    NULL, 0, 0, (void *) 119, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1216 </span>            :     { (unichar_t *) N_(&quot;Phaistos Disc&quot;),                      NULL, 0, 0, (void *) 120, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1217 </span>            :     { (unichar_t *) N_(&quot;Carian/Lycian/Lydian&quot;),                       NULL, 0, 0, (void *) 121, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1218 </span>            :     { (unichar_t *) N_(&quot;Mahjong &amp; Domino Tiles&quot;),         NULL, 0, 0, (void *) 122, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1219 </span>            :     { (unichar_t *) N_(&quot;Unassigned Bit 123&quot;),                 NULL, 0, 0, (void *) 123, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1220 </span>            :     { (unichar_t *) N_(&quot;Unassigned Bit 124&quot;),                 NULL, 0, 0, (void *) 124, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1221 </span>            :     { (unichar_t *) N_(&quot;Unassigned Bit 125&quot;),                 NULL, 0, 0, (void *) 125, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1222 </span>            :     { (unichar_t *) N_(&quot;Unassigned Bit 126&quot;),                 NULL, 0, 0, (void *) 126, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1223 </span>            :     { (unichar_t *) N_(&quot;Unassigned Bit 127&quot;),                 NULL, 0, 0, (void *) 127, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1224 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">    1225 </span>            : };
<span class="lineNum">    1226 </span>            : static GTextInfo codepagenames[] = {
<span class="lineNum">    1227 </span>            :     { (unichar_t *) N_(&quot;1252, Latin-1&quot;),                      NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1228 </span>            :     { (unichar_t *) N_(&quot;1250, Latin-2 (Eastern Europe)&quot;),     NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1229 </span>            :     { (unichar_t *) N_(&quot;1251, Cyrillic&quot;),                     NULL, 0, 0, (void *) 2, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1230 </span>            :     { (unichar_t *) N_(&quot;1253, Greek&quot;),                                NULL, 0, 0, (void *) 3, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1231 </span>            :     { (unichar_t *) N_(&quot;1254, Turkish&quot;),                      NULL, 0, 0, (void *) 4, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1232 </span>            :     { (unichar_t *) N_(&quot;1255, Hebrew&quot;),                               NULL, 0, 0, (void *) 5, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1233 </span>            :     { (unichar_t *) N_(&quot;1256, Arabic&quot;),                               NULL, 0, 0, (void *) 6, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1234 </span>            :     { (unichar_t *) N_(&quot;1257, Windows Baltic&quot;),                       NULL, 0, 0, (void *) 7, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1235 </span>            :     { (unichar_t *) N_(&quot;1258, Vietnamese&quot;),                   NULL, 0, 0, (void *) 8, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1236 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 9&quot;),                     NULL, 0, 0, (void *) 9, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1237 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 10&quot;),                    NULL, 0, 0, (void *) 10, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1238 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 11&quot;),                    NULL, 0, 0, (void *) 11, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1239 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 12&quot;),                    NULL, 0, 0, (void *) 12, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1240 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 13&quot;),                    NULL, 0, 0, (void *) 13, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1241 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 14&quot;),                    NULL, 0, 0, (void *) 14, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1242 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 15&quot;),                    NULL, 0, 0, (void *) 15, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1243 </span>            :     { (unichar_t *) N_(&quot;874, Thai&quot;),                          NULL, 0, 0, (void *) 16, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1244 </span>            :     { (unichar_t *) N_(&quot;932, JIS/Japan&quot;),                     NULL, 0, 0, (void *) 17, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1245 </span>            :     { (unichar_t *) N_(&quot;936, Simplified Chinese&quot;),            NULL, 0, 0, (void *) 18, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1246 </span>            :     { (unichar_t *) N_(&quot;949, Korean Wansung&quot;),                        NULL, 0, 0, (void *) 19, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1247 </span>            :     { (unichar_t *) N_(&quot;950, Traditional Chinese&quot;),           NULL, 0, 0, (void *) 20, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1248 </span>            :     { (unichar_t *) N_(&quot;1361, Korean Johab&quot;),                 NULL, 0, 0, (void *) 21, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1249 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 22&quot;),                    NULL, 0, 0, (void *) 22, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1250 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 23&quot;),                    NULL, 0, 0, (void *) 23, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1251 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 24&quot;),                    NULL, 0, 0, (void *) 24, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1252 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 25&quot;),                    NULL, 0, 0, (void *) 25, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1253 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 26&quot;),                    NULL, 0, 0, (void *) 26, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1254 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 27&quot;),                    NULL, 0, 0, (void *) 27, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1255 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 28&quot;),                    NULL, 0, 0, (void *) 28, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1256 </span>            :     { (unichar_t *) N_(&quot;Mac Roman&quot;),                          NULL, 0, 0, (void *) 29, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1257 </span>            :     { (unichar_t *) N_(&quot;OEM Charset&quot;),                                NULL, 0, 0, (void *) 30, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1258 </span>            :     { (unichar_t *) N_(&quot;Symbol Charset&quot;),                     NULL, 0, 0, (void *) 31, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1259 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 32&quot;),                    NULL, 0, 0, (void *) 32, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1260 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 33&quot;),                    NULL, 0, 0, (void *) 33, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1261 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 34&quot;),                    NULL, 0, 0, (void *) 34, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1262 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 35&quot;),                    NULL, 0, 0, (void *) 35, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1263 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 36&quot;),                    NULL, 0, 0, (void *) 36, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1264 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 37&quot;),                    NULL, 0, 0, (void *) 37, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1265 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 38&quot;),                    NULL, 0, 0, (void *) 38, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1266 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 39&quot;),                    NULL, 0, 0, (void *) 39, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1267 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 40&quot;),                    NULL, 0, 0, (void *) 40, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1268 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 41&quot;),                    NULL, 0, 0, (void *) 41, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1269 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 42&quot;),                    NULL, 0, 0, (void *) 42, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1270 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 43&quot;),                    NULL, 0, 0, (void *) 43, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1271 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 44&quot;),                    NULL, 0, 0, (void *) 44, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1272 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 45&quot;),                    NULL, 0, 0, (void *) 45, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1273 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 46&quot;),                    NULL, 0, 0, (void *) 46, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1274 </span>            :     { (unichar_t *) N_(&quot;Reserved Bit 47&quot;),                    NULL, 0, 0, (void *) 47, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1275 </span>            :     { (unichar_t *) N_(&quot;869, IBM Greek&quot;),                     NULL, 0, 0, (void *) 48, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1276 </span>            :     { (unichar_t *) N_(&quot;866, MS-DOS Russian&quot;),                        NULL, 0, 0, (void *) 49, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1277 </span>            :     { (unichar_t *) N_(&quot;865, MS_DOS Nordic&quot;),                 NULL, 0, 0, (void *) 50, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1278 </span>            :     { (unichar_t *) N_(&quot;864, Arabic&quot;),                                NULL, 0, 0, (void *) 51, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1279 </span>            :     { (unichar_t *) N_(&quot;863, MS-DOS Canadian French&quot;),                NULL, 0, 0, (void *) 52, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1280 </span>            :     { (unichar_t *) N_(&quot;862, Hebrew&quot;),                                NULL, 0, 0, (void *) 53, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1281 </span>            :     { (unichar_t *) N_(&quot;861, MS-DOS Icelandic&quot;),              NULL, 0, 0, (void *) 54, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1282 </span>            :     { (unichar_t *) N_(&quot;860, MS-DOS Portuguese&quot;),             NULL, 0, 0, (void *) 55, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1283 </span>            :     { (unichar_t *) N_(&quot;857, IBM Turkish&quot;),                   NULL, 0, 0, (void *) 56, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1284 </span>            :     { (unichar_t *) N_(&quot;855, IBM Cyrillic; primarily Russian&quot;),       NULL, 0, 0, (void *) 57, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1285 </span>            :     { (unichar_t *) N_(&quot;852, Latin 2&quot;),                               NULL, 0, 0, (void *) 58, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1286 </span>            :     { (unichar_t *) N_(&quot;775, MS-DOS Baltic&quot;),                 NULL, 0, 0, (void *) 59, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1287 </span>            :     { (unichar_t *) N_(&quot;737, Greek; former 437 G&quot;),           NULL, 0, 0, (void *) 60, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1288 </span>            :     { (unichar_t *) N_(&quot;708, Arabic ASMO 708&quot;),                       NULL, 0, 0, (void *) 61, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1289 </span>            :     { (unichar_t *) N_(&quot;850, WE/Latin 1&quot;),                    NULL, 0, 0, (void *) 62, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1290 </span>            :     { (unichar_t *) N_(&quot;437, US&quot;),                            NULL, 0, 0, (void *) 63, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1291 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">    1292 </span>            : };
<span class="lineNum">    1293 </span>            : static char *TN_DefaultName(GGadget *g, int r, int c);
<span class="lineNum">    1294 </span>            : static void TN_StrIDEnable(GGadget *g,GMenuItem *mi, int r, int c);
<span class="lineNum">    1295 </span>            : static void TN_LangEnable(GGadget *g,GMenuItem *mi, int r, int c);
<span class="lineNum">    1296 </span>            : static struct col_init ci[] = {
<span class="lineNum">    1297 </span>            :     { me_enum, NULL, mslanguages, TN_LangEnable, N_(&quot;Language&quot;) },
<span class="lineNum">    1298 </span>            :     { me_enum, NULL, ttfnameids, TN_StrIDEnable, N_(&quot;String ID&quot;) },
<span class="lineNum">    1299 </span>            :     { me_func, TN_DefaultName, NULL, NULL, N_(&quot;String&quot;) }
<span class="lineNum">    1300 </span>            : };
<span class="lineNum">    1301 </span>            : static struct col_init ssci[] = {
<span class="lineNum">    1302 </span>            :     { me_enum, NULL, mslanguages, NULL, N_(&quot;Language&quot;) },
<span class="lineNum">    1303 </span>            :     { me_enum, NULL, otfssfeattags, NULL, N_(&quot;Feature Tags&quot;) },
<span class="lineNum">    1304 </span>            :     { me_string, NULL, NULL, NULL, N_(&quot;Friendly Name&quot;) }
<span class="lineNum">    1305 </span>            : };
<span class="lineNum">    1306 </span>            : static struct col_init sizeci[] = {
<span class="lineNum">    1307 </span>            :     { me_enum, NULL, mslanguages, NULL, N_(&quot;Language&quot;) },
<span class="lineNum">    1308 </span>            :     { me_string, NULL, NULL, NULL, N_(&quot;Name&quot;) }
<span class="lineNum">    1309 </span>            : };
<span class="lineNum">    1310 </span>            : static GTextInfo gridfit[] = {
<span class="lineNum">    1311 </span>            :     { (unichar_t *) N_(&quot;No Grid Fit&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1312 </span>            :     { (unichar_t *) N_(&quot;Grid Fit&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1313 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">    1314 </span>            : };
<span class="lineNum">    1315 </span>            : static GTextInfo antialias[] = {
<span class="lineNum">    1316 </span>            :     { (unichar_t *) N_(&quot;No Anti-Alias&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1317 </span>            :     { (unichar_t *) N_(&quot;Anti-Alias&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1318 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">    1319 </span>            : };
<span class="lineNum">    1320 </span>            : static GTextInfo symsmooth[] = {
<span class="lineNum">    1321 </span>            :     { (unichar_t *) N_(&quot;No Symmetric-Smooth&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1322 </span>            :     { (unichar_t *) N_(&quot;Symmetric-Smoothing&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1323 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">    1324 </span>            : };
<span class="lineNum">    1325 </span>            : static GTextInfo gfsymsmooth[] = {
<span class="lineNum">    1326 </span>            :     { (unichar_t *) N_(&quot;No Grid Fit w/ Sym-Smooth&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1327 </span>            :     { (unichar_t *) N_(&quot;Grid Fit w/ Sym-Smooth&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1328 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">    1329 </span>            : };
<span class="lineNum">    1330 </span>            : static struct col_init gaspci[] = {
<span class="lineNum">    1331 </span>            :     { me_int , NULL, NULL, NULL, N_(&quot;Gasp|For Pixels Per EM &lt;= Value&quot;) },
<span class="lineNum">    1332 </span>            :     { me_enum, NULL, gridfit, NULL, N_(&quot;Gasp|Grid Fit&quot;) },                    /* 1 */
<span class="lineNum">    1333 </span>            :     { me_enum, NULL, antialias, NULL, N_(&quot;Gasp|Anti-Alias&quot;) },                        /* 2 */
<span class="lineNum">    1334 </span>            :     { me_enum, NULL, symsmooth, NULL, N_(&quot;Gasp|Symmetric Smoothing&quot;) },               /* 8 */
<span class="lineNum">    1335 </span>            :     { me_enum, NULL, gfsymsmooth, NULL, N_(&quot;Gasp|Grid Fit w/ Sym Smooth&quot;) }   /* 4 */
<span class="lineNum">    1336 </span>            : };
<span class="lineNum">    1337 </span>            : static GTextInfo splineorder[] = {
<span class="lineNum">    1338 </span>            :     { (unichar_t *) N_(&quot;Cubic&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1339 </span>            :     { (unichar_t *) N_(&quot;Quadratic&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1340 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">    1341 </span>            : };
<span class="lineNum">    1342 </span>            : static GTextInfo layertype[] = {
<span class="lineNum">    1343 </span>            :     { (unichar_t *) N_(&quot;Layer|Foreground&quot;), NULL, 0, 0, (void *) 0, NULL, 0, 0, 0, 0, 1, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1344 </span>            :     { (unichar_t *) N_(&quot;Layer|Background&quot;), NULL, 0, 0, (void *) 1, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1345 </span>            :     GTEXTINFO_EMPTY
<span class="lineNum">    1346 </span>            : };
<span class="lineNum">    1347 </span>            : static void Layers_BackgroundEnable(GGadget *g,GMenuItem *mi, int r, int c);
<span class="lineNum">    1348 </span>            : static struct col_init layersci[] = {
<span class="lineNum">    1349 </span>            :     { me_string, NULL, NULL, NULL, N_(&quot;Layer Name&quot;) },
<span class="lineNum">    1350 </span>            :     { me_enum  , NULL, splineorder, NULL, N_(&quot;Curve Type&quot;) },
<span class="lineNum">    1351 </span>            :     { me_enum  , NULL, layertype, Layers_BackgroundEnable, N_(&quot;Type&quot;) },
<span class="lineNum">    1352 </span>            :     { me_int   , NULL, NULL, NULL, N_(&quot;Orig layer&quot;) }
<span class="lineNum">    1353 </span>            : };
<span class="lineNum">    1354 </span>            : static char *GFI_Mark_PickGlyphsForClass(GGadget *g,int r, int c);
<span class="lineNum">    1355 </span>            : static struct col_init marks_ci[] = {
<span class="lineNum">    1356 </span>            :     { me_string, NULL, NULL, NULL, N_(&quot;Set Name&quot;) },
<span class="lineNum">    1357 </span>            :     { me_funcedit, GFI_Mark_PickGlyphsForClass, NULL, NULL, N_(&quot;Glyphs in the set&quot;) },
<span class="lineNum">    1358 </span>            : };
<span class="lineNum">    1359 </span>            : static struct col_init markc_ci[] = {
<span class="lineNum">    1360 </span>            :     { me_string, NULL, NULL, NULL, N_(&quot;Class Name&quot;) },
<span class="lineNum">    1361 </span>            :     { me_funcedit, GFI_Mark_PickGlyphsForClass, NULL, NULL, N_(&quot;Glyphs in the class&quot;) },
<span class="lineNum">    1362 </span>            : };
<span class="lineNum">    1363 </span>            : 
<span class="lineNum">    1364 </span>            : struct langstyle { int lang; const char *str; };
<span class="lineNum">    1365 </span>            : #define LANGSTYLE_EMPTY { 0, NULL }
<span class="lineNum">    1366 </span>            : 
<span class="lineNum">    1367 </span>            : static const char regulareng[] = &quot;Regular&quot;;
<span class="lineNum">    1368 </span>            : static const char demiboldeng[] = &quot;DemiBold&quot;;
<span class="lineNum">    1369 </span>            : static const char demiboldeng3[] = &quot;Demi&quot;;
<span class="lineNum">    1370 </span>            : static const char demiboldeng5[] = &quot;SemiBold&quot;;
<span class="lineNum">    1371 </span>            : static const char boldeng[] = &quot;Bold&quot;;
<span class="lineNum">    1372 </span>            : static const char thineng[] = &quot;Thin&quot;;
<span class="lineNum">    1373 </span>            : static const char lighteng[] = &quot;Light&quot;;
<span class="lineNum">    1374 </span>            : static const char extralighteng[] = &quot;ExtraLight&quot;;
<span class="lineNum">    1375 </span>            : static const char extralighteng2[] = &quot;VeryLight&quot;;
<span class="lineNum">    1376 </span>            : static const char mediumeng[] = &quot;Medium&quot;;
<span class="lineNum">    1377 </span>            : static const char bookeng[] = &quot;Book&quot;;
<span class="lineNum">    1378 </span>            : static const char heavyeng[] = &quot;Heavy&quot;;
<span class="lineNum">    1379 </span>            : static const char blackeng[] = &quot;Black&quot;;
<span class="lineNum">    1380 </span>            : static const char italiceng[] = &quot;Italic&quot;;
<span class="lineNum">    1381 </span>            : static const char obliqueeng[] = &quot;Oblique&quot;;
<span class="lineNum">    1382 </span>            : static const char condensedeng[] = &quot;Condensed&quot;;
<span class="lineNum">    1383 </span>            : static const char expandedeng[] = &quot;Expanded&quot;;
<span class="lineNum">    1384 </span>            : static const char outlineeng[] = &quot;Outline&quot;;
<span class="lineNum">    1385 </span>            : 
<span class="lineNum">    1386 </span>            : static const char regularfren[] = &quot;Normal&quot;;
<span class="lineNum">    1387 </span>            : static const char boldfren[] = &quot;Gras&quot;;
<span class="lineNum">    1388 </span>            : static const char demiboldfren[] = &quot;DemiGras&quot;;
<span class="lineNum">    1389 </span>            : static const char demiboldfren2[] = &quot;Demi&quot;;
<span class="lineNum">    1390 </span>            : static const char mediumfren[] = &quot;Normal&quot;;
<span class="lineNum">    1391 </span>            : static const char lightfren[] = &quot;Maigre&quot;;
<span class="lineNum">    1392 </span>            : static const char blackfren[] = &quot;ExtraGras&quot;;
<span class="lineNum">    1393 </span>            : static const char italicfren[] = &quot;Italique&quot;;
<span class="lineNum">    1394 </span>            : static const char obliquefren[] = &quot;Oblique&quot;;
<span class="lineNum">    1395 </span>            : static const char condensedfren[] = &quot;Etroite&quot;;
<span class="lineNum">    1396 </span>            : static const char expandedfren[] = &quot;Elargi&quot;;
<span class="lineNum">    1397 </span>            : static const char outlinefren[] = &quot;Contour&quot;;
<span class="lineNum">    1398 </span>            : 
<span class="lineNum">    1399 </span>            : static const char regulargerm[] = &quot;Standard&quot;;
<span class="lineNum">    1400 </span>            : static const char demiboldgerm[] = &quot;Halbfett&quot;;
<span class="lineNum">    1401 </span>            : static const char demiboldgerm2[] = &quot;Schmallfett&quot;;
<span class="lineNum">    1402 </span>            : static const char boldgerm[] = &quot;Fett&quot;;
<span class="lineNum">    1403 </span>            : static const char boldgerm2[] = &quot;Dick&quot;;
<span class="lineNum">    1404 </span>            : static const char blackgerm[] = &quot;Schwarz&quot;;
<span class="lineNum">    1405 </span>            : static const char lightgerm[] = &quot;Mager&quot;;
<span class="lineNum">    1406 </span>            : static const char mediumgerm[] = &quot;Mittel&quot;;
<span class="lineNum">    1407 </span>            : static const char bookgerm[] = &quot;Buchschrift&quot;;
<span class="lineNum">    1408 </span>            : static const char italicgerm[] = &quot;Kursiv&quot;;
<span class="lineNum">    1409 </span>            : static const char obliquegerm[] = &quot;Schrg&quot;;
<span class="lineNum">    1410 </span>            : static const char condensedgerm[] = &quot;Schmal&quot;;
<span class="lineNum">    1411 </span>            : static const char expandedgerm[] = &quot;Breit&quot;;
<span class="lineNum">    1412 </span>            : static const char outlinegerm[] = &quot;Konturert&quot;;
<span class="lineNum">    1413 </span>            : 
<span class="lineNum">    1414 </span>            : static const char regularspan[] = &quot;Normal&quot;;
<span class="lineNum">    1415 </span>            : static const char boldspan[] = &quot;Negrita&quot;;
<span class="lineNum">    1416 </span>            : static const char lightspan[] = &quot;Fina&quot;;
<span class="lineNum">    1417 </span>            : static const char blackspan[] = &quot;Supernegra&quot;;
<span class="lineNum">    1418 </span>            : static const char italicspan[] = &quot;Cursiva&quot;;
<span class="lineNum">    1419 </span>            : static const char condensedspan[] = &quot;Condensada&quot;;
<span class="lineNum">    1420 </span>            : static const char expandedspan[] = &quot;Amplida&quot;;
<span class="lineNum">    1421 </span>            : 
<span class="lineNum">    1422 </span>            : static const char regulardutch[] = &quot;Normaal&quot;;
<span class="lineNum">    1423 </span>            : static const char mediumdutch[] = &quot;Gemiddeld&quot;;
<span class="lineNum">    1424 </span>            : static const char bookdutch[] = &quot;Boek&quot;;
<span class="lineNum">    1425 </span>            : static const char bolddutch[] = &quot;Vet&quot;;
<span class="lineNum">    1426 </span>            : static const char demibolddutch[] = &quot;Dik&quot;;
<span class="lineNum">    1427 </span>            : /*static const char demibolddutch[] = &quot;Halfvet&quot;;*/
<span class="lineNum">    1428 </span>            : static const char lightdutch[] = &quot;Licht&quot;;
<span class="lineNum">    1429 </span>            : /*static const char lightdutch[] = &quot;Licht mager&quot;;*/
<span class="lineNum">    1430 </span>            : static const char blackdutch[] = &quot;Extra vet&quot;;
<span class="lineNum">    1431 </span>            : static const char italicdutch[] = &quot;Cursief&quot;;
<span class="lineNum">    1432 </span>            : static const char italicdutch2[] = &quot;italiek&quot;;
<span class="lineNum">    1433 </span>            : static const char obliquedutch2[] = &quot;oblique&quot;;
<span class="lineNum">    1434 </span>            : static const char obliquedutch[] = &quot;Schuin&quot;;
<span class="lineNum">    1435 </span>            : static const char condenseddutch[] = &quot;Smal&quot;;
<span class="lineNum">    1436 </span>            : static const char expandeddutch[] = &quot;Breed&quot;;
<span class="lineNum">    1437 </span>            : static const char outlinedutch[] = &quot;Uitlijning&quot;;
<span class="lineNum">    1438 </span>            : /*static const char outlinedutch[] = &quot;Contour&quot;;*/
<span class="lineNum">    1439 </span>            : 
<span class="lineNum">    1440 </span>            : static const char regularswed[] = &quot;Mager&quot;;
<span class="lineNum">    1441 </span>            : static const char boldswed[] = &quot;Fet&quot;;
<span class="lineNum">    1442 </span>            : static const char lightswed[] = &quot;Extrafin&quot;;
<span class="lineNum">    1443 </span>            : static const char blackswed[] = &quot;Extrafet&quot;;
<span class="lineNum">    1444 </span>            : static const char italicswed[] = &quot;Kursiv&quot;;
<span class="lineNum">    1445 </span>            : static const char condensedswed[] = &quot;Smal&quot;;
<span class="lineNum">    1446 </span>            : static const char expandedswed[] = &quot;Bred&quot;;
<span class="lineNum">    1447 </span>            : 
<span class="lineNum">    1448 </span>            : static const char regulardanish[] = &quot;Normal&quot;;
<span class="lineNum">    1449 </span>            : static const char bolddanish[] = &quot;Fed&quot;;
<span class="lineNum">    1450 </span>            : static const char demibolddanish[] = &quot;Halvfed&quot;;
<span class="lineNum">    1451 </span>            : static const char lightdanish[] = &quot;Fin&quot;;
<span class="lineNum">    1452 </span>            : static const char mediumdanish[] = &quot;Medium&quot;;
<span class="lineNum">    1453 </span>            : static const char blackdanish[] = &quot;Extrafed&quot;;
<span class="lineNum">    1454 </span>            : static const char italicdanish[] = &quot;Kursiv&quot;;
<span class="lineNum">    1455 </span>            : static const char condenseddanish[] = &quot;Smal&quot;;
<span class="lineNum">    1456 </span>            : static const char expandeddanish[] = &quot;Bred&quot;;
<span class="lineNum">    1457 </span>            : static const char outlinedanish[] = &quot;Kontour&quot;;
<span class="lineNum">    1458 </span>            : 
<span class="lineNum">    1459 </span>            : static const char regularnor[] = &quot;Vanlig&quot;;
<span class="lineNum">    1460 </span>            : static const char boldnor[] = &quot;Halvfet&quot;;
<span class="lineNum">    1461 </span>            : static const char lightnor[] = &quot;Mager&quot;;
<span class="lineNum">    1462 </span>            : static const char blacknor[] = &quot;Fet&quot;;
<span class="lineNum">    1463 </span>            : static const char italicnor[] = &quot;Kursiv&quot;;
<span class="lineNum">    1464 </span>            : static const char condensednor[] = &quot;Smal&quot;;
<span class="lineNum">    1465 </span>            : static const char expandednor[] = &quot;Sperret&quot;;
<span class="lineNum">    1466 </span>            : 
<span class="lineNum">    1467 </span>            : static const char regularital[] = &quot;Normale&quot;;
<span class="lineNum">    1468 </span>            : static const char demiboldital[] = &quot;Nerretto&quot;;
<span class="lineNum">    1469 </span>            : static const char boldital[] = &quot;Nero&quot;;
<span class="lineNum">    1470 </span>            : static const char thinital[] = &quot;Fine&quot;;
<span class="lineNum">    1471 </span>            : static const char lightital[] = &quot;Chiaro&quot;;
<span class="lineNum">    1472 </span>            : static const char mediumital[] = &quot;Medio&quot;;
<span class="lineNum">    1473 </span>            : static const char bookital[] = &quot;Libro&quot;;
<span class="lineNum">    1474 </span>            : static const char heavyital[] = &quot;Nerissimo&quot;;
<span class="lineNum">    1475 </span>            : static const char blackital[] = &quot;ExtraNero&quot;;
<span class="lineNum">    1476 </span>            : static const char italicital[] = &quot;Cursivo&quot;;
<span class="lineNum">    1477 </span>            : static const char obliqueital[] = &quot;Obliquo&quot;;
<span class="lineNum">    1478 </span>            : static const char condensedital[] = &quot;Condensato&quot;;
<span class="lineNum">    1479 </span>            : static const char expandedital[] = &quot;Allargato&quot;;
<span class="lineNum">    1480 </span>            : 
<span class="lineNum">    1481 </span>            : static const char regularru[] = &quot;&quot;;
<span class="lineNum">    1482 </span>            : static const char demiboldru[] = &quot;&quot;;
<span class="lineNum">    1483 </span>            : static const char boldru[] = &quot;&quot;;
<span class="lineNum">    1484 </span>            : static const char heavyru[] = &quot;&quot;;
<span class="lineNum">    1485 </span>            : static const char blackru[] = &quot;&quot;;
<span class="lineNum">    1486 </span>            : static const char thinru[] = &quot;&quot;;
<span class="lineNum">    1487 </span>            : static const char lightru[] = &quot;&quot;;
<span class="lineNum">    1488 </span>            : static const char italicru[] = &quot;&quot;;
<span class="lineNum">    1489 </span>            : static const char obliqueru[] = &quot;&quot;;
<span class="lineNum">    1490 </span>            : static const char condensedru[] = &quot;&quot;;
<span class="lineNum">    1491 </span>            : static const char expandedru[] = &quot;&quot;;
<span class="lineNum">    1492 </span>            : 
<span class="lineNum">    1493 </span>            : static const char regularhu[] = &quot;Norml&quot;;
<span class="lineNum">    1494 </span>            : static const char demiboldhu[] = &quot;Negyedkvr&quot;;
<span class="lineNum">    1495 </span>            : static const char demiboldhu2[] = &quot;Flkvr&quot;;
<span class="lineNum">    1496 </span>            : static const char boldhu[] = &quot;Flkvr&quot;;
<span class="lineNum">    1497 </span>            : static const char boldhu2[] = &quot;Hromnegyedkvr&quot;;
<span class="lineNum">    1498 </span>            : static const char thinhu[] = &quot;Sovny&quot;;
<span class="lineNum">    1499 </span>            : static const char lighthu[] = &quot;Vilgos&quot;;
<span class="lineNum">    1500 </span>            : static const char mediumhu[] = &quot;Kzepes&quot;;
<span class="lineNum">    1501 </span>            : static const char bookhu[] = &quot;Halvny&quot;;
<span class="lineNum">    1502 </span>            : static const char bookhu2[] = &quot;Knyv&quot;;
<span class="lineNum">    1503 </span>            : static const char heavyhu[] = &quot;Kvr&quot;;
<span class="lineNum">    1504 </span>            : static const char heavyhu2[] = &quot;Extrakvr&quot;;
<span class="lineNum">    1505 </span>            : static const char blackhu[] = &quot;Fekete&quot;;
<span class="lineNum">    1506 </span>            : static const char blackhu2[] = &quot;Stt&quot;;
<span class="lineNum">    1507 </span>            : static const char italichu[] = &quot;Dlt&quot;;
<span class="lineNum">    1508 </span>            : static const char obliquehu[] = &quot;Dnttt&quot;;
<span class="lineNum">    1509 </span>            : static const char obliquehu2[] = &quot;Ferde&quot;;
<span class="lineNum">    1510 </span>            : static const char condensedhu[] = &quot;Keskeny&quot;;
<span class="lineNum">    1511 </span>            : static const char expandedhu[] = &quot;Szles&quot;;
<span class="lineNum">    1512 </span>            : static const char outlinehu[] = &quot;Kontros&quot;;
<span class="lineNum">    1513 </span>            : 
<span class="lineNum">    1514 </span>            : static const char regularpl[] = &quot;podstawowa&quot;;
<span class="lineNum">    1515 </span>            : static const char demiboldpl[] = &quot;pgruba&quot;;
<span class="lineNum">    1516 </span>            : static const char boldpl[] = &quot;pogrubiona&quot;;
<span class="lineNum">    1517 </span>            : static const char thinpl[] = &quot;cienka&quot;;
<span class="lineNum">    1518 </span>            : static const char lightpl[] = &quot;bardzo cienka&quot;;
<span class="lineNum">    1519 </span>            : static const char heavypl[] = &quot;bardzo gruba&quot;;
<span class="lineNum">    1520 </span>            : static const char italicpl[] = &quot;pochya&quot;;
<span class="lineNum">    1521 </span>            : static const char obliquepl[] = &quot;pochya&quot;;
<span class="lineNum">    1522 </span>            : static const char condensedpl[] = &quot;wska&quot;;
<span class="lineNum">    1523 </span>            : static const char expandedpl[] = &quot;szeroka&quot;;
<span class="lineNum">    1524 </span>            : static const char outlinepl[] = &quot;konturowa&quot;;
<span class="lineNum">    1525 </span>            : static const char mediumpl[] = &quot;zwyka&quot;;
<span class="lineNum">    1526 </span>            : static const char bookpl[] = &quot;zwyka&quot;;
<span class="lineNum">    1527 </span>            : 
<span class="lineNum">    1528 </span>            : static struct langstyle regs[] = { {0x409, regulareng}, { 0x40c, regularfren }, { 0x410, regularital }, { 0x407, regulargerm }, { 0x40a, regularspan }, { 0x419, regularru }, { 0x40e, regularhu },
<span class="lineNum">    1529 </span>            :         { 0x413, regulardutch}, { 0x41d, regularswed }, { 0x414, regularnor },
<span class="lineNum">    1530 </span>            :         { 0x406, regulardanish}, {0x415, regularpl }, { 0x804, &quot;&quot;},
<span class="lineNum">    1531 </span>            :         { 0x408, &quot;&quot;}, { 0x42a, &quot;Chun&quot;}, { 0x418, &quot;Normal&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1532 </span>            : static struct langstyle meds[] = { {0x409, mediumeng}, { 0x410, mediumital },
<span class="lineNum">    1533 </span>            :         { 0x40c, mediumfren }, { 0x407, mediumgerm }, { 0x40e, mediumhu },
<span class="lineNum">    1534 </span>            :         { 0x406, mediumdanish}, {0x415, mediumpl }, { 0x804, &quot;&quot;},
<span class="lineNum">    1535 </span>            :         { 0x408, &quot;&quot;}, { 0x42a, &quot;Va&quot;}, { 0x413, mediumdutch},
<span class="lineNum">    1536 </span>            :         { 0x418, &quot;Mediu&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1537 </span>            : static struct langstyle books[] = { {0x409, bookeng}, { 0x410, bookital },
<span class="lineNum">    1538 </span>            :         { 0x407, bookgerm }, { 0x40e, bookhu }, { 0x40e, bookhu2 },
<span class="lineNum">    1539 </span>            :         { 0x415, bookpl}, { 0x804, &quot;&quot;}, { 0x408, &quot;&quot;},
<span class="lineNum">    1540 </span>            :         { 0x42a, &quot;Sch&quot;}, { 0x413, bookdutch}, { 0x418, &quot;Carte&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1541 </span>            : static struct langstyle bolds[] = { {0x409, boldeng}, { 0x410, boldital }, { 0x40c, boldfren }, { 0x407, boldgerm }, { 0x407, boldgerm2 }, { 0x40a, boldspan}, { 0x419, boldru }, { 0x40e, boldhu }, { 0x40e, boldhu2 },
<span class="lineNum">    1542 </span>            :         { 0x413, bolddutch}, { 0x41d, boldswed }, { 0x414, boldnor },
<span class="lineNum">    1543 </span>            :         { 0x406, bolddanish}, { 0x415, boldpl}, { 0x804, &quot;&quot;},
<span class="lineNum">    1544 </span>            :         { 0x408, &quot;&quot;}, { 0x42a, &quot;m&quot;}, {0x418,&quot;Aldin&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1545 </span>            : static struct langstyle italics[] = { {0x409, italiceng}, { 0x410, italicital }, { 0x40c, italicfren }, { 0x407, italicgerm }, { 0x40a, italicspan}, { 0x419, italicru }, { 0x40e, italichu },
<span class="lineNum">    1546 </span>            :         { 0x413, italicdutch}, { 0x413, italicdutch2}, { 0x41d, italicswed }, { 0x414, italicnor },
<span class="lineNum">    1547 </span>            :         { 0x406, italicdanish}, { 0x415, italicpl}, { 0x804, &quot;&quot;},
<span class="lineNum">    1548 </span>            :         { 0x408, &quot;&quot;}, { 0x42a, &quot;Nghing&quot; }, { 0x418, &quot;Cursiv&quot;},  LANGSTYLE_EMPTY};
<span class="lineNum">    1549 </span>            : static struct langstyle obliques[] = { {0x409, obliqueeng}, { 0x410, obliqueital },
<span class="lineNum">    1550 </span>            :         { 0x40c, obliquefren }, { 0x407, obliquegerm }, { 0x419, obliqueru },
<span class="lineNum">    1551 </span>            :         { 0x40e, obliquehu }, { 0x40e, obliquehu2 }, {0x415, obliquepl},
<span class="lineNum">    1552 </span>            :         { 0x804, &quot;&quot;}, { 0x408, &quot;&quot;},
<span class="lineNum">    1553 </span>            :         { 0x42a, &quot;Xin&quot; }, { 0x413, obliquedutch}, { 0x413, obliquedutch2},
<span class="lineNum">    1554 </span>            :         { 0x418, &quot;nclinat&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1555 </span>            : static struct langstyle demibolds[] = { {0x409, demiboldeng}, {0x409, demiboldeng3}, {0x409, demiboldeng5},
<span class="lineNum">    1556 </span>            :         { 0x410, demiboldital }, { 0x40c, demiboldfren }, { 0x40c, demiboldfren2 }, { 0x407, demiboldgerm }, { 0x407, demiboldgerm2 },
<span class="lineNum">    1557 </span>            :         { 0x419, demiboldru }, { 0x40e, demiboldhu }, { 0x40e, demiboldhu2 },
<span class="lineNum">    1558 </span>            :         { 0x406, demibolddanish}, { 0x415, demiboldpl },
<span class="lineNum">    1559 </span>            :         { 0x804, &quot;&quot;}, { 0x408, &quot;&quot;},
<span class="lineNum">    1560 </span>            :         { 0x42a, &quot;Na m&quot;}, { 0x413, demibolddutch},
<span class="lineNum">    1561 </span>            :         {0x418, &quot;Semialdin&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1562 </span>            : static struct langstyle heavys[] = { {0x409, heavyeng}, { 0x410, heavyital },
<span class="lineNum">    1563 </span>            :         { 0x419, heavyru }, { 0x40e, heavyhu }, { 0x40e, heavyhu2 },
<span class="lineNum">    1564 </span>            :         { 0x415, heavypl }, { 0x804, &quot;&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1565 </span>            : static struct langstyle blacks[] = { {0x409, blackeng}, { 0x410, blackital }, { 0x40c, blackfren }, { 0x407, blackgerm }, { 0x419, blackru }, { 0x40e, blackhu }, { 0x40e, blackhu2 }, { 0x40a, blackspan },
<span class="lineNum">    1566 </span>            :         { 0x413, blackdutch}, { 0x41d, blackswed }, { 0x414, blacknor }, { 0x406, blackdanish},
<span class="lineNum">    1567 </span>            :         { 0x415, heavypl }, { 0x804, &quot;&quot;},  { 0x408, &quot;&quot;},
<span class="lineNum">    1568 </span>            :         { 0x42a, &quot;en&quot;}, { 0x418, &quot;Negru&quot;}, LANGSTYLE_EMPTY };
<span class="lineNum">    1569 </span>            : static struct langstyle thins[] = { {0x409, thineng}, { 0x410, thinital },
<span class="lineNum">    1570 </span>            :         { 0x419, thinru }, { 0x40e, thinhu }, { 0x415, thinpl},
<span class="lineNum">    1571 </span>            :         { 0x804, &quot;&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1572 </span>            : static struct langstyle extralights[] = { {0x409, extralighteng}, {0x409, extralighteng2},
<span class="lineNum">    1573 </span>            :         { 0x804, &quot;&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1574 </span>            : static struct langstyle lights[] = { {0x409, lighteng}, {0x410, lightital}, {0x40c, lightfren}, {0x407, lightgerm}, { 0x419, lightru }, { 0x40e, lighthu }, { 0x40a, lightspan },
<span class="lineNum">    1575 </span>            :         { 0x413, lightdutch}, { 0x41d, lightswed }, { 0x414, lightnor },
<span class="lineNum">    1576 </span>            :         { 0x406, lightdanish}, { 0x415, lightpl}, { 0x804, &quot;&quot;},
<span class="lineNum">    1577 </span>            :         { 0x408, &quot;&quot;}, { 0x42a, &quot;Nh&quot; }, { 0x418, &quot;Subire&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1578 </span>            : static struct langstyle condenseds[] = { {0x409, condensedeng}, {0x410, condensedital}, {0x40c, condensedfren}, {0x407, condensedgerm}, { 0x419, condensedru }, { 0x40e, condensedhu }, { 0x40a, condensedspan },
<span class="lineNum">    1579 </span>            :         { 0x413, condenseddutch}, { 0x41d, condensedswed },
<span class="lineNum">    1580 </span>            :         { 0x414, condensednor }, { 0x406, condenseddanish},
<span class="lineNum">    1581 </span>            :         { 0x415, condensedpl }, { 0x804, &quot;&quot;},
<span class="lineNum">    1582 </span>            :         { 0x408, &quot;&quot;}, { 0x42a, &quot;Hp&quot; }, { 0x418, &quot;ngust&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1583 </span>            : static struct langstyle expandeds[] = { {0x409, expandedeng}, {0x410, expandedital}, {0x40c, expandedfren}, {0x407, expandedgerm}, { 0x419, expandedru }, { 0x40e, expandedhu }, { 0x40a, expandedspan },
<span class="lineNum">    1584 </span>            :         { 0x413, expandeddutch}, { 0x41d, expandedswed }, { 0x414, expandednor },
<span class="lineNum">    1585 </span>            :         { 0x406, expandeddanish}, { 0x415, expandedpl }, { 0x804, &quot;&quot;},
<span class="lineNum">    1586 </span>            :         { 0x408, &quot;&quot;}, { 0x42a, &quot;Rng&quot; }, { 0x418, &quot;Expandat&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1587 </span>            : static struct langstyle outlines[] = { {0x409, outlineeng}, {0x40c, outlinefren},
<span class="lineNum">    1588 </span>            :         {0x407, outlinegerm}, {0x40e, outlinehu}, { 0x406, outlinedanish},
<span class="lineNum">    1589 </span>            :         {0x415, outlinepl}, { 0x804, &quot;&quot;}, { 0x408, &quot;&quot;},
<span class="lineNum">    1590 </span>            :         {0x42a, &quot;Nt ngoi&quot; }, { 0x413, outlinedutch}, {0x418, &quot;Contur&quot;}, LANGSTYLE_EMPTY};
<span class="lineNum">    1591 </span>            : static struct langstyle *stylelist[] = {regs, meds, books, demibolds, bolds, heavys, blacks,
<span class="lineNum">    1592 </span>            :         extralights, lights, thins, italics, obliques, condenseds, expandeds, outlines, NULL };
<span class="lineNum">    1593 </span>            : 
<span class="lineNum">    1594 </span>            : #define CID_Features    101             /* Mac stuff */
<span class="lineNum">    1595 </span>            : #define CID_FeatureDel  103
<span class="lineNum">    1596 </span>            : #define CID_FeatureEdit 105
<span class="lineNum">    1597 </span>            : 
<span class="lineNum">    1598 </span>            : #define CID_Family      1002
<span class="lineNum">    1599 </span>            : #define CID_Weight      1003
<span class="lineNum">    1600 </span>            : #define CID_ItalicAngle 1004
<span class="lineNum">    1601 </span>            : #define CID_UPos        1005
<span class="lineNum">    1602 </span>            : #define CID_UWidth      1006
<span class="lineNum">    1603 </span>            : #define CID_Ascent      1007
<span class="lineNum">    1604 </span>            : #define CID_Descent     1008
<span class="lineNum">    1605 </span>            : #define CID_Notice      1010
<span class="lineNum">    1606 </span>            : #define CID_Version     1011
<span class="lineNum">    1607 </span>            : #define CID_UniqueID    1012
<span class="lineNum">    1608 </span>            : #define CID_HasVerticalMetrics  1013
<span class="lineNum">    1609 </span>            : #define CID_Fontname    1016
<span class="lineNum">    1610 </span>            : #define CID_Em          1017
<span class="lineNum">    1611 </span>            : #define CID_Scale       1018
<span class="lineNum">    1612 </span>            : #define CID_Interpretation      1021
<span class="lineNum">    1613 </span>            : #define CID_Namelist    1024
<span class="lineNum">    1614 </span>            : #define CID_Revision    1025
<span class="lineNum">    1615 </span>            : 
<span class="lineNum">    1616 </span>            : #define CID_WoffMajor   1050
<span class="lineNum">    1617 </span>            : #define CID_WoffMinor   1051
<span class="lineNum">    1618 </span>            : #define CID_WoffMetadata        1052
<span class="lineNum">    1619 </span>            : 
<span class="lineNum">    1620 </span>            : #define CID_XUID        1113
<span class="lineNum">    1621 </span>            : #define CID_Human       1114
<span class="lineNum">    1622 </span>            : #define CID_SameAsFontname      1115
<span class="lineNum">    1623 </span>            : #define CID_HasDefBase  1116
<span class="lineNum">    1624 </span>            : #define CID_DefBaseName 1117
<span class="lineNum">    1625 </span>            : #define CID_UseXUID     1118
<span class="lineNum">    1626 </span>            : #define CID_UseUniqueID 1119
<span class="lineNum">    1627 </span>            : 
<span class="lineNum">    1628 </span>            : #define CID_GuideOrder2         1200
<span class="lineNum">    1629 </span>            : #define CID_IsMixed             1217
<span class="lineNum">    1630 </span>            : #define CID_IsOrder3            1218
<span class="lineNum">    1631 </span>            : #define CID_IsOrder2            1219
<span class="lineNum">    1632 </span>            : #define CID_IsMultiLayer        1220
<span class="lineNum">    1633 </span>            : #define CID_IsStrokedFont       1222
<span class="lineNum">    1634 </span>            : #define CID_StrokeWidth         1223
<span class="lineNum">    1635 </span>            : #define CID_Backgrounds         1226
<span class="lineNum">    1636 </span>            : 
<span class="lineNum">    1637 </span>            : #define CID_Private             2001
<span class="lineNum">    1638 </span>            : #define CID_Guess               2004
<span class="lineNum">    1639 </span>            : #define CID_Hist                2006
<span class="lineNum">    1640 </span>            : 
<span class="lineNum">    1641 </span>            : #define CID_TTFTabs             3000
<span class="lineNum">    1642 </span>            : #define CID_WeightClass         3001
<span class="lineNum">    1643 </span>            : #define CID_WidthClass          3002
<span class="lineNum">    1644 </span>            : #define CID_PFMFamily           3003
<span class="lineNum">    1645 </span>            : #define CID_FSType              3004
<span class="lineNum">    1646 </span>            : #define CID_NoSubsetting        3005
<span class="lineNum">    1647 </span>            : #define CID_OnlyBitmaps         3006
<span class="lineNum">    1648 </span>            : #define CID_LineGap             3007
<span class="lineNum">    1649 </span>            : #define CID_VLineGap            3008
<span class="lineNum">    1650 </span>            : #define CID_VLineGapLab         3009
<span class="lineNum">    1651 </span>            : #define CID_WinAscent           3010
<span class="lineNum">    1652 </span>            : #define CID_WinAscentLab        3011
<span class="lineNum">    1653 </span>            : #define CID_WinAscentIsOff      3012
<span class="lineNum">    1654 </span>            : #define CID_WinDescent          3013
<span class="lineNum">    1655 </span>            : #define CID_WinDescentLab       3014
<span class="lineNum">    1656 </span>            : #define CID_WinDescentIsOff     3015
<span class="lineNum">    1657 </span>            : #define CID_TypoAscent          3016
<span class="lineNum">    1658 </span>            : #define CID_TypoAscentLab       3017
<span class="lineNum">    1659 </span>            : #define CID_TypoAscentIsOff     3018
<span class="lineNum">    1660 </span>            : #define CID_TypoDescent         3019
<span class="lineNum">    1661 </span>            : #define CID_TypoDescentLab      3020
<span class="lineNum">    1662 </span>            : #define CID_TypoDescentIsOff    3021
<span class="lineNum">    1663 </span>            : #define CID_TypoLineGap         3022
<span class="lineNum">    1664 </span>            : #define CID_HHeadAscent         3023
<span class="lineNum">    1665 </span>            : #define CID_HHeadAscentLab      3024
<span class="lineNum">    1666 </span>            : #define CID_HHeadAscentIsOff    3025
<span class="lineNum">    1667 </span>            : #define CID_HHeadDescent        3026
<span class="lineNum">    1668 </span>            : #define CID_HHeadDescentLab     3027
<span class="lineNum">    1669 </span>            : #define CID_HHeadDescentIsOff   3028
<span class="lineNum">    1670 </span>            : #define CID_Vendor              3029
<span class="lineNum">    1671 </span>            : #define CID_IBMFamily           3030
<span class="lineNum">    1672 </span>            : #define CID_OS2Version          3031
<span class="lineNum">    1673 </span>            : #define CID_UseTypoMetrics      3032
<span class="lineNum">    1674 </span>            : #define CID_WeightWidthSlopeOnly        3033
<span class="lineNum">    1675 </span>            : // Maybe we could insert these above and change the numbering.
<span class="lineNum">    1676 </span>            : #define CID_CapHeight           3034
<span class="lineNum">    1677 </span>            : #define CID_CapHeightLab                3035
<span class="lineNum">    1678 </span>            : #define CID_XHeight             3036
<span class="lineNum">    1679 </span>            : #define CID_XHeightLab          3037
<span class="lineNum">    1680 </span>            : #define CID_StyleMap            3038
<span class="lineNum">    1681 </span>            : 
<span class="lineNum">    1682 </span>            : #define CID_SubSuperDefault     3100
<span class="lineNum">    1683 </span>            : #define CID_SubXSize            3101
<span class="lineNum">    1684 </span>            : #define CID_SubYSize            3102
<span class="lineNum">    1685 </span>            : #define CID_SubXOffset          3103
<span class="lineNum">    1686 </span>            : #define CID_SubYOffset          3104
<span class="lineNum">    1687 </span>            : #define CID_SuperXSize          3105
<span class="lineNum">    1688 </span>            : #define CID_SuperYSize          3106
<span class="lineNum">    1689 </span>            : #define CID_SuperXOffset        3107
<span class="lineNum">    1690 </span>            : #define CID_SuperYOffset        3108
<span class="lineNum">    1691 </span>            : #define CID_StrikeoutSize       3109
<span class="lineNum">    1692 </span>            : #define CID_StrikeoutPos        3110
<span class="lineNum">    1693 </span>            : 
<span class="lineNum">    1694 </span>            : #define CID_PanFamily           4001
<span class="lineNum">    1695 </span>            : #define CID_PanSerifs           4002
<span class="lineNum">    1696 </span>            : #define CID_PanWeight           4003
<span class="lineNum">    1697 </span>            : #define CID_PanProp             4004
<span class="lineNum">    1698 </span>            : #define CID_PanContrast         4005
<span class="lineNum">    1699 </span>            : #define CID_PanStrokeVar        4006
<span class="lineNum">    1700 </span>            : #define CID_PanArmStyle         4007
<span class="lineNum">    1701 </span>            : #define CID_PanLetterform       4008
<span class="lineNum">    1702 </span>            : #define CID_PanMidLine          4009
<span class="lineNum">    1703 </span>            : #define CID_PanXHeight          4010
<span class="lineNum">    1704 </span>            : #define CID_PanDefault          4011
<span class="lineNum">    1705 </span>            : #define CID_PanFamilyLab        4021
<span class="lineNum">    1706 </span>            : #define CID_PanSerifsLab        4022
<span class="lineNum">    1707 </span>            : #define CID_PanWeightLab        4023
<span class="lineNum">    1708 </span>            : #define CID_PanPropLab          4024
<span class="lineNum">    1709 </span>            : #define CID_PanContrastLab      4025
<span class="lineNum">    1710 </span>            : #define CID_PanStrokeVarLab     4026
<span class="lineNum">    1711 </span>            : #define CID_PanArmStyleLab      4027
<span class="lineNum">    1712 </span>            : #define CID_PanLetterformLab    4028
<span class="lineNum">    1713 </span>            : #define CID_PanMidLineLab       4029
<span class="lineNum">    1714 </span>            : #define CID_PanXHeightLab       4030
<span class="lineNum">    1715 </span>            : 
<span class="lineNum">    1716 </span>            : #define CID_TNLangSort          5001
<span class="lineNum">    1717 </span>            : #define CID_TNStringSort        5002
<span class="lineNum">    1718 </span>            : #define CID_TNVScroll           5003
<span class="lineNum">    1719 </span>            : #define CID_TNHScroll           5004
<span class="lineNum">    1720 </span>            : #define CID_TNames              5005
<span class="lineNum">    1721 </span>            : 
<span class="lineNum">    1722 </span>            : #define CID_Language            5006    /* Used by AskForLangNames */
<span class="lineNum">    1723 </span>            : 
<span class="lineNum">    1724 </span>            : #define CID_SSNames             5050
<span class="lineNum">    1725 </span>            : 
<span class="lineNum">    1726 </span>            : #define CID_Gasp                5100
<span class="lineNum">    1727 </span>            : #define CID_GaspVersion         5101
<span class="lineNum">    1728 </span>            : #define CID_HeadClearType       5102
<span class="lineNum">    1729 </span>            : 
<span class="lineNum">    1730 </span>            : #define CID_Comment             6001
<span class="lineNum">    1731 </span>            : #define CID_FontLog             6002
<span class="lineNum">    1732 </span>            : 
<span class="lineNum">    1733 </span>            : #define CID_MarkClasses         7101
<span class="lineNum">    1734 </span>            : 
<span class="lineNum">    1735 </span>            : #define CID_MarkSets            7201
<span class="lineNum">    1736 </span>            : 
<span class="lineNum">    1737 </span>            : #define CID_TeXText             8001
<span class="lineNum">    1738 </span>            : #define CID_TeXMathSym          8002
<span class="lineNum">    1739 </span>            : #define CID_TeXMathExt          8003
<span class="lineNum">    1740 </span>            : #define CID_MoreParams          8005
<span class="lineNum">    1741 </span>            : #define CID_TeXExtraSpLabel     8006
<span class="lineNum">    1742 </span>            : #define CID_TeX                 8007    /* through 8014 */
<span class="lineNum">    1743 </span>            : #define CID_TeXBox              8030
<span class="lineNum">    1744 </span>            : 
<span class="lineNum">    1745 </span>            : #define CID_DesignSize          8301
<span class="lineNum">    1746 </span>            : #define CID_DesignBottom        8302
<span class="lineNum">    1747 </span>            : #define CID_DesignTop           8303
<span class="lineNum">    1748 </span>            : #define CID_StyleID             8304
<span class="lineNum">    1749 </span>            : #define CID_StyleName           8305
<span class="lineNum">    1750 </span>            : 
<span class="lineNum">    1751 </span>            : #define CID_Tabs                10001
<span class="lineNum">    1752 </span>            : #define CID_OK                  10002
<span class="lineNum">    1753 </span>            : #define CID_Cancel              10003
<span class="lineNum">    1754 </span>            : #define CID_MainGroup           10004
<span class="lineNum">    1755 </span>            : #define CID_TopBox              10005
<span class="lineNum">    1756 </span>            : 
<span class="lineNum">    1757 </span>            : #define CID_Lookups             11000
<span class="lineNum">    1758 </span>            : #define CID_LookupTop           11001
<span class="lineNum">    1759 </span>            : #define CID_LookupUp            11002
<span class="lineNum">    1760 </span>            : #define CID_LookupDown          11003
<span class="lineNum">    1761 </span>            : #define CID_LookupBottom        11004
<span class="lineNum">    1762 </span>            : #define CID_AddLookup           11005
<span class="lineNum">    1763 </span>            : #define CID_AddSubtable         11006
<span class="lineNum">    1764 </span>            : #define CID_EditMetadata        11007
<span class="lineNum">    1765 </span>            : #define CID_EditSubtable        11008
<span class="lineNum">    1766 </span>            : #define CID_DeleteLookup        11009
<span class="lineNum">    1767 </span>            : #define CID_MergeLookup         11010
<span class="lineNum">    1768 </span>            : #define CID_RevertLookups       11011
<span class="lineNum">    1769 </span>            : #define CID_LookupSort          11012
<span class="lineNum">    1770 </span>            : #define CID_ImportLookups       11013
<span class="lineNum">    1771 </span>            : #define CID_LookupWin           11020           /* (GSUB, add 1 for GPOS) */
<span class="lineNum">    1772 </span>            : #define CID_LookupVSB           11022           /* (GSUB, add 1 for GPOS) */
<span class="lineNum">    1773 </span>            : #define CID_LookupHSB           11024           /* (GSUB, add 1 for GPOS) */
<span class="lineNum">    1774 </span>            : #define CID_SaveLookup          11026
<span class="lineNum">    1775 </span>            : #define CID_SaveFeat            11027
<span class="lineNum">    1776 </span>            : #define CID_AddAllAlternates    11028
<span class="lineNum">    1777 </span>            : #define CID_AddDFLT             11029
<span class="lineNum">    1778 </span>            : #define CID_AddLanguage         11030
<span class="lineNum">    1779 </span>            : #define CID_RmLanguage          11031
<span class="lineNum">    1780 </span>            : 
<span class="lineNum">    1781 </span>            : #define CID_MacAutomatic        16000
<span class="lineNum">    1782 </span>            : #define CID_MacStyles           16001
<span class="lineNum">    1783 </span>            : #define CID_MacFOND             16002
<span class="lineNum">    1784 </span>            : 
<span class="lineNum">    1785 </span>            : #define CID_Unicode             16100
<span class="lineNum">    1786 </span>            : #define CID_UnicodeEmpties      16101
<span class="lineNum">    1787 </span>            : #define CID_UnicodeTab          16102
<span class="lineNum">    1788 </span>            : #define CID_URangesDefault      16110
<span class="lineNum">    1789 </span>            : #define CID_UnicodeRanges       16111
<span class="lineNum">    1790 </span>            : #define CID_UnicodeList         16112
<span class="lineNum">    1791 </span>            : #define CID_CPageDefault        16120
<span class="lineNum">    1792 </span>            : #define CID_CodePageRanges      16121
<a name="1793"><span class="lineNum">    1793 </span>            : #define CID_CodePageList        16122</a>
<span class="lineNum">    1794 </span>            : 
<span class="lineNum">    1795 </span><span class="lineCov">          3 : const char *UI_TTFNameIds(int id) {</span>
<span class="lineNum">    1796 </span>            :     int i;
<span class="lineNum">    1797 </span>            : 
<span class="lineNum">    1798 </span><span class="lineCov">          3 :     FontInfoInit();</span>
<span class="lineNum">    1799 </span><span class="lineCov">         54 :     for ( i=0; ttfnameids[i].text!=NULL; ++i )</span>
<span class="lineNum">    1800 </span><span class="lineCov">         54 :         if ( ttfnameids[i].userdata == (void *) (intpt) id )</span>
<span class="lineNum">    1801 </span><span class="lineCov">          3 : return( (char *) ttfnameids[i].text );</span>
<span class="lineNum">    1802 </span>            : 
<span class="lineNum">    1803 </span><span class="lineNoCov">          0 :     if ( id==6 )</span>
<span class="lineNum">    1804 </span><span class="lineNoCov">          0 : return( &quot;PostScript&quot; );</span>
<span class="lineNum">    1805 </span>            : 
<span class="lineNum">    1806 </span><span class="lineNoCov">          0 : return( _(&quot;Unknown&quot;) );</span>
<a name="1807"><span class="lineNum">    1807 </span>            : }</a>
<span class="lineNum">    1808 </span>            : 
<span class="lineNum">    1809 </span><span class="lineCov">          3 : const char *UI_MSLangString(int language) {</span>
<span class="lineNum">    1810 </span>            :     int i;
<span class="lineNum">    1811 </span>            : 
<span class="lineNum">    1812 </span><span class="lineCov">          3 :     FontInfoInit();</span>
<span class="lineNum">    1813 </span><span class="lineCov">        141 :     for ( i=0; mslanguages[i].text!=NULL; ++i )</span>
<span class="lineNum">    1814 </span><span class="lineCov">        141 :         if ( mslanguages[i].userdata == (void *) (intpt) language )</span>
<span class="lineNum">    1815 </span><span class="lineCov">          3 : return( (char *) mslanguages[i].text );</span>
<span class="lineNum">    1816 </span>            : 
<span class="lineNum">    1817 </span><span class="lineNoCov">          0 :     language &amp;= 0xff;</span>
<span class="lineNum">    1818 </span><span class="lineNoCov">          0 :     for ( i=0; mslanguages[i].text!=NULL; ++i )</span>
<span class="lineNum">    1819 </span><span class="lineNoCov">          0 :         if ( ((intpt) mslanguages[i].userdata &amp; 0xff) == language )</span>
<span class="lineNum">    1820 </span><span class="lineNoCov">          0 : return( (char *) mslanguages[i].text );</span>
<span class="lineNum">    1821 </span>            : 
<span class="lineNum">    1822 </span><span class="lineNoCov">          0 : return( _(&quot;Unknown&quot;) );</span>
<span class="lineNum">    1823 </span>            : }
<span class="lineNum">    1824 </span>            : 
<span class="lineNum">    1825 </span>            : /* These are PostScript names, and as such should not be translated */
<span class="lineNum">    1826 </span>            : enum { pt_number, pt_boolean, pt_array, pt_code };
<span class="lineNum">    1827 </span>            : static struct { const char *name; short type, arr_size, present; } KnownPrivates[] = {
<span class="lineNum">    1828 </span>            :     { &quot;BlueValues&quot;, pt_array, 14, 0 },
<span class="lineNum">    1829 </span>            :     { &quot;OtherBlues&quot;, pt_array, 10, 0 },
<span class="lineNum">    1830 </span>            :     { &quot;BlueFuzz&quot;, pt_number, 0, 0 },
<span class="lineNum">    1831 </span>            :     { &quot;FamilyBlues&quot;, pt_array, 14, 0 },
<span class="lineNum">    1832 </span>            :     { &quot;FamilyOtherBlues&quot;, pt_array, 10, 0 },
<span class="lineNum">    1833 </span>            :     { &quot;BlueScale&quot;, pt_number, 0, 0 },
<span class="lineNum">    1834 </span>            :     { &quot;BlueShift&quot;, pt_number, 0, 0 },
<span class="lineNum">    1835 </span>            :     { &quot;StdHW&quot;, pt_array, 1, 0 },
<span class="lineNum">    1836 </span>            :     { &quot;StdVW&quot;, pt_array, 1, 0 },
<span class="lineNum">    1837 </span>            :     { &quot;StemSnapH&quot;, pt_array, 12, 0 },
<span class="lineNum">    1838 </span>            :     { &quot;StemSnapV&quot;, pt_array, 12, 0 },
<span class="lineNum">    1839 </span>            :     { &quot;ForceBold&quot;, pt_boolean, 0, 0 },
<span class="lineNum">    1840 </span>            :     { &quot;LanguageGroup&quot;, pt_number, 0, 0 },
<span class="lineNum">    1841 </span>            :     { &quot;RndStemUp&quot;, pt_number, 0, 0 },
<span class="lineNum">    1842 </span>            :     { &quot;lenIV&quot;, pt_number, 0, 0 },
<span class="lineNum">    1843 </span>            :     { &quot;ExpansionFactor&quot;, pt_number, 0, 0 },
<span class="lineNum">    1844 </span>            :     { &quot;Erode&quot;, pt_code, 0, 0 },
<span class="lineNum">    1845 </span>            : /* I am deliberately not including Subrs and OtherSubrs */
<span class="lineNum">    1846 </span>            : /* The first could not be entered (because it's a set of binary strings) */
<span class="lineNum">    1847 </span>            : /* And the second has special meaning to us and must be handled with care */
<span class="lineNum">    1848 </span>            :     { NULL, 0, 0, 0 }
<span class="lineNum">    1849 </span>            : };
<span class="lineNum">    1850 </span>            : 
<span class="lineNum">    1851 </span>            : static GTextInfo psprivate_nameids[] = {
<span class="lineNum">    1852 </span>            : /* Don't translate these here either */
<span class="lineNum">    1853 </span>            :     { (unichar_t *) &quot;BlueValues&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1854 </span>            :     { (unichar_t *) &quot;OtherBlues&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1855 </span>            :     { (unichar_t *) &quot;BlueFuzz&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1856 </span>            :     { (unichar_t *) &quot;FamilyBlues&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1857 </span>            :     { (unichar_t *) &quot;FamilyOtherBlues&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1858 </span>            :     { (unichar_t *) &quot;BlueScale&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1859 </span>            :     { (unichar_t *) &quot;BlueShift&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1860 </span>            :     { (unichar_t *) &quot;StdHW&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1861 </span>            :     { (unichar_t *) &quot;StdVW&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1862 </span>            :     { (unichar_t *) &quot;StemSnapH&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1863 </span>            :     { (unichar_t *) &quot;StemSnapV&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1864 </span>            :     { (unichar_t *) &quot;ForceBold&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1865 </span>            :     { (unichar_t *) &quot;LanguageGroup&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1866 </span>            :     { (unichar_t *) &quot;RndStemUp&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1867 </span>            :     { (unichar_t *) &quot;lenIV&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1868 </span>            :     { (unichar_t *) &quot;ExpansionFactor&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1869 </span>            :     { (unichar_t *) &quot;Erode&quot;, NULL, 0, 0, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 0, 0, '\0'},
<span class="lineNum">    1870 </span>            :     GTEXTINFO_EMPTY
<a name="1871"><span class="lineNum">    1871 </span>            : };</a>
<span class="lineNum">    1872 </span>            : 
<span class="lineNum">    1873 </span><span class="lineNoCov">          0 : static void PI_KeyEnable(GGadget *g,GMenuItem *mi, int r, int c) {</span>
<span class="lineNum">    1874 </span>            :     int i,j, rows;
<span class="lineNum">    1875 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = _GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    1876 </span><span class="lineNoCov">          0 :     int cols = GMatrixEditGetColCnt(g);</span>
<span class="lineNum">    1877 </span>            :     int found;
<span class="lineNum">    1878 </span>            : 
<span class="lineNum">    1879 </span><span class="lineNoCov">          0 :     for ( i=0; mi[i].ti.text!=NULL; ++i ) {</span>
<span class="lineNum">    1880 </span><span class="lineNoCov">          0 :         found = 0;</span>
<span class="lineNum">    1881 </span><span class="lineNoCov">          0 :         for ( j=0; j&lt;rows; ++j ) {</span>
<span class="lineNum">    1882 </span><span class="lineNoCov">          0 :             if ( strcmp((char *) mi[i].ti.text,strings[j*cols+0].u.md_str)==0 ) {</span>
<span class="lineNum">    1883 </span><span class="lineNoCov">          0 :                 found=1;</span>
<span class="lineNum">    1884 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    1885 </span>            :             }
<span class="lineNum">    1886 </span>            :         }
<span class="lineNum">    1887 </span><span class="lineNoCov">          0 :         if ( j==r &amp;&amp; found ) {</span>
<span class="lineNum">    1888 </span><span class="lineNoCov">          0 :             mi[i].ti.disabled = false;</span>
<span class="lineNum">    1889 </span><span class="lineNoCov">          0 :             mi[i].ti.selected = true;</span>
<span class="lineNum">    1890 </span>            :         } else {
<span class="lineNum">    1891 </span><span class="lineNoCov">          0 :             mi[i].ti.disabled = found;</span>
<span class="lineNum">    1892 </span><span class="lineNoCov">          0 :             mi[i].ti.selected = false;</span>
<span class="lineNum">    1893 </span>            :         }
<span class="lineNum">    1894 </span>            :     }
<span class="lineNum">    1895 </span><span class="lineNoCov">          0 : }</span>
<span class="lineNum">    1896 </span>            : 
<span class="lineNum">    1897 </span>            : static struct col_init psprivate_ci[] = {
<span class="lineNum">    1898 </span>            :     { me_stringchoice, NULL, psprivate_nameids, PI_KeyEnable, N_(&quot;Key&quot;) },
<span class="lineNum">    1899 </span>            :     { me_string, NULL, NULL, NULL, N_(&quot;Value&quot;) }
<a name="1900"><span class="lineNum">    1900 </span>            :     };</a>
<span class="lineNum">    1901 </span>            : 
<span class="lineNum">    1902 </span><span class="lineNoCov">          0 : static char *rpldecimal(const char *orig,const char *decimal_point, locale_t tmplocale) {</span>
<span class="lineNum">    1903 </span>            :     char *end;
<span class="lineNum">    1904 </span>            :     char *new, *npt; const char *pt;
<span class="lineNum">    1905 </span>            :     int dlen;
<span class="lineNum">    1906 </span>            :     double dval;
<span class="lineNum">    1907 </span>            :     char buffer[40];
<span class="lineNum">    1908 </span>            :     locale_t oldlocale;
<span class="lineNum">    1909 </span>            : 
<span class="lineNum">    1910 </span>            :     /* if the current locale uses a &quot;.&quot; for a decimal point the we don't need */
<span class="lineNum">    1911 </span>            :     /*  to translate the number, just check that it is valid */
<span class="lineNum">    1912 </span><span class="lineNoCov">          0 :     if ( strcmp(decimal_point,&quot;.&quot;)==0 ) {</span>
<span class="lineNum">    1913 </span><span class="lineNoCov">          0 :         strtod(orig,&amp;end);</span>
<span class="lineNum">    1914 </span><span class="lineNoCov">          0 :         while ( isspace(*end)) ++end;</span>
<span class="lineNum">    1915 </span><span class="lineNoCov">          0 :         if ( *end!='\0' )</span>
<span class="lineNum">    1916 </span><span class="lineNoCov">          0 : return( NULL );</span>
<span class="lineNum">    1917 </span><span class="lineNoCov">          0 : return( copy(orig));</span>
<span class="lineNum">    1918 </span>            :     }
<span class="lineNum">    1919 </span>            : 
<span class="lineNum">    1920 </span><span class="lineNoCov">          0 :     npt = new = malloc(2*strlen(orig)+10);</span>
<span class="lineNum">    1921 </span><span class="lineNoCov">          0 :     dlen = strlen(decimal_point);</span>
<span class="lineNum">    1922 </span>            :     /* now I want to change the number as little as possible. So if they use */
<span class="lineNum">    1923 </span>            :     /*  arabic numerals we can get by with just switching the decimal point */
<span class="lineNum">    1924 </span>            :     /*  If they use some other number convention, then parse in the old locale*/
<span class="lineNum">    1925 </span>            :     /*  and sprintf in the PostScript (&quot;C&quot;) locale. This might lose some */
<span class="lineNum">    1926 </span>            :     /*  precision but the basic idea will get across */
<span class="lineNum">    1927 </span><span class="lineNoCov">          0 :     for ( pt=orig; *pt; ) {</span>
<span class="lineNum">    1928 </span><span class="lineNoCov">          0 :         if ( strncmp(pt,decimal_point,dlen)==0 ) {</span>
<span class="lineNum">    1929 </span><span class="lineNoCov">          0 :             pt += dlen;</span>
<span class="lineNum">    1930 </span><span class="lineNoCov">          0 :             *npt++ = '.';</span>
<span class="lineNum">    1931 </span>            :         } else
<span class="lineNum">    1932 </span><span class="lineNoCov">          0 :             *npt++ = *pt++;</span>
<span class="lineNum">    1933 </span>            :     }
<span class="lineNum">    1934 </span><span class="lineNoCov">          0 :     *npt = '\0';</span>
<span class="lineNum">    1935 </span>            : 
<span class="lineNum">    1936 </span><span class="lineNoCov">          0 :     oldlocale = uselocale_hack(tmplocale);</span>
<span class="lineNum">    1937 </span><span class="lineNoCov">          0 :     strtod(new,&amp;end);</span>
<span class="lineNum">    1938 </span><span class="lineNoCov">          0 :     uselocale_hack(oldlocale);</span>
<span class="lineNum">    1939 </span><span class="lineNoCov">          0 :     while ( isspace(*end)) ++end;</span>
<span class="lineNum">    1940 </span><span class="lineNoCov">          0 :     if ( *end=='\0' ) {</span>
<span class="lineNum">    1941 </span><span class="lineNoCov">          0 :         char *ret = copy(new);</span>
<span class="lineNum">    1942 </span><span class="lineNoCov">          0 :         free(new);</span>
<span class="lineNum">    1943 </span><span class="lineNoCov">          0 : return( ret );</span>
<span class="lineNum">    1944 </span>            :     }
<span class="lineNum">    1945 </span>            : 
<span class="lineNum">    1946 </span>            :     /* OK, can we parse the number in the original local? */
<span class="lineNum">    1947 </span><span class="lineNoCov">          0 :     dval = strtod(new,&amp;end);</span>
<span class="lineNum">    1948 </span><span class="lineNoCov">          0 :     while ( isspace(*end)) ++end;</span>
<span class="lineNum">    1949 </span><span class="lineNoCov">          0 :     if ( *end!='\0' ) {</span>
<span class="lineNum">    1950 </span><span class="lineNoCov">          0 :         free(new);</span>
<span class="lineNum">    1951 </span><span class="lineNoCov">          0 : return( NULL );</span>
<span class="lineNum">    1952 </span>            :     }
<span class="lineNum">    1953 </span><span class="lineNoCov">          0 :     free(new);</span>
<span class="lineNum">    1954 </span><span class="lineNoCov">          0 :     oldlocale = uselocale_hack(tmplocale);</span>
<span class="lineNum">    1955 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%g&quot;, dval );</span>
<span class="lineNum">    1956 </span><span class="lineNoCov">          0 :     uselocale_hack(oldlocale);</span>
<span class="lineNum">    1957 </span><span class="lineNoCov">          0 : return( copy(buffer));</span>
<a name="1958"><span class="lineNum">    1958 </span>            : }</a>
<span class="lineNum">    1959 </span>            : 
<span class="lineNum">    1960 </span><span class="lineNoCov">          0 : static char *rplarraydecimal(const char *orig,const char *decimal_point, locale_t tmplocale) {</span>
<span class="lineNum">    1961 </span>            :     char *new, *npt, *rpl;
<span class="lineNum">    1962 </span>            :     int nlen;
<span class="lineNum">    1963 </span>            :     const char *start, *pt; int ch;
<span class="lineNum">    1964 </span>            : 
<span class="lineNum">    1965 </span><span class="lineNoCov">          0 :     nlen = 2*strlen(orig)+10;</span>
<span class="lineNum">    1966 </span><span class="lineNoCov">          0 :     npt = new = calloc(1,nlen+1);</span>
<span class="lineNum">    1967 </span><span class="lineNoCov">          0 :     *npt++ = '[';</span>
<span class="lineNum">    1968 </span>            : 
<span class="lineNum">    1969 </span><span class="lineNoCov">          0 :     for ( pt=orig; isspace(*pt) || *pt=='['; ++pt );</span>
<span class="lineNum">    1970 </span><span class="lineNoCov">          0 :     while ( *pt!=']' &amp;&amp; *pt!='\0' ) {</span>
<span class="lineNum">    1971 </span><span class="lineNoCov">          0 :         start=pt;</span>
<span class="lineNum">    1972 </span><span class="lineNoCov">          0 :         while ( *pt!=']' &amp;&amp; *pt!=' ' &amp;&amp; *pt!='\0' ) ++pt;</span>
<span class="lineNum">    1973 </span><span class="lineNoCov">          0 :         ch = *pt; *(char *) pt = '\0';</span>
<span class="lineNum">    1974 </span><span class="lineNoCov">          0 :         rpl = rpldecimal(start,decimal_point,tmplocale);</span>
<span class="lineNum">    1975 </span><span class="lineNoCov">          0 :         *(char *) pt = ch;</span>
<span class="lineNum">    1976 </span><span class="lineNoCov">          0 :         if ( rpl==NULL ) {</span>
<span class="lineNum">    1977 </span><span class="lineNoCov">          0 :             gwwv_post_notice(_(&quot;Bad type&quot;),_(&quot;Expected array of numbers.\nFailed to parse \&quot;%.*s\&quot; as a number.&quot;),</span>
<span class="lineNum">    1978 </span>            :                     pt-start, start);
<span class="lineNum">    1979 </span><span class="lineNoCov">          0 :             free(new);</span>
<span class="lineNum">    1980 </span><span class="lineNoCov">          0 : return( NULL );</span>
<span class="lineNum">    1981 </span>            :         }
<span class="lineNum">    1982 </span><span class="lineNoCov">          0 :         if ( npt-new + strlen(rpl) + 2 &gt;nlen ) {</span>
<span class="lineNum">    1983 </span><span class="lineNoCov">          0 :             int noff = npt-new;</span>
<span class="lineNum">    1984 </span><span class="lineNoCov">          0 :             new = realloc(new,nlen += strlen(rpl)+100);</span>
<span class="lineNum">    1985 </span><span class="lineNoCov">          0 :             npt = new+noff;</span>
<span class="lineNum">    1986 </span>            :         }
<span class="lineNum">    1987 </span><span class="lineNoCov">          0 :         if ( npt[-1]!='[' )</span>
<span class="lineNum">    1988 </span><span class="lineNoCov">          0 :             *npt++ = ' ';</span>
<span class="lineNum">    1989 </span><span class="lineNoCov">          0 :         strcpy(npt,rpl);</span>
<span class="lineNum">    1990 </span><span class="lineNoCov">          0 :         free(rpl);</span>
<span class="lineNum">    1991 </span><span class="lineNoCov">          0 :         npt += strlen(npt);</span>
<span class="lineNum">    1992 </span><span class="lineNoCov">          0 :         while ( isspace(*pt)) ++pt;</span>
<span class="lineNum">    1993 </span>            :     }
<span class="lineNum">    1994 </span><span class="lineNoCov">          0 :     *npt++ =']';</span>
<span class="lineNum">    1995 </span><span class="lineNoCov">          0 :     *npt = '\0';</span>
<span class="lineNum">    1996 </span><span class="lineNoCov">          0 :     rpl = copy(new);</span>
<span class="lineNum">    1997 </span><span class="lineNoCov">          0 :     free(new);</span>
<span class="lineNum">    1998 </span><span class="lineNoCov">          0 : return( rpl );</span>
<a name="1999"><span class="lineNum">    1999 </span>            : }</a>
<span class="lineNum">    2000 </span>            : 
<span class="lineNum">    2001 </span><span class="lineNoCov">          0 : static void PSPrivate_FinishEdit(GGadget *g,int r, int c, int wasnew) {</span>
<span class="lineNum">    2002 </span><span class="lineNoCov">          0 :     int rows, cols = GMatrixEditGetColCnt(g);</span>
<span class="lineNum">    2003 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = _GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    2004 </span><span class="lineNoCov">          0 :     struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    2005 </span><span class="lineNoCov">          0 :     char *key = strings[r*cols+0].u.md_str;</span>
<span class="lineNum">    2006 </span><span class="lineNoCov">          0 :     char *val = strings[r*cols+1].u.md_str;</span>
<span class="lineNum">    2007 </span>            :     char *pt, *ept, *newval;
<span class="lineNum">    2008 </span>            :     locale_t tmplocale;
<span class="lineNum">    2009 </span>            :     struct psdict *tempdict;
<span class="lineNum">    2010 </span>            : 
<span class="lineNum">    2011 </span><span class="lineNoCov">          0 :     if ( key==NULL )</span>
<span class="lineNum">    2012 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    2013 </span>            : 
<span class="lineNum">    2014 </span><span class="lineNoCov">          0 :     if ( c==0 &amp;&amp; (wasnew || val==NULL || *val=='\0')) {</span>
<span class="lineNum">    2015 </span><span class="lineNoCov">          0 :         tempdict = calloc(1,sizeof(*tempdict));</span>
<span class="lineNum">    2016 </span><span class="lineNoCov">          0 :         SFPrivateGuess(d-&gt;sf,ly_fore,tempdict,key,true);</span>
<span class="lineNum">    2017 </span><span class="lineNoCov">          0 :         strings[r*cols+1].u.md_str = copy(PSDictHasEntry(tempdict,key));</span>
<span class="lineNum">    2018 </span><span class="lineNoCov">          0 :         PSDictFree(tempdict);</span>
<span class="lineNum">    2019 </span><span class="lineNoCov">          0 :     } else if ( c==1 &amp;&amp; val!=NULL ) {</span>
<span class="lineNum">    2020 </span><span class="lineNoCov">          0 :         struct lconv *loc = localeconv();</span>
<span class="lineNum">    2021 </span>            :         int i;
<span class="lineNum">    2022 </span><span class="lineNoCov">          0 :         for ( i=0; KnownPrivates[i].name!=NULL; ++i )</span>
<span class="lineNum">    2023 </span><span class="lineNoCov">          0 :             if ( strcmp(KnownPrivates[i].name,key)==0 )</span>
<span class="lineNum">    2024 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    2025 </span><span class="lineNoCov">          0 :         if ( KnownPrivates[i].name==NULL )      /* If we don't recognize it, leave it be */</span>
<span class="lineNum">    2026 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    2027 </span>            : 
<span class="lineNum">    2028 </span><span class="lineNoCov">          0 :         tmplocale = newlocale_hack(LC_NUMERIC_MASK, &quot;C&quot;, NULL);</span>
<span class="lineNum">    2029 </span><span class="lineNoCov">          0 :         if (tmplocale == NULL) fprintf(stderr, &quot;Locale error.\n&quot;);</span>
<span class="lineNum">    2030 </span>            : 
<span class="lineNum">    2031 </span><span class="lineNoCov">          0 :         for ( pt=val; isspace(*pt); ++pt );</span>
<span class="lineNum">    2032 </span><span class="lineNoCov">          0 :         for ( ept = val+strlen(val-1); ept&gt;pt &amp;&amp; isspace(*ept); --ept );</span>
<span class="lineNum">    2033 </span><span class="lineNoCov">          0 :         if ( KnownPrivates[i].type==pt_boolean ) {</span>
<span class="lineNum">    2034 </span><span class="lineNoCov">          0 :             if ( strcasecmp(val,&quot;true&quot;)==0 || strcasecmp(val,&quot;t&quot;)==0 || strtol(val,NULL,10)!=0 ) {</span>
<span class="lineNum">    2035 </span>            :                 /* If they make a mistake about case, correct it */
<span class="lineNum">    2036 </span><span class="lineNoCov">          0 :                 strings[r*cols+1].u.md_str = copy(&quot;true&quot;);</span>
<span class="lineNum">    2037 </span><span class="lineNoCov">          0 :                 free(val);</span>
<span class="lineNum">    2038 </span><span class="lineNoCov">          0 :                 GGadgetRedraw(g);</span>
<span class="lineNum">    2039 </span><span class="lineNoCov">          0 :             } else if ( strcasecmp(val,&quot;false&quot;)==0 || strcasecmp(val,&quot;f&quot;)==0 || (*val=='0' &amp;&amp; strtol(val,NULL,10)==0) ) {</span>
<span class="lineNum">    2040 </span><span class="lineNoCov">          0 :                 strings[r*cols+1].u.md_str = copy(&quot;false&quot;);</span>
<span class="lineNum">    2041 </span><span class="lineNoCov">          0 :                 free(val);</span>
<span class="lineNum">    2042 </span><span class="lineNoCov">          0 :                 GGadgetRedraw(g);</span>
<span class="lineNum">    2043 </span>            :             } else
<span class="lineNum">    2044 </span>            : /* GT: The words &quot;true&quot; and &quot;false&quot; should be left untranslated. We are restricted */
<span class="lineNum">    2045 </span>            : /* GT: here by what PostScript understands, and it only understands the English */
<span class="lineNum">    2046 </span>            : /* GT: words. You may, of course, change it to something like (&quot;true&quot; (vrai) ou &quot;false&quot; (faux)) */
<span class="lineNum">    2047 </span><span class="lineNoCov">          0 :                 gwwv_post_notice(_(&quot;Bad type&quot;),_(&quot;Expected boolean value.\n(\&quot;true\&quot; or \&quot;false\&quot;)&quot;));</span>
<span class="lineNum">    2048 </span><span class="lineNoCov">          0 :         } else if ( KnownPrivates[i].type==pt_code ) {</span>
<span class="lineNum">    2049 </span><span class="lineNoCov">          0 :             if ( *pt!='\0' &amp;&amp; (*pt!='{' || (ept&gt;=pt &amp;&amp; *ept!='}')) )</span>
<span class="lineNum">    2050 </span><span class="lineNoCov">          0 :                 gwwv_post_notice(_(&quot;Bad type&quot;),_(&quot;Expected PostScript code.\nWhich usually begins with a \&quot;{\&quot; and ends with a \&quot;}\&quot;.&quot;));</span>
<span class="lineNum">    2051 </span><span class="lineNoCov">          0 :         } else if ( KnownPrivates[i].type==pt_number ) {</span>
<span class="lineNum">    2052 </span><span class="lineNoCov">          0 :             newval = rpldecimal(val,loc-&gt;decimal_point,tmplocale);</span>
<span class="lineNum">    2053 </span><span class="lineNoCov">          0 :             if ( newval==NULL )</span>
<span class="lineNum">    2054 </span><span class="lineNoCov">          0 :                 gwwv_post_notice(_(&quot;Bad type&quot;),_(&quot;Expected number.&quot;));</span>
<span class="lineNum">    2055 </span><span class="lineNoCov">          0 :             else if ( strcmp(newval,val)==0 )</span>
<span class="lineNum">    2056 </span><span class="lineNoCov">          0 :                 free(newval);           /* No change */</span>
<span class="lineNum">    2057 </span>            :             else {
<span class="lineNum">    2058 </span><span class="lineNoCov">          0 :                 strings[r*cols+1].u.md_str = newval;</span>
<span class="lineNum">    2059 </span><span class="lineNoCov">          0 :                 free(val);</span>
<span class="lineNum">    2060 </span><span class="lineNoCov">          0 :                 GGadgetRedraw(g);</span>
<span class="lineNum">    2061 </span>            :             }
<span class="lineNum">    2062 </span><span class="lineNoCov">          0 :         } else if ( KnownPrivates[i].type==pt_array ) {</span>
<span class="lineNum">    2063 </span><span class="lineNoCov">          0 :             newval = rplarraydecimal(val,loc-&gt;decimal_point,tmplocale);</span>
<span class="lineNum">    2064 </span><span class="lineNoCov">          0 :             if ( newval==NULL )</span>
<span class="lineNum">    2065 </span><span class="lineNoCov">          0 :                 gwwv_post_notice(_(&quot;Bad type&quot;),_(&quot;Expected number.&quot;));</span>
<span class="lineNum">    2066 </span><span class="lineNoCov">          0 :             else if ( strcmp(newval,val)==0 )</span>
<span class="lineNum">    2067 </span><span class="lineNoCov">          0 :                 free(newval);           /* No change */</span>
<span class="lineNum">    2068 </span>            :             else {
<span class="lineNum">    2069 </span><span class="lineNoCov">          0 :                 strings[r*cols+1].u.md_str = newval;</span>
<span class="lineNum">    2070 </span><span class="lineNoCov">          0 :                 free(val);</span>
<span class="lineNum">    2071 </span><span class="lineNoCov">          0 :                 GGadgetRedraw(g);</span>
<span class="lineNum">    2072 </span>            :             }
<span class="lineNum">    2073 </span>            :         }
<span class="lineNum">    2074 </span><span class="lineNoCov">          0 :         if (tmplocale != NULL) { freelocale_hack(tmplocale); tmplocale = NULL; }</span>
<span class="lineNum">    2075 </span>            :     }
<a name="2076"><span class="lineNum">    2076 </span>            : }</a>
<span class="lineNum">    2077 </span>            : 
<span class="lineNum">    2078 </span><span class="lineNoCov">          0 : static void PSPrivate_MatrixInit(struct matrixinit *mi,struct gfi_data *d) {</span>
<span class="lineNum">    2079 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    2080 </span>            :     int i,j;
<span class="lineNum">    2081 </span>            :     struct matrix_data *md;
<span class="lineNum">    2082 </span>            : 
<span class="lineNum">    2083 </span><span class="lineNoCov">          0 :     memset(mi,0,sizeof(*mi));</span>
<span class="lineNum">    2084 </span><span class="lineNoCov">          0 :     mi-&gt;col_cnt = 2;</span>
<span class="lineNum">    2085 </span><span class="lineNoCov">          0 :     mi-&gt;col_init = psprivate_ci;</span>
<span class="lineNum">    2086 </span>            : 
<span class="lineNum">    2087 </span><span class="lineNoCov">          0 :     mi-&gt;initial_row_cnt = sf-&gt;private==NULL?0:sf-&gt;private-&gt;next;</span>
<span class="lineNum">    2088 </span><span class="lineNoCov">          0 :     md = calloc(2*(mi-&gt;initial_row_cnt+1),sizeof(struct matrix_data));</span>
<span class="lineNum">    2089 </span><span class="lineNoCov">          0 :     if ( sf-&gt;private!=NULL ) {</span>
<span class="lineNum">    2090 </span><span class="lineNoCov">          0 :         for ( i=j=0; i&lt;sf-&gt;private-&gt;next; ++i ) {</span>
<span class="lineNum">    2091 </span><span class="lineNoCov">          0 :             md[2*j  ].u.md_str = copy(sf-&gt;private-&gt;keys[i]);</span>
<span class="lineNum">    2092 </span><span class="lineNoCov">          0 :             md[2*j+1].u.md_str = copy(sf-&gt;private-&gt;values[i]);</span>
<span class="lineNum">    2093 </span><span class="lineNoCov">          0 :             ++j;</span>
<span class="lineNum">    2094 </span>            :         }
<span class="lineNum">    2095 </span>            :     }
<span class="lineNum">    2096 </span><span class="lineNoCov">          0 :     mi-&gt;matrix_data = md;</span>
<span class="lineNum">    2097 </span>            : 
<span class="lineNum">    2098 </span><span class="lineNoCov">          0 :     mi-&gt;finishedit = PSPrivate_FinishEdit;</span>
<a name="2099"><span class="lineNum">    2099 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    2100 </span>            : 
<span class="lineNum">    2101 </span><span class="lineNoCov">          0 : static struct psdict *GFI_ParsePrivate(struct gfi_data *d) {</span>
<span class="lineNum">    2102 </span><span class="lineNoCov">          0 :     struct psdict *ret = calloc(1,sizeof(struct psdict));</span>
<span class="lineNum">    2103 </span><span class="lineNoCov">          0 :     GGadget *private = GWidgetGetControl(d-&gt;gw,CID_Private);</span>
<span class="lineNum">    2104 </span><span class="lineNoCov">          0 :     int rows, cols = GMatrixEditGetColCnt(private);</span>
<span class="lineNum">    2105 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(private, &amp;rows);</span>
<span class="lineNum">    2106 </span>            :     int i,j;
<span class="lineNum">    2107 </span>            : 
<span class="lineNum">    2108 </span><span class="lineNoCov">          0 :     ret-&gt;cnt = rows;</span>
<span class="lineNum">    2109 </span><span class="lineNoCov">          0 :     ret-&gt;keys = malloc(rows*sizeof(char *));</span>
<span class="lineNum">    2110 </span><span class="lineNoCov">          0 :     ret-&gt;values = malloc(rows*sizeof(char *));</span>
<span class="lineNum">    2111 </span><span class="lineNoCov">          0 :     for ( i=j=0; i&lt;rows; ++i ) {</span>
<span class="lineNum">    2112 </span><span class="lineNoCov">          0 :         if ( strings[i*cols+0].u.md_str!=NULL &amp;&amp; strings[i*cols+1].u.md_str!=NULL ) {</span>
<span class="lineNum">    2113 </span><span class="lineNoCov">          0 :             ret-&gt;keys[j] = copy(strings[i*cols+0].u.md_str);</span>
<span class="lineNum">    2114 </span><span class="lineNoCov">          0 :             ret-&gt;values[j++] = copy(strings[i*cols+1].u.md_str);</span>
<span class="lineNum">    2115 </span>            :         }
<span class="lineNum">    2116 </span>            :     }
<span class="lineNum">    2117 </span><span class="lineNoCov">          0 :     ret-&gt;next = j;</span>
<span class="lineNum">    2118 </span><span class="lineNoCov">          0 : return( ret );</span>
<a name="2119"><span class="lineNum">    2119 </span>            : }</a>
<span class="lineNum">    2120 </span>            : 
<span class="lineNum">    2121 </span><span class="lineNoCov">          0 : static void PSPrivate_EnableButtons(GGadget *g, int r, int c) {</span>
<span class="lineNum">    2122 </span><span class="lineNoCov">          0 :     int rows, cols = GMatrixEditGetColCnt(g);</span>
<span class="lineNum">    2123 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = _GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    2124 </span><span class="lineNoCov">          0 :     struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    2125 </span><span class="lineNoCov">          0 :     char *key = r&gt;=0 &amp;&amp; r&lt;rows ? strings[r*cols+0].u.md_str : NULL;</span>
<span class="lineNum">    2126 </span><span class="lineNoCov">          0 :     int has_hist = key!=NULL &amp;&amp; (</span>
<span class="lineNum">    2127 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;BlueValues&quot;)==0 ||</span>
<span class="lineNum">    2128 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;OtherBlues&quot;)==0 ||</span>
<span class="lineNum">    2129 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;StdHW&quot;)==0 ||</span>
<span class="lineNum">    2130 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;StemSnapH&quot;)==0 ||</span>
<span class="lineNum">    2131 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;StdVW&quot;)==0 ||</span>
<span class="lineNum">    2132 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;StemSnapV&quot;)==0);</span>
<span class="lineNum">    2133 </span><span class="lineNoCov">          0 :     int has_guess = key!=NULL &amp;&amp; (has_hist ||</span>
<span class="lineNum">    2134 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;BlueScale&quot;)==0 ||</span>
<span class="lineNum">    2135 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;BlueShift&quot;)==0 ||</span>
<span class="lineNum">    2136 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;BlueFuzz&quot;)==0 ||</span>
<span class="lineNum">    2137 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;ForceBold&quot;)==0 ||</span>
<span class="lineNum">    2138 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;LanguageGroup&quot;)==0 ||</span>
<span class="lineNum">    2139 </span><span class="lineNoCov">          0 :                     strcmp(key,&quot;ExpansionFactor&quot;)==0);</span>
<span class="lineNum">    2140 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(d-&gt;gw,CID_Guess), has_guess);</span>
<span class="lineNum">    2141 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(d-&gt;gw,CID_Hist ), has_hist );</span>
<a name="2142"><span class="lineNum">    2142 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    2143 </span>            : 
<span class="lineNum">    2144 </span><span class="lineNoCov">          0 : static int PI_Guess(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    2145 </span>            :     GWindow gw;
<span class="lineNum">    2146 </span>            :     struct gfi_data *d;
<span class="lineNum">    2147 </span>            :     GGadget *private;
<span class="lineNum">    2148 </span>            :     struct psdict *tempdict;
<span class="lineNum">    2149 </span>            :     struct matrix_data *strings;
<span class="lineNum">    2150 </span>            :     int rows, cols, r;
<span class="lineNum">    2151 </span>            :     char *key, *ret;
<span class="lineNum">    2152 </span>            : 
<span class="lineNum">    2153 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    2154 </span><span class="lineNoCov">          0 :         gw = GGadgetGetWindow(g);</span>
<span class="lineNum">    2155 </span><span class="lineNoCov">          0 :         d = GDrawGetUserData(gw);</span>
<span class="lineNum">    2156 </span><span class="lineNoCov">          0 :         private = GWidgetGetControl(gw,CID_Private);</span>
<span class="lineNum">    2157 </span><span class="lineNoCov">          0 :         strings = GMatrixEditGet(private, &amp;rows);   /* Commit any changes made thus far */</span>
<span class="lineNum">    2158 </span><span class="lineNoCov">          0 :         cols = GMatrixEditGetColCnt(private);</span>
<span class="lineNum">    2159 </span><span class="lineNoCov">          0 :         r = GMatrixEditGetActiveRow(private);</span>
<span class="lineNum">    2160 </span><span class="lineNoCov">          0 :         key = strings[r*cols+0].u.md_str;</span>
<span class="lineNum">    2161 </span><span class="lineNoCov">          0 :         tempdict = calloc(1,sizeof(*tempdict));</span>
<span class="lineNum">    2162 </span><span class="lineNoCov">          0 :         SFPrivateGuess(d-&gt;sf,ly_fore,tempdict,key,true);</span>
<span class="lineNum">    2163 </span><span class="lineNoCov">          0 :         ret = copy(PSDictHasEntry(tempdict,key));</span>
<span class="lineNum">    2164 </span><span class="lineNoCov">          0 :         if ( ret!=NULL ) {</span>
<span class="lineNum">    2165 </span><span class="lineNoCov">          0 :             free(strings[r*cols+1].u.md_str);</span>
<span class="lineNum">    2166 </span><span class="lineNoCov">          0 :             strings[r*cols+1].u.md_str = ret;</span>
<span class="lineNum">    2167 </span><span class="lineNoCov">          0 :             GGadgetRedraw(private);</span>
<span class="lineNum">    2168 </span>            :         }
<span class="lineNum">    2169 </span><span class="lineNoCov">          0 :         PSDictFree(tempdict);</span>
<span class="lineNum">    2170 </span>            :     }
<span class="lineNum">    2171 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="2172"><span class="lineNum">    2172 </span>            : }</a>
<span class="lineNum">    2173 </span>            : 
<span class="lineNum">    2174 </span><span class="lineNoCov">          0 : static int PI_Hist(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    2175 </span>            :     GWindow gw;
<span class="lineNum">    2176 </span>            :     struct gfi_data *d;
<span class="lineNum">    2177 </span>            :     GGadget *private;
<span class="lineNum">    2178 </span>            :     struct psdict *tempdict;
<span class="lineNum">    2179 </span>            :     enum hist_type h;
<span class="lineNum">    2180 </span>            :     struct matrix_data *strings;
<span class="lineNum">    2181 </span>            :     int rows, cols, r;
<span class="lineNum">    2182 </span>            :     char *key, *ret;
<span class="lineNum">    2183 </span>            : 
<span class="lineNum">    2184 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    2185 </span><span class="lineNoCov">          0 :         gw = GGadgetGetWindow(g);</span>
<span class="lineNum">    2186 </span><span class="lineNoCov">          0 :         d = GDrawGetUserData(gw);</span>
<span class="lineNum">    2187 </span><span class="lineNoCov">          0 :         private = GWidgetGetControl(gw,CID_Private);</span>
<span class="lineNum">    2188 </span><span class="lineNoCov">          0 :         strings = _GMatrixEditGet(private, &amp;rows);</span>
<span class="lineNum">    2189 </span><span class="lineNoCov">          0 :         cols = GMatrixEditGetColCnt(private);</span>
<span class="lineNum">    2190 </span><span class="lineNoCov">          0 :         r = GMatrixEditGetActiveRow(private);</span>
<span class="lineNum">    2191 </span><span class="lineNoCov">          0 :         key = strings[r*cols+0].u.md_str;</span>
<span class="lineNum">    2192 </span><span class="lineNoCov">          0 :         if ( strcmp(key,&quot;BlueValues&quot;)==0 ||</span>
<span class="lineNum">    2193 </span><span class="lineNoCov">          0 :                 strcmp(key,&quot;OtherBlues&quot;)==0 )</span>
<span class="lineNum">    2194 </span><span class="lineNoCov">          0 :             h = hist_blues;</span>
<span class="lineNum">    2195 </span><span class="lineNoCov">          0 :         else if ( strcmp(key,&quot;StdHW&quot;)==0 ||</span>
<span class="lineNum">    2196 </span><span class="lineNoCov">          0 :                 strcmp(key,&quot;StemSnapH&quot;)==0 )</span>
<span class="lineNum">    2197 </span><span class="lineNoCov">          0 :             h = hist_hstem;</span>
<span class="lineNum">    2198 </span><span class="lineNoCov">          0 :         else if ( strcmp(key,&quot;StdVW&quot;)==0 ||</span>
<span class="lineNum">    2199 </span><span class="lineNoCov">          0 :                 strcmp(key,&quot;StemSnapV&quot;)==0 )</span>
<span class="lineNum">    2200 </span><span class="lineNoCov">          0 :             h = hist_vstem;</span>
<span class="lineNum">    2201 </span>            :         else
<span class="lineNum">    2202 </span><span class="lineNoCov">          0 : return( true );         /* can't happen */</span>
<span class="lineNum">    2203 </span><span class="lineNoCov">          0 :         tempdict = GFI_ParsePrivate(d);</span>
<span class="lineNum">    2204 </span><span class="lineNoCov">          0 :         SFHistogram(d-&gt;sf,ly_fore,tempdict,NULL,NULL,h);</span>
<span class="lineNum">    2205 </span><span class="lineNoCov">          0 :         ret = copy(PSDictHasEntry(tempdict,key));</span>
<span class="lineNum">    2206 </span><span class="lineNoCov">          0 :         if ( ret!=NULL ) {</span>
<span class="lineNum">    2207 </span><span class="lineNoCov">          0 :             free(strings[r*cols+1].u.md_str);</span>
<span class="lineNum">    2208 </span><span class="lineNoCov">          0 :             strings[r*cols+1].u.md_str = ret;</span>
<span class="lineNum">    2209 </span><span class="lineNoCov">          0 :             GGadgetRedraw(private);</span>
<span class="lineNum">    2210 </span>            :         }
<span class="lineNum">    2211 </span><span class="lineNoCov">          0 :         PSDictFree(tempdict);</span>
<span class="lineNum">    2212 </span>            :     }
<span class="lineNum">    2213 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="2214"><span class="lineNum">    2214 </span>            : }</a>
<span class="lineNum">    2215 </span>            : 
<span class="lineNum">    2216 </span><span class="lineNoCov">          0 : static int GFI_NameChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    2217 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_textchanged ) {</span>
<span class="lineNum">    2218 </span><span class="lineNoCov">          0 :         GWindow gw = GGadgetGetWindow(g);</span>
<span class="lineNum">    2219 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(gw);</span>
<span class="lineNum">    2220 </span><span class="lineNoCov">          0 :         const unichar_t *uname = _GGadgetGetTitle(GWidgetGetControl(gw,CID_Fontname));</span>
<span class="lineNum">    2221 </span>            :         unichar_t ubuf[50];
<span class="lineNum">    2222 </span>            :         int i,j;
<span class="lineNum">    2223 </span><span class="lineNoCov">          0 :         for ( j=0; noticeweights[j]!=NULL; ++j ) {</span>
<span class="lineNum">    2224 </span><span class="lineNoCov">          0 :             for ( i=0; noticeweights[j][i]!=NULL; ++i ) {</span>
<span class="lineNum">    2225 </span><span class="lineNoCov">          0 :                 if ( uc_strstrmatch(uname,noticeweights[j][i])!=NULL ) {</span>
<span class="lineNum">    2226 </span><span class="lineNoCov">          0 :                     uc_strcpy(ubuf, noticeweights[j]==knownweights ?</span>
<span class="lineNum">    2227 </span><span class="lineNoCov">          0 :                             realweights[i] : noticeweights[j][i]);</span>
<span class="lineNum">    2228 </span><span class="lineNoCov">          0 :                     GGadgetSetTitle(GWidgetGetControl(gw,CID_Weight),ubuf);</span>
<span class="lineNum">    2229 </span><span class="lineNoCov">          0 :             break;</span>
<span class="lineNum">    2230 </span>            :                 }
<span class="lineNum">    2231 </span>            :             }
<span class="lineNum">    2232 </span><span class="lineNoCov">          0 :             if ( noticeweights[j][i]!=NULL )</span>
<span class="lineNum">    2233 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    2234 </span>            :         }
<span class="lineNum">    2235 </span>            : 
<span class="lineNum">    2236 </span>            :         /* If the user didn't set the full name yet, we guess it from the
<span class="lineNum">    2237 </span>            :          * postrscript name */
<span class="lineNum">    2238 </span><span class="lineNoCov">          0 :         if ( gfi-&gt;human_untitled ) {</span>
<span class="lineNum">    2239 </span><span class="lineNoCov">          0 :             unichar_t *cp = u_copy(uname);</span>
<span class="lineNum">    2240 </span><span class="lineNoCov">          0 :             int i=0;</span>
<span class="lineNum">    2241 </span>            :             /* replace the last hyphen with space */
<span class="lineNum">    2242 </span><span class="lineNoCov">          0 :             for( i=u_strlen(cp); i&gt;=0; i-- ) {</span>
<span class="lineNum">    2243 </span><span class="lineNoCov">          0 :                 if( cp[i] == '-' ) {</span>
<span class="lineNum">    2244 </span><span class="lineNoCov">          0 :                     cp[i] = ' ';</span>
<span class="lineNum">    2245 </span><span class="lineNoCov">          0 :                     break;</span>
<span class="lineNum">    2246 </span>            :                 }
<span class="lineNum">    2247 </span>            :             }
<span class="lineNum">    2248 </span>            :             /* If the postscript name ends with &quot;Regular&quot; it is recommended not
<span class="lineNum">    2249 </span>            :              * to include it in the full name */
<span class="lineNum">    2250 </span><span class="lineNoCov">          0 :             if(u_endswith(cp,c_to_u(&quot; Regular&quot;)) || u_endswith(cp,c_to_u(&quot; regular&quot;))) {</span>
<span class="lineNum">    2251 </span><span class="lineNoCov">          0 :                 cp[u_strlen(cp) - strlen(&quot; Regular&quot;)] ='\0';</span>
<span class="lineNum">    2252 </span>            :             }
<span class="lineNum">    2253 </span><span class="lineNoCov">          0 :             GGadgetSetTitle(GWidgetGetControl(gw,CID_Human),cp);</span>
<span class="lineNum">    2254 </span><span class="lineNoCov">          0 :             free(cp);</span>
<span class="lineNum">    2255 </span>            :         }
<span class="lineNum">    2256 </span><span class="lineNoCov">          0 :         if ( gfi-&gt;family_untitled ) {</span>
<span class="lineNum">    2257 </span><span class="lineNoCov">          0 :             const unichar_t *ept = uname+u_strlen(uname); unichar_t *temp;</span>
<span class="lineNum">    2258 </span><span class="lineNoCov">          0 :             for ( i=0; knownweights[i]!=NULL; ++i ) {</span>
<span class="lineNum">    2259 </span><span class="lineNoCov">          0 :                 if (( temp = uc_strstrmatch(uname,knownweights[i]))!=NULL &amp;&amp; temp&lt;ept &amp;&amp; temp!=uname )</span>
<span class="lineNum">    2260 </span><span class="lineNoCov">          0 :                     ept = temp;</span>
<span class="lineNum">    2261 </span>            :             }
<span class="lineNum">    2262 </span><span class="lineNoCov">          0 :             if (( temp = uc_strstrmatch(uname,&quot;ital&quot;))!=NULL &amp;&amp; temp&lt;ept &amp;&amp; temp!=uname )</span>
<span class="lineNum">    2263 </span><span class="lineNoCov">          0 :                 ept = temp;</span>
<span class="lineNum">    2264 </span><span class="lineNoCov">          0 :             if (( temp = uc_strstrmatch(uname,&quot;obli&quot;))!=NULL &amp;&amp; temp&lt;ept &amp;&amp; temp!=uname )</span>
<span class="lineNum">    2265 </span><span class="lineNoCov">          0 :                 ept = temp;</span>
<span class="lineNum">    2266 </span><span class="lineNoCov">          0 :             if (( temp = uc_strstrmatch(uname,&quot;kurs&quot;))!=NULL &amp;&amp; temp&lt;ept &amp;&amp; temp!=uname )</span>
<span class="lineNum">    2267 </span><span class="lineNoCov">          0 :                 ept = temp;</span>
<span class="lineNum">    2268 </span><span class="lineNoCov">          0 :             if (( temp = uc_strstrmatch(uname,&quot;slanted&quot;))!=NULL &amp;&amp; temp&lt;ept &amp;&amp; temp!=uname )</span>
<span class="lineNum">    2269 </span><span class="lineNoCov">          0 :                 ept = temp;</span>
<span class="lineNum">    2270 </span><span class="lineNoCov">          0 :             if (( temp = u_strchr(uname,'-'))!=NULL &amp;&amp; temp!=uname )</span>
<span class="lineNum">    2271 </span><span class="lineNoCov">          0 :                 ept = temp;</span>
<span class="lineNum">    2272 </span><span class="lineNoCov">          0 :             temp = u_copyn(uname,ept-uname);</span>
<span class="lineNum">    2273 </span><span class="lineNoCov">          0 :             GGadgetSetTitle(GWidgetGetControl(gw,CID_Family),temp);</span>
<span class="lineNum">    2274 </span>            :         }
<span class="lineNum">    2275 </span>            :     }
<span class="lineNum">    2276 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="2277"><span class="lineNum">    2277 </span>            : }</a>
<span class="lineNum">    2278 </span>            : 
<span class="lineNum">    2279 </span><span class="lineNoCov">          0 : static int GFI_FamilyChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    2280 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_textchanged ) {</span>
<span class="lineNum">    2281 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    2282 </span><span class="lineNoCov">          0 :         gfi-&gt;family_untitled = false;</span>
<span class="lineNum">    2283 </span>            :     }
<span class="lineNum">    2284 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="2285"><span class="lineNum">    2285 </span>            : }</a>
<span class="lineNum">    2286 </span>            : 
<span class="lineNum">    2287 </span><span class="lineNoCov">          0 : static int GFI_DefBaseChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    2288 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_textchanged ) {</span>
<span class="lineNum">    2289 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    2290 </span><span class="lineNoCov">          0 :         GGadgetSetChecked(GWidgetGetControl(gfi-&gt;gw,*_GGadgetGetTitle(g)!='\0'?CID_HasDefBase:CID_SameAsFontname),</span>
<span class="lineNum">    2291 </span>            :                 true);
<span class="lineNum">    2292 </span>            :     }
<span class="lineNum">    2293 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="2294"><span class="lineNum">    2294 </span>            : }</a>
<span class="lineNum">    2295 </span>            : 
<span class="lineNum">    2296 </span><span class="lineNoCov">          0 : static int GFI_HumanChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    2297 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_textchanged ) {</span>
<span class="lineNum">    2298 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    2299 </span><span class="lineNoCov">          0 :         gfi-&gt;human_untitled = false;</span>
<span class="lineNum">    2300 </span>            :     }
<span class="lineNum">    2301 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="2302"><span class="lineNum">    2302 </span>            : }</a>
<span class="lineNum">    2303 </span>            : 
<span class="lineNum">    2304 </span><span class="lineNoCov">          0 : static int GFI_VMetricsCheck(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    2305 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    2306 </span><span class="lineNoCov">          0 :         GWindow gw = GGadgetGetWindow(g);</span>
<span class="lineNum">    2307 </span><span class="lineNoCov">          0 :         int checked = GGadgetIsChecked(g);</span>
<span class="lineNum">    2308 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(GDrawGetParentWindow(gw),CID_VLineGap),checked);</span>
<span class="lineNum">    2309 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(GDrawGetParentWindow(gw),CID_VLineGapLab),checked);</span>
<span class="lineNum">    2310 </span>            :     }
<span class="lineNum">    2311 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="2312"><span class="lineNum">    2312 </span>            : }</a>
<span class="lineNum">    2313 </span>            : 
<span class="lineNum">    2314 </span><span class="lineNoCov">          0 : static int GFI_EmChanged(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    2315 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_textchanged ) {</span>
<span class="lineNum">    2316 </span>            :         char buf[20]; unichar_t ubuf[20];
<span class="lineNum">    2317 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    2318 </span><span class="lineNoCov">          0 :         const unichar_t *ret = _GGadgetGetTitle(g); unichar_t *end;</span>
<span class="lineNum">    2319 </span><span class="lineNoCov">          0 :         int val = u_strtol(ret,&amp;end,10), ascent, descent;</span>
<span class="lineNum">    2320 </span><span class="lineNoCov">          0 :         if ( *end )</span>
<span class="lineNum">    2321 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    2322 </span><span class="lineNoCov">          0 :         switch ( GGadgetGetCid(g)) {</span>
<span class="lineNum">    2323 </span>            :           case CID_Em:
<span class="lineNum">    2324 </span><span class="lineNoCov">          0 :             ascent = rint( ((double) val)*d-&gt;sf-&gt;ascent/(d-&gt;sf-&gt;ascent+d-&gt;sf-&gt;descent) );</span>
<span class="lineNum">    2325 </span><span class="lineNoCov">          0 :             descent = val - ascent;</span>
<span class="lineNum">    2326 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    2327 </span>            :           case CID_Ascent:
<span class="lineNum">    2328 </span><span class="lineNoCov">          0 :             ascent = val;</span>
<span class="lineNum">    2329 </span><span class="lineNoCov">          0 :             ret = _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Descent));</span>
<span class="lineNum">    2330 </span><span class="lineNoCov">          0 :             descent = u_strtol(ret,&amp;end,10);</span>
<span class="lineNum">    2331 </span><span class="lineNoCov">          0 :             if ( *end )</span>
<span class="lineNum">    2332 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    2333 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    2334 </span>            :           case CID_Descent:
<span class="lineNum">    2335 </span><span class="lineNoCov">          0 :             descent = val;</span>
<span class="lineNum">    2336 </span><span class="lineNoCov">          0 :             ret = _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Ascent));</span>
<span class="lineNum">    2337 </span><span class="lineNoCov">          0 :             ascent = u_strtol(ret,&amp;end,10);</span>
<span class="lineNum">    2338 </span><span class="lineNoCov">          0 :             if ( *end )</span>
<span class="lineNum">    2339 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    2340 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    2341 </span>            :         }
<span class="lineNum">    2342 </span><span class="lineNoCov">          0 :         sprintf( buf, &quot;%d&quot;, ascent ); if ( ascent==0 ) buf[0]='\0'; uc_strcpy(ubuf,buf);</span>
<span class="lineNum">    2343 </span><span class="lineNoCov">          0 :         GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_Ascent),ubuf);</span>
<span class="lineNum">    2344 </span><span class="lineNoCov">          0 :         sprintf( buf, &quot;%d&quot;, descent ); if ( descent==0 ) buf[0]='\0'; uc_strcpy(ubuf,buf);</span>
<span class="lineNum">    2345 </span><span class="lineNoCov">          0 :         GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_Descent),ubuf);</span>
<span class="lineNum">    2346 </span><span class="lineNoCov">          0 :         sprintf( buf, &quot;%d&quot;, ascent+descent ); if ( ascent+descent==0 ) buf[0]='\0'; uc_strcpy(ubuf,buf);</span>
<span class="lineNum">    2347 </span><span class="lineNoCov">          0 :         GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_Em),ubuf);</span>
<span class="lineNum">    2348 </span>            :     }
<span class="lineNum">    2349 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="2350"><span class="lineNum">    2350 </span>            : }</a>
<span class="lineNum">    2351 </span>            : 
<span class="lineNum">    2352 </span><span class="lineNoCov">          0 : static int GFI_GuessItalic(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    2353 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    2354 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    2355 </span><span class="lineNoCov">          0 :         double val = SFGuessItalicAngle(d-&gt;sf);</span>
<span class="lineNum">    2356 </span>            :         char buf[30]; unichar_t ubuf[30];
<span class="lineNum">    2357 </span><span class="lineNoCov">          0 :         sprintf( buf, &quot;%.1f&quot;, val);</span>
<span class="lineNum">    2358 </span><span class="lineNoCov">          0 :         uc_strcpy(ubuf,buf);</span>
<span class="lineNum">    2359 </span><span class="lineNoCov">          0 :         GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_ItalicAngle),ubuf);</span>
<span class="lineNum">    2360 </span>            :     }
<span class="lineNum">    2361 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="2362"><span class="lineNum">    2362 </span>            : }</a>
<span class="lineNum">    2363 </span>            : 
<span class="lineNum">    2364 </span><span class="lineNoCov">          0 : static void GFI_Close(struct gfi_data *d) {</span>
<span class="lineNum">    2365 </span>            : 
<span class="lineNum">    2366 </span><span class="lineNoCov">          0 :     GDrawDestroyWindow(d-&gt;gw);</span>
<span class="lineNum">    2367 </span><span class="lineNoCov">          0 :     if ( d-&gt;sf-&gt;fontinfo == d )</span>
<span class="lineNum">    2368 </span><span class="lineNoCov">          0 :         d-&gt;sf-&gt;fontinfo = NULL;</span>
<span class="lineNum">    2369 </span><span class="lineNoCov">          0 :     FVRefreshAll(d-&gt;sf);</span>
<span class="lineNum">    2370 </span><span class="lineNoCov">          0 :     d-&gt;done = true;</span>
<span class="lineNum">    2371 </span>            :     /* d will be freed by destroy event */;
<a name="2372"><span class="lineNum">    2372 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    2373 </span>            : 
<span class="lineNum">    2374 </span><span class="lineNoCov">          0 : static void GFI_Mark_FinishEdit(GGadget *g,int r, int c, int wasnew) {</span>
<span class="lineNum">    2375 </span><span class="lineNoCov">          0 :     struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    2376 </span><span class="lineNoCov">          0 :     int is_markclass = GGadgetGetCid(g) == CID_MarkClasses;</span>
<span class="lineNum">    2377 </span>            : 
<span class="lineNum">    2378 </span><span class="lineNoCov">          0 :     if ( c==0 ) {</span>
<span class="lineNum">    2379 </span>            :         /* Name can't be null. No spaces. No duplicates */
<span class="lineNum">    2380 </span><span class="lineNoCov">          0 :         int rows, cols = GMatrixEditGetColCnt(g);</span>
<span class="lineNum">    2381 </span><span class="lineNoCov">          0 :         struct matrix_data *classes = _GMatrixEditGet(g,&amp;rows);</span>
<span class="lineNum">    2382 </span>            :         char *pt;
<span class="lineNum">    2383 </span>            :         int i;
<span class="lineNum">    2384 </span>            : 
<span class="lineNum">    2385 </span><span class="lineNoCov">          0 :         if ( classes[r*cols+c].u.md_str==NULL || *classes[r*cols+c].u.md_str=='\0' ) {</span>
<span class="lineNum">    2386 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;No Name&quot;), _(&quot;Please specify a name for this mark class or set&quot;));</span>
<span class="lineNum">    2387 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    2388 </span>            :         }
<span class="lineNum">    2389 </span><span class="lineNoCov">          0 :         for ( pt = classes[r*cols+c].u.md_str; *pt!='\0'; ++pt ) {</span>
<span class="lineNum">    2390 </span><span class="lineNoCov">          0 :             if ( *pt==' ' ) {</span>
<span class="lineNum">    2391 </span><span class="lineNoCov">          0 :                 ff_post_error(_(&quot;Bad Name&quot;), _(&quot;Mark class/set names should not contain spaces.&quot;));</span>
<span class="lineNum">    2392 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    2393 </span>            :             }
<span class="lineNum">    2394 </span>            :         }
<span class="lineNum">    2395 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;rows; ++i ) if ( i!=r ) {</span>
<span class="lineNum">    2396 </span><span class="lineNoCov">          0 :             if ( strcmp(classes[r*cols+c].u.md_str,classes[i*cols+c].u.md_str)==0 ) {</span>
<span class="lineNum">    2397 </span><span class="lineNoCov">          0 :                 ff_post_error(_(&quot;Duplicate Name&quot;), _(&quot;This name was previously used to identify mark class/set #%d.&quot;), i+1);</span>
<span class="lineNum">    2398 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    2399 </span>            :             }
<span class="lineNum">    2400 </span>            :         }
<span class="lineNum">    2401 </span>            :     } else {
<span class="lineNum">    2402 </span><span class="lineNoCov">          0 :         if ( is_markclass )</span>
<span class="lineNum">    2403 </span><span class="lineNoCov">          0 :             ME_ClassCheckUnique(g, r, c, d-&gt;sf);</span>
<span class="lineNum">    2404 </span>            :         else
<span class="lineNum">    2405 </span><span class="lineNoCov">          0 :             ME_SetCheckUnique(g, r, c, d-&gt;sf);</span>
<span class="lineNum">    2406 </span>            :     }
<a name="2407"><span class="lineNum">    2407 </span>            : }</a>
<span class="lineNum">    2408 </span>            : 
<span class="lineNum">    2409 </span><span class="lineNoCov">          0 : static char *GFI_Mark_PickGlyphsForClass(GGadget *g,int r, int c) {</span>
<span class="lineNum">    2410 </span><span class="lineNoCov">          0 :     struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    2411 </span><span class="lineNoCov">          0 :     int rows, cols = GMatrixEditGetColCnt(g);</span>
<span class="lineNum">    2412 </span><span class="lineNoCov">          0 :     struct matrix_data *classes = _GMatrixEditGet(g,&amp;rows);</span>
<span class="lineNum">    2413 </span><span class="lineNoCov">          0 :     char *new = GlyphSetFromSelection(d-&gt;sf,d-&gt;def_layer,classes[r*cols+c].u.md_str);</span>
<span class="lineNum">    2414 </span><span class="lineNoCov">          0 : return( new );</span>
<a name="2415"><span class="lineNum">    2415 </span>            : }</a>
<span class="lineNum">    2416 </span>            : 
<span class="lineNum">    2417 </span><span class="lineNoCov">          0 : static void GFI_Mark_DeleteClass(GGadget *g,int whichclass) {</span>
<span class="lineNum">    2418 </span><span class="lineNoCov">          0 :     struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    2419 </span>            :     int rows/*, cols = GMatrixEditGetColCnt(g)*/;
<span class="lineNum">    2420 </span><span class="lineNoCov">          0 :     struct matrix_data *classes = _GMatrixEditGet(g,&amp;rows);</span>
<span class="lineNum">    2421 </span><span class="lineNoCov">          0 :     int is_markclass = GGadgetGetCid(g) == CID_MarkClasses;</span>
<span class="lineNum">    2422 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    2423 </span>            :     OTLookup *otl;
<span class="lineNum">    2424 </span>            :     int isgpos;
<span class="lineNum">    2425 </span>            : 
<span class="lineNum">    2426 </span><span class="lineNoCov">          0 :     whichclass += is_markclass;         /* Classes begin at 1, Sets begin at 0 */</span>
<span class="lineNum">    2427 </span><span class="lineNoCov">          0 :     for ( isgpos=0; isgpos&lt;2; ++isgpos ) {</span>
<span class="lineNum">    2428 </span><span class="lineNoCov">          0 :         for ( otl = isgpos ? sf-&gt;gpos_lookups : sf-&gt;gsub_lookups; otl!=NULL; otl=otl-&gt;next ) {</span>
<span class="lineNum">    2429 </span><span class="lineNoCov">          0 :             if ( is_markclass ) {</span>
<span class="lineNum">    2430 </span><span class="lineNoCov">          0 :                 int old = (otl-&gt;lookup_flags &amp; pst_markclass)&gt;&gt;8;</span>
<span class="lineNum">    2431 </span><span class="lineNoCov">          0 :                 if ( old==whichclass ) {</span>
<span class="lineNum">    2432 </span><span class="lineNoCov">          0 :                     ff_post_notice(_(&quot;Mark Class was in use&quot;),_(&quot;This mark class (%s) was used in lookup %s&quot;),</span>
<span class="lineNum">    2433 </span><span class="lineNoCov">          0 :                             classes[2*whichclass-2].u.md_str,otl-&gt;lookup_name);</span>
<span class="lineNum">    2434 </span><span class="lineNoCov">          0 :                     otl-&gt;lookup_flags &amp;= ~ pst_markclass;</span>
<span class="lineNum">    2435 </span><span class="lineNoCov">          0 :                 } else if ( old&gt;whichclass ) {</span>
<span class="lineNum">    2436 </span><span class="lineNoCov">          0 :                     otl-&gt;lookup_flags &amp;= ~ pst_markclass;</span>
<span class="lineNum">    2437 </span><span class="lineNoCov">          0 :                     otl-&gt;lookup_flags |= (old-1)&lt;&lt;8;</span>
<span class="lineNum">    2438 </span>            :                 }
<span class="lineNum">    2439 </span><span class="lineNoCov">          0 :             } else if ( otl-&gt;lookup_flags&amp;pst_usemarkfilteringset ) {</span>
<span class="lineNum">    2440 </span><span class="lineNoCov">          0 :                 int old = (otl-&gt;lookup_flags &amp; pst_markset)&gt;&gt;16;</span>
<span class="lineNum">    2441 </span><span class="lineNoCov">          0 :                 if ( old==whichclass ) {</span>
<span class="lineNum">    2442 </span><span class="lineNoCov">          0 :                     ff_post_notice(_(&quot;Mark Set was in use&quot;),_(&quot;This mark set (%s) was used in lookup %s&quot;),</span>
<span class="lineNum">    2443 </span><span class="lineNoCov">          0 :                             classes[2*whichclass+0].u.md_str,otl-&gt;lookup_name);</span>
<span class="lineNum">    2444 </span><span class="lineNoCov">          0 :                     otl-&gt;lookup_flags &amp;= ~ pst_markset;</span>
<span class="lineNum">    2445 </span><span class="lineNoCov">          0 :                     otl-&gt;lookup_flags &amp;= ~pst_usemarkfilteringset;</span>
<span class="lineNum">    2446 </span><span class="lineNoCov">          0 :                 } else if ( old&gt;whichclass ) {</span>
<span class="lineNum">    2447 </span><span class="lineNoCov">          0 :                     otl-&gt;lookup_flags &amp;= ~ pst_markset;</span>
<span class="lineNum">    2448 </span><span class="lineNoCov">          0 :                     otl-&gt;lookup_flags |= (old-1)&lt;&lt;16;</span>
<span class="lineNum">    2449 </span>            :                 }
<span class="lineNum">    2450 </span>            :             }
<span class="lineNum">    2451 </span>            :         }
<span class="lineNum">    2452 </span>            :     }
<a name="2453"><span class="lineNum">    2453 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    2454 </span>            : 
<span class="lineNum">    2455 </span><span class="lineNoCov">          0 : static unichar_t **GFI_GlyphListCompletion(GGadget *t,int from_tab) {</span>
<span class="lineNum">    2456 </span><span class="lineNoCov">          0 :     struct gfi_data *d = GDrawGetUserData(GDrawGetParentWindow(GGadgetGetWindow(t)));</span>
<span class="lineNum">    2457 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    2458 </span>            : 
<span class="lineNum">    2459 </span><span class="lineNoCov">          0 : return( SFGlyphNameCompletion(sf,t,from_tab,true));</span>
<a name="2460"><span class="lineNum">    2460 </span>            : }</a>
<span class="lineNum">    2461 </span>            : 
<span class="lineNum">    2462 </span><span class="lineNoCov">          0 : static void GFI_CancelClose(struct gfi_data *d) {</span>
<span class="lineNum">    2463 </span>            :     int isgpos,i,j;
<span class="lineNum">    2464 </span>            : 
<span class="lineNum">    2465 </span><span class="lineNoCov">          0 :     MacFeatListFree(GGadgetGetUserData((GWidgetGetControl(</span>
<span class="lineNum">    2466 </span>            :             d-&gt;gw,CID_Features))));
<span class="lineNum">    2467 </span><span class="lineNoCov">          0 :     for ( isgpos=0; isgpos&lt;2; ++isgpos ) {</span>
<span class="lineNum">    2468 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;d-&gt;tables[isgpos];</span>
<span class="lineNum">    2469 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    2470 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].new )</span>
<span class="lineNum">    2471 </span><span class="lineNoCov">          0 :                 SFRemoveLookup(d-&gt;sf,lk-&gt;all[i].lookup,0);</span>
<span class="lineNum">    2472 </span><span class="lineNoCov">          0 :             else for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    2473 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].new )</span>
<span class="lineNum">    2474 </span><span class="lineNoCov">          0 :                     SFRemoveLookupSubTable(d-&gt;sf,lk-&gt;all[i].subtables[j].subtable,0);</span>
<span class="lineNum">    2475 </span>            :             }
<span class="lineNum">    2476 </span><span class="lineNoCov">          0 :             free(lk-&gt;all[i].subtables);</span>
<span class="lineNum">    2477 </span>            :         }
<span class="lineNum">    2478 </span><span class="lineNoCov">          0 :         free(lk-&gt;all);</span>
<span class="lineNum">    2479 </span>            :     }
<span class="lineNum">    2480 </span><span class="lineNoCov">          0 :     GFI_Close(d);</span>
<a name="2481"><span class="lineNum">    2481 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    2482 </span>            : 
<span class="lineNum">    2483 </span><span class="lineNoCov">          0 : static struct otfname *OtfNameFromStyleNames(GGadget *me) {</span>
<span class="lineNum">    2484 </span>            :     int i;
<span class="lineNum">    2485 </span>            :     int rows;
<span class="lineNum">    2486 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(me, &amp;rows);</span>
<span class="lineNum">    2487 </span><span class="lineNoCov">          0 :     struct otfname *head=NULL, *last, *cur;</span>
<span class="lineNum">    2488 </span>            : 
<span class="lineNum">    2489 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;rows; ++i ) {</span>
<span class="lineNum">    2490 </span><span class="lineNoCov">          0 :         cur = chunkalloc(sizeof(struct otfname));</span>
<span class="lineNum">    2491 </span><span class="lineNoCov">          0 :         cur-&gt;lang = strings[2*i  ].u.md_ival;</span>
<span class="lineNum">    2492 </span><span class="lineNoCov">          0 :         cur-&gt;name = copy(strings[2*i+1].u.md_str);</span>
<span class="lineNum">    2493 </span><span class="lineNoCov">          0 :         if ( head==NULL )</span>
<span class="lineNum">    2494 </span><span class="lineNoCov">          0 :             head = cur;</span>
<span class="lineNum">    2495 </span>            :         else
<span class="lineNum">    2496 </span><span class="lineNoCov">          0 :             last-&gt;next = cur;</span>
<span class="lineNum">    2497 </span><span class="lineNoCov">          0 :         last = cur;</span>
<span class="lineNum">    2498 </span>            :     }
<span class="lineNum">    2499 </span><span class="lineNoCov">          0 : return( head );</span>
<a name="2500"><span class="lineNum">    2500 </span>            : }</a>
<span class="lineNum">    2501 </span>            : 
<span class="lineNum">    2502 </span><span class="lineNoCov">          0 : void GListMoveSelected(GGadget *list,int offset) {</span>
<span class="lineNum">    2503 </span>            :     int32 len; int i,j;
<span class="lineNum">    2504 </span>            :     GTextInfo **old, **new;
<span class="lineNum">    2505 </span>            : 
<span class="lineNum">    2506 </span><span class="lineNoCov">          0 :     old = GGadgetGetList(list,&amp;len);</span>
<span class="lineNum">    2507 </span><span class="lineNoCov">          0 :     new = calloc(len+1,sizeof(GTextInfo *));</span>
<span class="lineNum">    2508 </span><span class="lineNoCov">          0 :     j = (offset&lt;0 ) ? 0 : len-1;</span>
<span class="lineNum">    2509 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;len; ++i ) if ( old[i]-&gt;selected ) {</span>
<span class="lineNum">    2510 </span><span class="lineNoCov">          0 :         if ( offset==0x80000000 || offset==0x7fffffff )</span>
<span class="lineNum">    2511 </span>            :             /* Do Nothing */;
<span class="lineNum">    2512 </span><span class="lineNoCov">          0 :         else if ( offset&lt;0 ) {</span>
<span class="lineNum">    2513 </span><span class="lineNoCov">          0 :             if ( (j= i+offset)&lt;0 ) j=0;</span>
<span class="lineNum">    2514 </span><span class="lineNoCov">          0 :             while ( new[j] ) ++j;</span>
<span class="lineNum">    2515 </span>            :         } else {
<span class="lineNum">    2516 </span><span class="lineNoCov">          0 :             if ( (j= i+offset)&gt;=len ) j=len-1;</span>
<span class="lineNum">    2517 </span><span class="lineNoCov">          0 :             while ( new[j] ) --j;</span>
<span class="lineNum">    2518 </span>            :         }
<span class="lineNum">    2519 </span><span class="lineNoCov">          0 :         new[j] = malloc(sizeof(GTextInfo));</span>
<span class="lineNum">    2520 </span><span class="lineNoCov">          0 :         *new[j] = *old[i];</span>
<span class="lineNum">    2521 </span><span class="lineNoCov">          0 :         new[j]-&gt;text = u_copy(new[j]-&gt;text);</span>
<span class="lineNum">    2522 </span><span class="lineNoCov">          0 :         if ( offset&lt;0 ) ++j; else --j;</span>
<span class="lineNum">    2523 </span>            :     }
<span class="lineNum">    2524 </span><span class="lineNoCov">          0 :     for ( i=j=0; i&lt;len; ++i ) if ( !old[i]-&gt;selected ) {</span>
<span class="lineNum">    2525 </span><span class="lineNoCov">          0 :         while ( new[j] ) ++j;</span>
<span class="lineNum">    2526 </span><span class="lineNoCov">          0 :         new[j] = malloc(sizeof(GTextInfo));</span>
<span class="lineNum">    2527 </span><span class="lineNoCov">          0 :         *new[j] = *old[i];</span>
<span class="lineNum">    2528 </span><span class="lineNoCov">          0 :         new[j]-&gt;text = u_copy(new[j]-&gt;text);</span>
<span class="lineNum">    2529 </span><span class="lineNoCov">          0 :         ++j;</span>
<span class="lineNum">    2530 </span>            :     }
<span class="lineNum">    2531 </span><span class="lineNoCov">          0 :     new[len] = calloc(1,sizeof(GTextInfo));</span>
<span class="lineNum">    2532 </span><span class="lineNoCov">          0 :     GGadgetSetList(list,new,false);</span>
<a name="2533"><span class="lineNum">    2533 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    2534 </span>            : 
<span class="lineNum">    2535 </span><span class="lineNoCov">          0 : void GListDelSelected(GGadget *list) {</span>
<span class="lineNum">    2536 </span>            :     int32 len; int i,j;
<span class="lineNum">    2537 </span>            :     GTextInfo **old, **new;
<span class="lineNum">    2538 </span>            : 
<span class="lineNum">    2539 </span><span class="lineNoCov">          0 :     old = GGadgetGetList(list,&amp;len);</span>
<span class="lineNum">    2540 </span><span class="lineNoCov">          0 :     new = calloc(len+1,sizeof(GTextInfo *));</span>
<span class="lineNum">    2541 </span><span class="lineNoCov">          0 :     for ( i=j=0; i&lt;len; ++i ) if ( !old[i]-&gt;selected ) {</span>
<span class="lineNum">    2542 </span><span class="lineNoCov">          0 :         new[j] = malloc(sizeof(GTextInfo));</span>
<span class="lineNum">    2543 </span><span class="lineNoCov">          0 :         *new[j] = *old[i];</span>
<span class="lineNum">    2544 </span><span class="lineNoCov">          0 :         new[j]-&gt;text = u_copy(new[j]-&gt;text);</span>
<span class="lineNum">    2545 </span><span class="lineNoCov">          0 :         ++j;</span>
<span class="lineNum">    2546 </span>            :     }
<span class="lineNum">    2547 </span><span class="lineNoCov">          0 :     new[j] = calloc(1,sizeof(GTextInfo));</span>
<span class="lineNum">    2548 </span><span class="lineNoCov">          0 :     GGadgetSetList(list,new,false);</span>
<a name="2549"><span class="lineNum">    2549 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    2550 </span>            : 
<span class="lineNum">    2551 </span><span class="lineNoCov">          0 : GTextInfo *GListChangeLine(GGadget *list,int pos, const unichar_t *line) {</span>
<span class="lineNum">    2552 </span>            :     GTextInfo **old, **new;
<span class="lineNum">    2553 </span>            :     int32 i,len;
<span class="lineNum">    2554 </span>            : 
<span class="lineNum">    2555 </span><span class="lineNoCov">          0 :     old = GGadgetGetList(list,&amp;len);</span>
<span class="lineNum">    2556 </span><span class="lineNoCov">          0 :     new = calloc(len+1,sizeof(GTextInfo *));</span>
<span class="lineNum">    2557 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;len; ++i ) {</span>
<span class="lineNum">    2558 </span><span class="lineNoCov">          0 :         new[i] = malloc(sizeof(GTextInfo));</span>
<span class="lineNum">    2559 </span><span class="lineNoCov">          0 :         *new[i] = *old[i];</span>
<span class="lineNum">    2560 </span><span class="lineNoCov">          0 :         if ( i!=pos )</span>
<span class="lineNum">    2561 </span><span class="lineNoCov">          0 :             new[i]-&gt;text = u_copy(new[i]-&gt;text);</span>
<span class="lineNum">    2562 </span>            :         else
<span class="lineNum">    2563 </span><span class="lineNoCov">          0 :             new[i]-&gt;text = u_copy(line);</span>
<span class="lineNum">    2564 </span>            :     }
<span class="lineNum">    2565 </span><span class="lineNoCov">          0 :     new[i] = calloc(1,sizeof(GTextInfo));</span>
<span class="lineNum">    2566 </span><span class="lineNoCov">          0 :     GGadgetSetList(list,new,false);</span>
<span class="lineNum">    2567 </span><span class="lineNoCov">          0 :     GGadgetScrollListToPos(list,pos);</span>
<span class="lineNum">    2568 </span><span class="lineNoCov">          0 : return( new[pos]);</span>
<a name="2569"><span class="lineNum">    2569 </span>            : }</a>
<span class="lineNum">    2570 </span>            : 
<span class="lineNum">    2571 </span><span class="lineNoCov">          0 : GTextInfo *GListAppendLine(GGadget *list,const unichar_t *line,int select) {</span>
<span class="lineNum">    2572 </span>            :     GTextInfo **old, **new;
<span class="lineNum">    2573 </span>            :     int32 i,len;
<span class="lineNum">    2574 </span>            : 
<span class="lineNum">    2575 </span><span class="lineNoCov">          0 :     old = GGadgetGetList(list,&amp;len);</span>
<span class="lineNum">    2576 </span><span class="lineNoCov">          0 :     new = calloc(len+2,sizeof(GTextInfo *));</span>
<span class="lineNum">    2577 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;len; ++i ) {</span>
<span class="lineNum">    2578 </span><span class="lineNoCov">          0 :         new[i] = malloc(sizeof(GTextInfo));</span>
<span class="lineNum">    2579 </span><span class="lineNoCov">          0 :         *new[i] = *old[i];</span>
<span class="lineNum">    2580 </span><span class="lineNoCov">          0 :         new[i]-&gt;text = u_copy(new[i]-&gt;text);</span>
<span class="lineNum">    2581 </span><span class="lineNoCov">          0 :         if ( select ) new[i]-&gt;selected = false;</span>
<span class="lineNum">    2582 </span>            :     }
<span class="lineNum">    2583 </span><span class="lineNoCov">          0 :     new[i] = calloc(1,sizeof(GTextInfo));</span>
<span class="lineNum">    2584 </span><span class="lineNoCov">          0 :     new[i]-&gt;fg = new[i]-&gt;bg = COLOR_DEFAULT;</span>
<span class="lineNum">    2585 </span><span class="lineNoCov">          0 :     new[i]-&gt;userdata = NULL;</span>
<span class="lineNum">    2586 </span><span class="lineNoCov">          0 :     new[i]-&gt;text = u_copy(line);</span>
<span class="lineNum">    2587 </span><span class="lineNoCov">          0 :     new[i]-&gt;selected = select;</span>
<span class="lineNum">    2588 </span><span class="lineNoCov">          0 :     new[i+1] = calloc(1,sizeof(GTextInfo));</span>
<span class="lineNum">    2589 </span><span class="lineNoCov">          0 :     GGadgetSetList(list,new,false);</span>
<span class="lineNum">    2590 </span><span class="lineNoCov">          0 :     GGadgetScrollListToPos(list,i);</span>
<span class="lineNum">    2591 </span><span class="lineNoCov">          0 : return( new[i]);</span>
<a name="2592"><span class="lineNum">    2592 </span>            : }</a>
<span class="lineNum">    2593 </span>            : 
<span class="lineNum">    2594 </span><span class="lineNoCov">          0 : GTextInfo *GListChangeLine8(GGadget *list,int pos, const char *line) {</span>
<span class="lineNum">    2595 </span>            :     GTextInfo **old, **new;
<span class="lineNum">    2596 </span>            :     int32 i,len;
<span class="lineNum">    2597 </span>            : 
<span class="lineNum">    2598 </span><span class="lineNoCov">          0 :     old = GGadgetGetList(list,&amp;len);</span>
<span class="lineNum">    2599 </span><span class="lineNoCov">          0 :     new = calloc(len+1,sizeof(GTextInfo *));</span>
<span class="lineNum">    2600 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;len; ++i ) {</span>
<span class="lineNum">    2601 </span><span class="lineNoCov">          0 :         new[i] = malloc(sizeof(GTextInfo));</span>
<span class="lineNum">    2602 </span><span class="lineNoCov">          0 :         *new[i] = *old[i];</span>
<span class="lineNum">    2603 </span><span class="lineNoCov">          0 :         if ( i!=pos )</span>
<span class="lineNum">    2604 </span><span class="lineNoCov">          0 :             new[i]-&gt;text = u_copy(new[i]-&gt;text);</span>
<span class="lineNum">    2605 </span>            :         else
<span class="lineNum">    2606 </span><span class="lineNoCov">          0 :             new[i]-&gt;text = utf82u_copy(line);</span>
<span class="lineNum">    2607 </span>            :     }
<span class="lineNum">    2608 </span><span class="lineNoCov">          0 :     new[i] = calloc(1,sizeof(GTextInfo));</span>
<span class="lineNum">    2609 </span><span class="lineNoCov">          0 :     GGadgetSetList(list,new,false);</span>
<span class="lineNum">    2610 </span><span class="lineNoCov">          0 :     GGadgetScrollListToPos(list,pos);</span>
<span class="lineNum">    2611 </span><span class="lineNoCov">          0 : return( new[pos]);</span>
<a name="2612"><span class="lineNum">    2612 </span>            : }</a>
<span class="lineNum">    2613 </span>            : 
<span class="lineNum">    2614 </span><span class="lineNoCov">          0 : GTextInfo *GListAppendLine8(GGadget *list,const char *line,int select) {</span>
<span class="lineNum">    2615 </span>            :     GTextInfo **old, **new;
<span class="lineNum">    2616 </span>            :     int32 i,len;
<span class="lineNum">    2617 </span>            : 
<span class="lineNum">    2618 </span><span class="lineNoCov">          0 :     old = GGadgetGetList(list,&amp;len);</span>
<span class="lineNum">    2619 </span><span class="lineNoCov">          0 :     new = calloc(len+2,sizeof(GTextInfo *));</span>
<span class="lineNum">    2620 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;len; ++i ) {</span>
<span class="lineNum">    2621 </span><span class="lineNoCov">          0 :         new[i] = malloc(sizeof(GTextInfo));</span>
<span class="lineNum">    2622 </span><span class="lineNoCov">          0 :         *new[i] = *old[i];</span>
<span class="lineNum">    2623 </span><span class="lineNoCov">          0 :         new[i]-&gt;text = u_copy(new[i]-&gt;text);</span>
<span class="lineNum">    2624 </span><span class="lineNoCov">          0 :         if ( select ) new[i]-&gt;selected = false;</span>
<span class="lineNum">    2625 </span>            :     }
<span class="lineNum">    2626 </span><span class="lineNoCov">          0 :     new[i] = calloc(1,sizeof(GTextInfo));</span>
<span class="lineNum">    2627 </span><span class="lineNoCov">          0 :     new[i]-&gt;fg = new[i]-&gt;bg = COLOR_DEFAULT;</span>
<span class="lineNum">    2628 </span><span class="lineNoCov">          0 :     new[i]-&gt;userdata = NULL;</span>
<span class="lineNum">    2629 </span><span class="lineNoCov">          0 :     new[i]-&gt;text = utf82u_copy(line);</span>
<span class="lineNum">    2630 </span><span class="lineNoCov">          0 :     new[i]-&gt;selected = select;</span>
<span class="lineNum">    2631 </span><span class="lineNoCov">          0 :     new[i+1] = calloc(1,sizeof(GTextInfo));</span>
<span class="lineNum">    2632 </span><span class="lineNoCov">          0 :     GGadgetSetList(list,new,false);</span>
<span class="lineNum">    2633 </span><span class="lineNoCov">          0 :     GGadgetScrollListToPos(list,i);</span>
<span class="lineNum">    2634 </span><span class="lineNoCov">          0 : return( new[i]);</span>
<a name="2635"><span class="lineNum">    2635 </span>            : }</a>
<span class="lineNum">    2636 </span>            : 
<span class="lineNum">    2637 </span><span class="lineNoCov">          0 : static int GFI_Cancel(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    2638 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    2639 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    2640 </span><span class="lineNoCov">          0 :         GFI_CancelClose(d);</span>
<span class="lineNum">    2641 </span>            :     }
<span class="lineNum">    2642 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="2643"><span class="lineNum">    2643 </span>            : }</a>
<span class="lineNum">    2644 </span>            : 
<span class="lineNum">    2645 </span><span class="lineNoCov">          0 : static void BadFamily() {</span>
<span class="lineNum">    2646 </span><span class="lineNoCov">          0 :     ff_post_error(_(&quot;Bad Family Name&quot;),_(&quot;Bad Family Name, must begin with an alphabetic character.&quot;));</span>
<a name="2647"><span class="lineNum">    2647 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    2648 </span>            : 
<span class="lineNum">    2649 </span><span class="lineNoCov">          0 : static int SetFontName(GWindow gw, SplineFont *sf) {</span>
<span class="lineNum">    2650 </span><span class="lineNoCov">          0 :     const unichar_t *ufamily = _GGadgetGetTitle(GWidgetGetControl(gw,CID_Family));</span>
<span class="lineNum">    2651 </span><span class="lineNoCov">          0 :     const unichar_t *ufont = _GGadgetGetTitle(GWidgetGetControl(gw,CID_Fontname));</span>
<span class="lineNum">    2652 </span><span class="lineNoCov">          0 :     const unichar_t *uweight = _GGadgetGetTitle(GWidgetGetControl(gw,CID_Weight));</span>
<span class="lineNum">    2653 </span><span class="lineNoCov">          0 :     const unichar_t *uhum = _GGadgetGetTitle(GWidgetGetControl(gw,CID_Human));</span>
<span class="lineNum">    2654 </span><span class="lineNoCov">          0 :     int diff = uc_strcmp(ufont,sf-&gt;fontname)!=0;</span>
<span class="lineNum">    2655 </span>            : 
<span class="lineNum">    2656 </span><span class="lineNoCov">          0 :     free(sf-&gt;familyname);</span>
<span class="lineNum">    2657 </span><span class="lineNoCov">          0 :     free(sf-&gt;fontname);</span>
<span class="lineNum">    2658 </span><span class="lineNoCov">          0 :     free(sf-&gt;weight);</span>
<span class="lineNum">    2659 </span><span class="lineNoCov">          0 :     free(sf-&gt;fullname);</span>
<span class="lineNum">    2660 </span><span class="lineNoCov">          0 :     sf-&gt;familyname = cu_copy(ufamily);</span>
<span class="lineNum">    2661 </span><span class="lineNoCov">          0 :     sf-&gt;fontname = cu_copy(ufont);</span>
<span class="lineNum">    2662 </span><span class="lineNoCov">          0 :     sf-&gt;weight = cu_copy(uweight);</span>
<span class="lineNum">    2663 </span><span class="lineNoCov">          0 :     sf-&gt;fullname = cu_copy(uhum);</span>
<span class="lineNum">    2664 </span><span class="lineNoCov">          0 : return( diff );</span>
<a name="2665"><span class="lineNum">    2665 </span>            : }</a>
<span class="lineNum">    2666 </span>            : 
<span class="lineNum">    2667 </span><span class="lineNoCov">          0 : static int CheckNames(struct gfi_data *d) {</span>
<span class="lineNum">    2668 </span><span class="lineNoCov">          0 :     const unichar_t *ufamily = _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Family));</span>
<span class="lineNum">    2669 </span><span class="lineNoCov">          0 :     const unichar_t *ufont = _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Fontname));</span>
<span class="lineNum">    2670 </span>            :     unichar_t *end; const unichar_t *pt;
<span class="lineNum">    2671 </span>            :     char *buts[3];
<span class="lineNum">    2672 </span><span class="lineNoCov">          0 :     buts[0] = _(&quot;_OK&quot;); buts[1] = _(&quot;_Cancel&quot;); buts[2]=NULL;</span>
<span class="lineNum">    2673 </span>            : 
<span class="lineNum">    2674 </span><span class="lineNoCov">          0 :     if ( u_strlen(ufont)&gt;63 ) {</span>
<span class="lineNum">    2675 </span><span class="lineNoCov">          0 :         ff_post_error(_(&quot;Bad Font Name&quot;),_(&quot;A PostScript name should be ASCII\nand must not contain (){}[]&lt;&gt;%%/ or space\nand must be shorter than 63 characters&quot;));</span>
<span class="lineNum">    2676 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    2677 </span>            :     }
<span class="lineNum">    2678 </span>            : 
<span class="lineNum">    2679 </span><span class="lineNoCov">          0 :     if ( *ufamily=='\0' ) {</span>
<span class="lineNum">    2680 </span><span class="lineNoCov">          0 :         ff_post_error(_(&quot;A Font Family name is required&quot;),_(&quot;A Font Family name is required&quot;));</span>
<span class="lineNum">    2681 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    2682 </span>            :     }
<span class="lineNum">    2683 </span>            :     /* A postscript name cannot be a number. There are two ways it can be a */
<span class="lineNum">    2684 </span>            :     /*  number, it can be a real (which we can check for with strtod) or */
<span class="lineNum">    2685 </span>            :     /*  it can be a &quot;radix number&quot; which is &lt;intval&gt;'#'&lt;intval&gt;. I'll only */
<span class="lineNum">    2686 </span>            :     /*  do a cursory test for that */
<span class="lineNum">    2687 </span><span class="lineNoCov">          0 :     u_strtod(ufamily,&amp;end);</span>
<span class="lineNum">    2688 </span><span class="lineNoCov">          0 :     if ( *end=='\0' || (isdigit(ufamily[0]) &amp;&amp; u_strchr(ufamily,'#')!=NULL) ) {</span>
<span class="lineNum">    2689 </span><span class="lineNoCov">          0 :         ff_post_error(_(&quot;Bad Font Family Name&quot;),_(&quot;A PostScript name may not be a number&quot;));</span>
<span class="lineNum">    2690 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    2691 </span>            :     }
<span class="lineNum">    2692 </span><span class="lineNoCov">          0 :     if ( u_strlen(ufamily)&gt;31 ) {</span>
<span class="lineNum">    2693 </span><span class="lineNoCov">          0 :         if ( gwwv_ask(_(&quot;Bad Font Family Name&quot;),(const char **) buts,0,1,_(&quot;Some versions of Windows will refuse to install postscript fonts if the familyname is longer than 31 characters. Do you want to continue anyway?&quot;))==1 )</span>
<span class="lineNum">    2694 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    2695 </span>            :     } else {
<span class="lineNum">    2696 </span><span class="lineNoCov">          0 :         if ( u_strlen(ufont)&gt;31 ) {</span>
<span class="lineNum">    2697 </span><span class="lineNoCov">          0 :             if ( gwwv_ask(_(&quot;Bad Font Name&quot;),(const char **) buts,0,1,_(&quot;Some versions of Windows will refuse to install postscript fonts if the fontname is longer than 31 characters. Do you want to continue anyway?&quot;))==1 )</span>
<span class="lineNum">    2698 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    2699 </span><span class="lineNoCov">          0 :         } else if ( u_strlen(ufont)&gt;29 ) {</span>
<span class="lineNum">    2700 </span><span class="lineNoCov">          0 :             if ( gwwv_ask(_(&quot;Bad Font Name&quot;),(const char **) buts,0,1,_(&quot;Adobe's fontname spec (5088.FontNames.pdf) says that fontnames should not be longer than 29 characters. Do you want to continue anyway?&quot;))==1 )</span>
<span class="lineNum">    2701 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    2702 </span>            :         }
<span class="lineNum">    2703 </span>            :     }
<span class="lineNum">    2704 </span><span class="lineNoCov">          0 :     while ( *ufamily ) {</span>
<span class="lineNum">    2705 </span><span class="lineNoCov">          0 :         if ( *ufamily&lt;' ' || *ufamily&gt;=0x7f ) {</span>
<span class="lineNum">    2706 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Bad Font Family Name&quot;),_(&quot;A PostScript name should be ASCII\nand must not contain (){}[]&lt;&gt;%%/ or space&quot;));</span>
<span class="lineNum">    2707 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    2708 </span>            :         }
<span class="lineNum">    2709 </span><span class="lineNoCov">          0 :         ++ufamily;</span>
<span class="lineNum">    2710 </span>            :     }
<span class="lineNum">    2711 </span>            : 
<span class="lineNum">    2712 </span><span class="lineNoCov">          0 :     u_strtod(ufont,&amp;end);</span>
<span class="lineNum">    2713 </span><span class="lineNoCov">          0 :     if ( (*end=='\0' || (isdigit(ufont[0]) &amp;&amp; u_strchr(ufont,'#')!=NULL)) &amp;&amp;</span>
<span class="lineNum">    2714 </span><span class="lineNoCov">          0 :             *ufont!='\0' ) {</span>
<span class="lineNum">    2715 </span><span class="lineNoCov">          0 :         ff_post_error(_(&quot;Bad Font Name&quot;),_(&quot;A PostScript name may not be a number&quot;));</span>
<span class="lineNum">    2716 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    2717 </span>            :     }
<span class="lineNum">    2718 </span><span class="lineNoCov">          0 :     for ( pt=ufont; *pt; ++pt ) {</span>
<span class="lineNum">    2719 </span><span class="lineNoCov">          0 :         if ( *pt&lt;=' ' || *pt&gt;=0x7f ||</span>
<span class="lineNum">    2720 </span><span class="lineNoCov">          0 :                 *pt=='(' || *pt=='[' || *pt=='{' || *pt=='&lt;' ||</span>
<span class="lineNum">    2721 </span><span class="lineNoCov">          0 :                 *pt==')' || *pt==']' || *pt=='}' || *pt=='&gt;' ||</span>
<span class="lineNum">    2722 </span><span class="lineNoCov">          0 :                 *pt=='%' || *pt=='/' ) {</span>
<span class="lineNum">    2723 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Bad Font Name&quot;),_(&quot;A PostScript name should be ASCII\nand must not contain (){}[]&lt;&gt;%%/ or space&quot;));</span>
<span class="lineNum">    2724 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    2725 </span>            :         }
<span class="lineNum">    2726 </span>            :     }
<span class="lineNum">    2727 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    2728 </span>            : }
<span class="lineNum">    2729 </span>            : 
<span class="lineNum">    2730 </span>            : static int ttfspecials[] = { ttf_copyright, ttf_family, ttf_fullname,
<a name="2731"><span class="lineNum">    2731 </span>            :         ttf_subfamily, ttf_version, -1 };</a>
<span class="lineNum">    2732 </span>            : 
<span class="lineNum">    2733 </span><span class="lineNoCov">          0 : static char *tn_recalculatedef(struct gfi_data *d,int cur_id) {</span>
<span class="lineNum">    2734 </span>            :     char versionbuf[40], *v;
<span class="lineNum">    2735 </span>            : 
<span class="lineNum">    2736 </span><span class="lineNoCov">          0 :     switch ( cur_id ) {</span>
<span class="lineNum">    2737 </span>            :       case ttf_copyright:
<span class="lineNum">    2738 </span><span class="lineNoCov">          0 : return( GGadgetGetTitle8(GWidgetGetControl(d-&gt;gw,CID_Notice)));</span>
<span class="lineNum">    2739 </span>            :       case ttf_family:
<span class="lineNum">    2740 </span><span class="lineNoCov">          0 : return( GGadgetGetTitle8(GWidgetGetControl(d-&gt;gw,CID_Family)));</span>
<span class="lineNum">    2741 </span>            :       case ttf_fullname:
<span class="lineNum">    2742 </span><span class="lineNoCov">          0 : return( GGadgetGetTitle8(GWidgetGetControl(d-&gt;gw,CID_Human)));</span>
<span class="lineNum">    2743 </span>            :       case ttf_subfamily:
<span class="lineNum">    2744 </span><span class="lineNoCov">          0 : return( u2utf8_copy(_uGetModifiers(</span>
<span class="lineNum">    2745 </span><span class="lineNoCov">          0 :                 _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Fontname)),</span>
<span class="lineNum">    2746 </span><span class="lineNoCov">          0 :                 _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Family)),</span>
<span class="lineNum">    2747 </span><span class="lineNoCov">          0 :                 _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Weight)))));</span>
<span class="lineNum">    2748 </span>            :       case ttf_version:
<span class="lineNum">    2749 </span><span class="lineNoCov">          0 :         sprintf(versionbuf,_(&quot;Version %.20s&quot;),</span>
<span class="lineNum">    2750 </span><span class="lineNoCov">          0 :                 v=GGadgetGetTitle8(GWidgetGetControl(d-&gt;gw,CID_Version)));</span>
<span class="lineNum">    2751 </span><span class="lineNoCov">          0 :         free(v);</span>
<span class="lineNum">    2752 </span><span class="lineNoCov">          0 : return( copy(versionbuf));</span>
<span class="lineNum">    2753 </span>            :       default:
<span class="lineNum">    2754 </span><span class="lineNoCov">          0 : return( NULL );</span>
<span class="lineNum">    2755 </span>            :     }
<a name="2756"><span class="lineNum">    2756 </span>            : }</a>
<span class="lineNum">    2757 </span>            : 
<span class="lineNum">    2758 </span><span class="lineNoCov">          0 : static char *TN_DefaultName(GGadget *g, int r, int c) {</span>
<span class="lineNum">    2759 </span><span class="lineNoCov">          0 :     struct gfi_data *d = GGadgetGetUserData(g);</span>
<span class="lineNum">    2760 </span>            :     int rows;
<span class="lineNum">    2761 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    2762 </span>            : 
<span class="lineNum">    2763 </span><span class="lineNoCov">          0 :     if ( strings==NULL || !strings[3*r+2].user_bits )</span>
<span class="lineNum">    2764 </span><span class="lineNoCov">          0 : return( NULL );</span>
<span class="lineNum">    2765 </span>            : 
<span class="lineNum">    2766 </span><span class="lineNoCov">          0 : return( tn_recalculatedef(d,strings[3*r+1].u.md_ival ));</span>
<a name="2767"><span class="lineNum">    2767 </span>            : }</a>
<span class="lineNum">    2768 </span>            : 
<span class="lineNum">    2769 </span><span class="lineNoCov">          0 : static const char *langname(int lang,char *buffer) {</span>
<span class="lineNum">    2770 </span>            :     int i;
<span class="lineNum">    2771 </span><span class="lineNoCov">          0 :     for ( i=0; mslanguages[i].text!=NULL; ++i )</span>
<span class="lineNum">    2772 </span><span class="lineNoCov">          0 :         if ( mslanguages[i].userdata == (void *) (intpt) lang )</span>
<span class="lineNum">    2773 </span><span class="lineNoCov">          0 : return( (char *) mslanguages[i].text );</span>
<span class="lineNum">    2774 </span>            : 
<span class="lineNum">    2775 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%04X&quot;, lang );</span>
<span class="lineNum">    2776 </span><span class="lineNoCov">          0 : return( buffer );</span>
<a name="2777"><span class="lineNum">    2777 </span>            : }</a>
<span class="lineNum">    2778 </span>            : 
<span class="lineNum">    2779 </span><span class="lineNoCov">          0 : static int strid_sorter(const void *pt1, const void *pt2) {</span>
<span class="lineNum">    2780 </span><span class="lineNoCov">          0 :     const struct matrix_data *n1 = pt1, *n2 = pt2;</span>
<span class="lineNum">    2781 </span>            :     char buf1[20], buf2[20];
<span class="lineNum">    2782 </span>            :     const char *l1, *l2;
<span class="lineNum">    2783 </span>            : 
<span class="lineNum">    2784 </span><span class="lineNoCov">          0 :     if ( n1[1].u.md_ival!=n2[1].u.md_ival )</span>
<span class="lineNum">    2785 </span><span class="lineNoCov">          0 : return( n1[1].u.md_ival - n2[1].u.md_ival );</span>
<span class="lineNum">    2786 </span>            : 
<span class="lineNum">    2787 </span><span class="lineNoCov">          0 :     l1 = langname(n1[0].u.md_ival,buf1);</span>
<span class="lineNum">    2788 </span><span class="lineNoCov">          0 :     l2 = langname(n2[0].u.md_ival,buf2);</span>
<span class="lineNum">    2789 </span><span class="lineNoCov">          0 : return( strcoll(l1,l2));</span>
<a name="2790"><span class="lineNum">    2790 </span>            : }</a>
<span class="lineNum">    2791 </span>            : 
<span class="lineNum">    2792 </span><span class="lineNoCov">          0 : static int lang_sorter(const void *pt1, const void *pt2) {</span>
<span class="lineNum">    2793 </span><span class="lineNoCov">          0 :     const struct matrix_data *n1 = pt1, *n2 = pt2;</span>
<span class="lineNum">    2794 </span>            :     char buf1[20], buf2[20];
<span class="lineNum">    2795 </span>            :     const char *l1, *l2;
<span class="lineNum">    2796 </span>            : 
<span class="lineNum">    2797 </span><span class="lineNoCov">          0 :     if ( n1[0].u.md_ival==n2[0].u.md_ival )</span>
<span class="lineNum">    2798 </span><span class="lineNoCov">          0 : return( n1[1].u.md_ival - n2[1].u.md_ival );</span>
<span class="lineNum">    2799 </span>            : 
<span class="lineNum">    2800 </span><span class="lineNoCov">          0 :     l1 = langname(n1[0].u.md_ival,buf1);</span>
<span class="lineNum">    2801 </span><span class="lineNoCov">          0 :     l2 = langname(n2[0].u.md_ival,buf2);</span>
<span class="lineNum">    2802 </span><span class="lineNoCov">          0 : return( strcoll(l1,l2));</span>
<span class="lineNum">    2803 </span>            : }
<a name="2804"><span class="lineNum">    2804 </span>            : </a>
<span class="lineNum">    2805 </span>            : static int ms_thislocale = 0;
<span class="lineNum">    2806 </span><span class="lineNoCov">          0 : static int specialvals(const struct matrix_data *n) {</span>
<span class="lineNum">    2807 </span><span class="lineNoCov">          0 :     if ( n[0].u.md_ival == ms_thislocale )</span>
<span class="lineNum">    2808 </span><span class="lineNoCov">          0 : return( -10000000 );</span>
<span class="lineNum">    2809 </span><span class="lineNoCov">          0 :     else if ( (n[0].u.md_ival&amp;0x3ff) == (ms_thislocale&amp;0x3ff) )</span>
<span class="lineNum">    2810 </span><span class="lineNoCov">          0 : return( -10000000 + (n[0].u.md_ival&amp;~0x3ff) );</span>
<span class="lineNum">    2811 </span><span class="lineNoCov">          0 :     if ( n[0].u.md_ival == 0x409 )      /* English */</span>
<span class="lineNum">    2812 </span><span class="lineNoCov">          0 : return( -1000000 );</span>
<span class="lineNum">    2813 </span><span class="lineNoCov">          0 :     else if ( (n[0].u.md_ival&amp;0x3ff) == 9 )</span>
<span class="lineNum">    2814 </span><span class="lineNoCov">          0 : return( -1000000 + (n[0].u.md_ival&amp;~0x3ff) );</span>
<span class="lineNum">    2815 </span>            : 
<span class="lineNum">    2816 </span><span class="lineNoCov">          0 : return( 1 );</span>
<a name="2817"><span class="lineNum">    2817 </span>            : }</a>
<span class="lineNum">    2818 </span>            : 
<span class="lineNum">    2819 </span><span class="lineNoCov">          0 : static int speciallang_sorter(const void *pt1, const void *pt2) {</span>
<span class="lineNum">    2820 </span><span class="lineNoCov">          0 :     const struct matrix_data *n1 = pt1, *n2 = pt2;</span>
<span class="lineNum">    2821 </span>            :     char buf1[20], buf2[20];
<span class="lineNum">    2822 </span>            :     const char *l1, *l2;
<span class="lineNum">    2823 </span><span class="lineNoCov">          0 :     int pos1=1, pos2=1;</span>
<span class="lineNum">    2824 </span>            : 
<span class="lineNum">    2825 </span>            :     /* sort so that entries for the current language are first, then English */
<span class="lineNum">    2826 </span>            :     /*  then alphabetical order */
<span class="lineNum">    2827 </span><span class="lineNoCov">          0 :     if ( n1[0].u.md_ival==n2[0].u.md_ival )</span>
<span class="lineNum">    2828 </span><span class="lineNoCov">          0 : return( n1[1].u.md_ival - n2[1].u.md_ival );</span>
<span class="lineNum">    2829 </span>            : 
<span class="lineNum">    2830 </span><span class="lineNoCov">          0 :     pos1 = specialvals(n1); pos2 = specialvals(n2);</span>
<span class="lineNum">    2831 </span><span class="lineNoCov">          0 :     if ( pos1&lt;0 || pos2&lt;0 )</span>
<span class="lineNum">    2832 </span><span class="lineNoCov">          0 : return( pos1-pos2 );</span>
<span class="lineNum">    2833 </span><span class="lineNoCov">          0 :     l1 = langname(n1[0].u.md_ival,buf1);</span>
<span class="lineNum">    2834 </span><span class="lineNoCov">          0 :     l2 = langname(n2[0].u.md_ival,buf2);</span>
<span class="lineNum">    2835 </span><span class="lineNoCov">          0 : return( strcoll(l1,l2));</span>
<a name="2836"><span class="lineNum">    2836 </span>            : }</a>
<span class="lineNum">    2837 </span>            : 
<span class="lineNum">    2838 </span><span class="lineNoCov">          0 : static void TTFNames_Resort(struct gfi_data *d) {</span>
<span class="lineNum">    2839 </span>            :     int(*compar)(const void *, const void *);
<span class="lineNum">    2840 </span><span class="lineNoCov">          0 :     GGadget *edit = GWidgetGetControl(d-&gt;gw,CID_TNames);</span>
<span class="lineNum">    2841 </span>            :     int rows;
<span class="lineNum">    2842 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(edit, &amp;rows);</span>
<span class="lineNum">    2843 </span>            : 
<span class="lineNum">    2844 </span><span class="lineNoCov">          0 :     if ( strings==NULL )</span>
<span class="lineNum">    2845 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    2846 </span>            : 
<span class="lineNum">    2847 </span><span class="lineNoCov">          0 :     if ( GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_TNLangSort)) )</span>
<span class="lineNum">    2848 </span><span class="lineNoCov">          0 :         compar = lang_sorter;</span>
<span class="lineNum">    2849 </span><span class="lineNoCov">          0 :     else if ( GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_TNStringSort)) )</span>
<span class="lineNum">    2850 </span><span class="lineNoCov">          0 :         compar = strid_sorter;</span>
<span class="lineNum">    2851 </span>            :     else
<span class="lineNum">    2852 </span><span class="lineNoCov">          0 :         compar = speciallang_sorter;</span>
<span class="lineNum">    2853 </span><span class="lineNoCov">          0 :     ms_thislocale = d-&gt;langlocalecode;</span>
<span class="lineNum">    2854 </span><span class="lineNoCov">          0 :     qsort(strings,rows,3*sizeof(struct matrix_data),compar);</span>
<a name="2855"><span class="lineNum">    2855 </span>            : }</a>
<span class="lineNum">    2856 </span>            : 
<span class="lineNum">    2857 </span><span class="lineNoCov">          0 : static int GFI_Char(struct gfi_data *d,GEvent *event) {</span>
<span class="lineNum">    2858 </span><span class="lineNoCov">          0 :     if ( event-&gt;u.chr.keysym == GK_F1 || event-&gt;u.chr.keysym == GK_Help ) {</span>
<span class="lineNum">    2859 </span><span class="lineNoCov">          0 :         help(&quot;fontinfo.html&quot;);</span>
<span class="lineNum">    2860 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    2861 </span><span class="lineNoCov">          0 :     } else if ( GMenuIsCommand(event,H_(&quot;Save All|Alt+Ctl+S&quot;) )) {</span>
<span class="lineNum">    2862 </span><span class="lineNoCov">          0 :         MenuSaveAll(NULL,NULL,NULL);</span>
<span class="lineNum">    2863 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    2864 </span><span class="lineNoCov">          0 :     } else if ( GMenuIsCommand(event,H_(&quot;Quit|Ctl+Q&quot;) )) {</span>
<span class="lineNum">    2865 </span><span class="lineNoCov">          0 :         MenuExit(NULL,NULL,NULL);</span>
<span class="lineNum">    2866 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    2867 </span><span class="lineNoCov">          0 :     } else if ( GMenuIsCommand(event,H_(&quot;Close|Ctl+Shft+Q&quot;) )) {</span>
<span class="lineNum">    2868 </span><span class="lineNoCov">          0 :         GFI_CancelClose(d);</span>
<span class="lineNum">    2869 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    2870 </span>            :     }
<span class="lineNum">    2871 </span><span class="lineNoCov">          0 : return( false );</span>
<a name="2872"><span class="lineNum">    2872 </span>            : }</a>
<span class="lineNum">    2873 </span>            : 
<span class="lineNum">    2874 </span><span class="lineNoCov">          0 : static int CheckActiveStyleTranslation(struct gfi_data *d,</span>
<span class="lineNum">    2875 </span>            :         struct matrix_data *strings,int r, int rows, int iswws ) {
<span class="lineNum">    2876 </span>            :     int i,j, eng_pos, other_pos;
<span class="lineNum">    2877 </span><span class="lineNoCov">          0 :     char *english, *new=NULL, *temp, *pt;</span>
<span class="lineNum">    2878 </span><span class="lineNoCov">          0 :     int other_lang = strings[3*r].u.md_ival;</span>
<span class="lineNum">    2879 </span><span class="lineNoCov">          0 :     int changed = false;</span>
<span class="lineNum">    2880 </span><span class="lineNoCov">          0 :     int search_sid = iswws ? ttf_wwssubfamily : ttf_subfamily;</span>
<span class="lineNum">    2881 </span>            : 
<span class="lineNum">    2882 </span><span class="lineNoCov">          0 :     for ( i=rows-1; i&gt;=0 ; --i )</span>
<span class="lineNum">    2883 </span><span class="lineNoCov">          0 :         if ( strings[3*i+1].u.md_ival==search_sid &amp;&amp;</span>
<span class="lineNum">    2884 </span><span class="lineNoCov">          0 :                 strings[3*i].u.md_ival == 0x409 )</span>
<span class="lineNum">    2885 </span><span class="lineNoCov">          0 :     break;</span>
<span class="lineNum">    2886 </span><span class="lineNoCov">          0 :     if ( i&lt;0 &amp;&amp; iswws ) {</span>
<span class="lineNum">    2887 </span><span class="lineNoCov">          0 :         for ( i=rows-1; i&gt;=0; --i )</span>
<span class="lineNum">    2888 </span><span class="lineNoCov">          0 :             if ( strings[3*i+1].u.md_ival==ttf_subfamily &amp;&amp;</span>
<span class="lineNum">    2889 </span><span class="lineNoCov">          0 :                     strings[3*i].u.md_ival == other_lang ) {</span>
<span class="lineNum">    2890 </span><span class="lineNoCov">          0 :                 new = copy(strings[3*i+2].u.md_str);</span>
<span class="lineNum">    2891 </span><span class="lineNoCov">          0 :                 changed = true;</span>
<span class="lineNum">    2892 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    2893 </span>            :             }
<span class="lineNum">    2894 </span>            :     } else {
<span class="lineNum">    2895 </span><span class="lineNoCov">          0 :         if ( i&lt;0 || (english = strings[3*i+2].u.md_str)==NULL )</span>
<span class="lineNum">    2896 </span><span class="lineNoCov">          0 :             new = tn_recalculatedef(d,ttf_subfamily);</span>
<span class="lineNum">    2897 </span>            :         else
<span class="lineNum">    2898 </span><span class="lineNoCov">          0 :             new = copy(english);</span>
<span class="lineNum">    2899 </span><span class="lineNoCov">          0 :         for ( i=0; stylelist[i]!=NULL; ++i ) {</span>
<span class="lineNum">    2900 </span><span class="lineNoCov">          0 :             eng_pos = other_pos = -1;</span>
<span class="lineNum">    2901 </span><span class="lineNoCov">          0 :             for ( j=0; stylelist[i][j].str!=NULL; ++j ) {</span>
<span class="lineNum">    2902 </span><span class="lineNoCov">          0 :                 if ( stylelist[i][j].lang == other_lang ) {</span>
<span class="lineNum">    2903 </span><span class="lineNoCov">          0 :                     other_pos = j;</span>
<span class="lineNum">    2904 </span><span class="lineNoCov">          0 :             break;</span>
<span class="lineNum">    2905 </span>            :                 }
<span class="lineNum">    2906 </span>            :             }
<span class="lineNum">    2907 </span><span class="lineNoCov">          0 :             if ( other_pos==-1 )</span>
<span class="lineNum">    2908 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    2909 </span><span class="lineNoCov">          0 :             for ( j=0; stylelist[i][j].str!=NULL; ++j ) {</span>
<span class="lineNum">    2910 </span><span class="lineNoCov">          0 :                 if ( stylelist[i][j].lang == 0x409 &amp;&amp;</span>
<span class="lineNum">    2911 </span><span class="lineNoCov">          0 :                         (pt = strstrmatch(new,stylelist[i][j].str))!=NULL ) {</span>
<span class="lineNum">    2912 </span><span class="lineNoCov">          0 :                     if ( pt==new &amp;&amp; strlen(stylelist[i][j].str)==strlen(new) ) {</span>
<span class="lineNum">    2913 </span><span class="lineNoCov">          0 :                         free(new);</span>
<span class="lineNum">    2914 </span><span class="lineNoCov">          0 :                         free(strings[3*r+2].u.md_str);</span>
<span class="lineNum">    2915 </span><span class="lineNoCov">          0 :                         if ( other_lang==0x415 ) {</span>
<span class="lineNum">    2916 </span>            :                             /* polish needs a word before the translation */
<span class="lineNum">    2917 </span><span class="lineNoCov">          0 :                             strings[3*r+2].u.md_str = malloc(strlen(&quot;odmiana &quot;)+strlen(stylelist[i][other_pos].str)+1);</span>
<span class="lineNum">    2918 </span><span class="lineNoCov">          0 :                             strcpy(strings[3*r+2].u.md_str,&quot;odmiana &quot;);</span>
<span class="lineNum">    2919 </span><span class="lineNoCov">          0 :                             strcat(strings[3*r+2].u.md_str,stylelist[i][other_pos].str);</span>
<span class="lineNum">    2920 </span>            :                         } else
<span class="lineNum">    2921 </span><span class="lineNoCov">          0 :                             strings[3*r+2].u.md_str = copy(stylelist[i][other_pos].str);</span>
<span class="lineNum">    2922 </span><span class="lineNoCov">          0 :     return( true );</span>
<span class="lineNum">    2923 </span>            :                     }
<span class="lineNum">    2924 </span><span class="lineNoCov">          0 :                     temp = malloc((strlen(new)</span>
<span class="lineNum">    2925 </span><span class="lineNoCov">          0 :                             + strlen(stylelist[i][other_pos].str)</span>
<span class="lineNum">    2926 </span><span class="lineNoCov">          0 :                             - strlen(stylelist[i][j].str)</span>
<span class="lineNum">    2927 </span>            :                             +1));
<span class="lineNum">    2928 </span><span class="lineNoCov">          0 :                     strncpy(temp,new,pt-new);</span>
<span class="lineNum">    2929 </span><span class="lineNoCov">          0 :                     strcpy(temp+(pt-new),stylelist[i][other_pos].str);</span>
<span class="lineNum">    2930 </span><span class="lineNoCov">          0 :                     strcat(temp+(pt-new),pt+strlen(stylelist[i][j].str));</span>
<span class="lineNum">    2931 </span><span class="lineNoCov">          0 :                     free(new);</span>
<span class="lineNum">    2932 </span><span class="lineNoCov">          0 :                     new = temp;</span>
<span class="lineNum">    2933 </span><span class="lineNoCov">          0 :                     changed = true;</span>
<span class="lineNum">    2934 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    2935 </span>            :                 }
<span class="lineNum">    2936 </span>            :             }
<span class="lineNum">    2937 </span>            :         }
<span class="lineNum">    2938 </span>            :     }
<span class="lineNum">    2939 </span><span class="lineNoCov">          0 :     if ( changed ) {</span>
<span class="lineNum">    2940 </span><span class="lineNoCov">          0 :         free(strings[3*r+2].u.md_str);</span>
<span class="lineNum">    2941 </span><span class="lineNoCov">          0 :         if ( other_lang==0x415 ) {</span>
<span class="lineNum">    2942 </span>            :             /* polish needs a word before the translation */
<span class="lineNum">    2943 </span><span class="lineNoCov">          0 :             strings[3*r+2].u.md_str = malloc(strlen(&quot;odmiana &quot;)+strlen(new)+1);</span>
<span class="lineNum">    2944 </span><span class="lineNoCov">          0 :             strcpy(strings[3*r+2].u.md_str,&quot;odmiana &quot;);</span>
<span class="lineNum">    2945 </span><span class="lineNoCov">          0 :             strcat(strings[3*r+2].u.md_str,new);</span>
<span class="lineNum">    2946 </span><span class="lineNoCov">          0 :             free(new);</span>
<span class="lineNum">    2947 </span>            :         } else
<span class="lineNum">    2948 </span><span class="lineNoCov">          0 :             strings[3*r+2].u.md_str = new;</span>
<span class="lineNum">    2949 </span>            :     } else
<span class="lineNum">    2950 </span><span class="lineNoCov">          0 :         free(new);</span>
<span class="lineNum">    2951 </span><span class="lineNoCov">          0 : return( changed );</span>
<span class="lineNum">    2952 </span>            : }
<span class="lineNum">    2953 </span>            : 
<span class="lineNum">    2954 </span>            : #define MID_ToggleBase  1
<span class="lineNum">    2955 </span>            : #define MID_MultiEdit   2
<a name="2956"><span class="lineNum">    2956 </span>            : #define MID_Delete      3</a>
<span class="lineNum">    2957 </span>            : 
<span class="lineNum">    2958 </span><span class="lineNoCov">          0 : static void TN_StrPopupDispatch(GWindow gw, GMenuItem *mi, GEvent *e) {</span>
<span class="lineNum">    2959 </span><span class="lineNoCov">          0 :     struct gfi_data *d = GDrawGetUserData(GDrawGetParentWindow(gw));</span>
<span class="lineNum">    2960 </span><span class="lineNoCov">          0 :     GGadget *g = GWidgetGetControl(d-&gt;gw,CID_TNames);</span>
<span class="lineNum">    2961 </span>            : 
<span class="lineNum">    2962 </span><span class="lineNoCov">          0 :     switch ( mi-&gt;mid ) {</span>
<span class="lineNum">    2963 </span>            :       case MID_ToggleBase: {
<span class="lineNum">    2964 </span>            :         int rows;
<span class="lineNum">    2965 </span><span class="lineNoCov">          0 :         struct matrix_data *strings = GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    2966 </span><span class="lineNoCov">          0 :         strings[3*d-&gt;tn_active+2].frozen = !strings[3*d-&gt;tn_active+2].frozen;</span>
<span class="lineNum">    2967 </span><span class="lineNoCov">          0 :         if ( strings[3*d-&gt;tn_active+2].frozen ) {</span>
<span class="lineNum">    2968 </span><span class="lineNoCov">          0 :             free( strings[3*d-&gt;tn_active+2].u.md_str );</span>
<span class="lineNum">    2969 </span><span class="lineNoCov">          0 :             strings[3*d-&gt;tn_active+2].u.md_str = NULL;</span>
<span class="lineNum">    2970 </span>            :         } else {
<span class="lineNum">    2971 </span><span class="lineNoCov">          0 :             strings[3*d-&gt;tn_active+2].u.md_str = tn_recalculatedef(d,strings[3*d-&gt;tn_active+1].u.md_ival);</span>
<span class="lineNum">    2972 </span>            :         }
<span class="lineNum">    2973 </span><span class="lineNoCov">          0 :         GGadgetRedraw(g);</span>
<span class="lineNum">    2974 </span><span class="lineNoCov">          0 :       } break;</span>
<span class="lineNum">    2975 </span>            :       case MID_MultiEdit:
<span class="lineNum">    2976 </span><span class="lineNoCov">          0 :         GMatrixEditStringDlg(g,d-&gt;tn_active,2);</span>
<span class="lineNum">    2977 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    2978 </span>            :       case MID_Delete:
<span class="lineNum">    2979 </span><span class="lineNoCov">          0 :         GMatrixEditDeleteRow(g,d-&gt;tn_active);</span>
<span class="lineNum">    2980 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    2981 </span>            :     }
<a name="2982"><span class="lineNum">    2982 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    2983 </span>            : 
<span class="lineNum">    2984 </span><span class="lineNoCov">          0 : static int menusort(const void *m1, const void *m2) {</span>
<span class="lineNum">    2985 </span><span class="lineNoCov">          0 :     const GMenuItem *mi1 = m1, *mi2 = m2;</span>
<span class="lineNum">    2986 </span>            : 
<span class="lineNum">    2987 </span>            :     /* Should do a strcoll here, but I never wrote one */
<span class="lineNum">    2988 </span><span class="lineNoCov">          0 :     if ( mi1-&gt;ti.text_is_1byte &amp;&amp; mi2-&gt;ti.text_is_1byte )</span>
<span class="lineNum">    2989 </span><span class="lineNoCov">          0 : return( strcoll( (char *) (mi1-&gt;ti.text), (char *) (mi2-&gt;ti.text)) );</span>
<span class="lineNum">    2990 </span>            :     else
<span class="lineNum">    2991 </span><span class="lineNoCov">          0 : return( u_strcmp(mi1-&gt;ti.text,mi2-&gt;ti.text));</span>
<a name="2992"><span class="lineNum">    2992 </span>            : }</a>
<span class="lineNum">    2993 </span>            : 
<span class="lineNum">    2994 </span><span class="lineNoCov">          0 : static void TN_StrIDEnable(GGadget *g,GMenuItem *mi, int r, int c) {</span>
<span class="lineNum">    2995 </span>            :     int rows, i, j;
<span class="lineNum">    2996 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    2997 </span>            : 
<span class="lineNum">    2998 </span><span class="lineNoCov">          0 :     for ( i=0; mi[i].ti.text!=NULL; ++i ) {</span>
<span class="lineNum">    2999 </span><span class="lineNoCov">          0 :         int strid = (intpt) mi[i].ti.userdata;</span>
<span class="lineNum">    3000 </span><span class="lineNoCov">          0 :         for ( j=0; j&lt;rows; ++j ) if ( j!=r )</span>
<span class="lineNum">    3001 </span><span class="lineNoCov">          0 :             if ( strings[3*j].u.md_ival == strings[3*r].u.md_ival &amp;&amp;</span>
<span class="lineNum">    3002 </span><span class="lineNoCov">          0 :                     strings[3*j+1].u.md_ival == strid ) {</span>
<span class="lineNum">    3003 </span><span class="lineNoCov">          0 :                 mi[i].ti.disabled = true;</span>
<span class="lineNum">    3004 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    3005 </span>            :             }
<span class="lineNum">    3006 </span>            :     }
<span class="lineNum">    3007 </span><span class="lineNoCov">          0 :     qsort(mi,i,sizeof(mi[0]),menusort);</span>
<a name="3008"><span class="lineNum">    3008 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3009 </span>            : 
<span class="lineNum">    3010 </span><span class="lineNoCov">          0 : static void TN_LangEnable(GGadget *g,GMenuItem *mi, int r, int c) {</span>
<span class="lineNum">    3011 </span>            :     int i;
<span class="lineNum">    3012 </span>            : 
<span class="lineNum">    3013 </span><span class="lineNoCov">          0 :     for ( i=0; mi[i].ti.text!=NULL; ++i );</span>
<span class="lineNum">    3014 </span><span class="lineNoCov">          0 :     qsort(mi,i,sizeof(mi[0]),menusort);</span>
<a name="3015"><span class="lineNum">    3015 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3016 </span>            : 
<span class="lineNum">    3017 </span><span class="lineNoCov">          0 : static void TN_NewName(GGadget *g,int row) {</span>
<span class="lineNum">    3018 </span>            :     int rows;
<span class="lineNum">    3019 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    3020 </span>            : 
<span class="lineNum">    3021 </span><span class="lineNoCov">          0 :     strings[3*row+1].u.md_ival = ttf_subfamily;</span>
<a name="3022"><span class="lineNum">    3022 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3023 </span>            : 
<span class="lineNum">    3024 </span><span class="lineNoCov">          0 : static void TN_FinishEdit(GGadget *g,int row,int col,int wasnew) {</span>
<span class="lineNum">    3025 </span>            :     int i,rows;
<span class="lineNum">    3026 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    3027 </span>            :     uint8 found[ttf_namemax];
<span class="lineNum">    3028 </span><span class="lineNoCov">          0 :     struct gfi_data *d = (struct gfi_data *) GGadgetGetUserData(g);</span>
<span class="lineNum">    3029 </span><span class="lineNoCov">          0 :     int ret = false;</span>
<span class="lineNum">    3030 </span>            : 
<span class="lineNum">    3031 </span><span class="lineNoCov">          0 :     if ( col==2 ) {</span>
<span class="lineNum">    3032 </span><span class="lineNoCov">          0 :         if ( strings[3*row+2].u.md_str==NULL || *strings[3*row+2].u.md_str=='\0' ) {</span>
<span class="lineNum">    3033 </span><span class="lineNoCov">          0 :             GMatrixEditDeleteRow(g,row);</span>
<span class="lineNum">    3034 </span><span class="lineNoCov">          0 :             ret = true;</span>
<span class="lineNum">    3035 </span>            :         }
<span class="lineNum">    3036 </span>            :     } else {
<span class="lineNum">    3037 </span><span class="lineNoCov">          0 :         if ( col==0 ) {</span>
<span class="lineNum">    3038 </span><span class="lineNoCov">          0 :             memset(found,0,sizeof(found));</span>
<span class="lineNum">    3039 </span><span class="lineNoCov">          0 :             found[ttf_idontknow] = true;        /* reserved name id */</span>
<span class="lineNum">    3040 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;rows; ++i ) if ( i!=row ) {</span>
<span class="lineNum">    3041 </span><span class="lineNoCov">          0 :                 if ( strings[3*i].u.md_ival == strings[3*row].u.md_ival )       /* Same language */</span>
<span class="lineNum">    3042 </span><span class="lineNoCov">          0 :                     found[strings[3*i+1].u.md_ival] = true;</span>
<span class="lineNum">    3043 </span>            :             }
<span class="lineNum">    3044 </span><span class="lineNoCov">          0 :             if ( found[ strings[3*row+1].u.md_ival ] ) {</span>
<span class="lineNum">    3045 </span>            :                 /* This language already has an entry for this strid */
<span class="lineNum">    3046 </span>            :                 /* pick another */
<span class="lineNum">    3047 </span><span class="lineNoCov">          0 :                 if ( !found[ttf_subfamily] ) {</span>
<span class="lineNum">    3048 </span><span class="lineNoCov">          0 :                     strings[3*row+1].u.md_ival = ttf_subfamily;</span>
<span class="lineNum">    3049 </span><span class="lineNoCov">          0 :                     ret = true;</span>
<span class="lineNum">    3050 </span>            :                 } else {
<span class="lineNum">    3051 </span><span class="lineNoCov">          0 :                     for ( i=0; i&lt;ttf_namemax; ++i )</span>
<span class="lineNum">    3052 </span><span class="lineNoCov">          0 :                         if ( !found[i] ) {</span>
<span class="lineNum">    3053 </span><span class="lineNoCov">          0 :                             strings[3*row+1].u.md_ival = i;</span>
<span class="lineNum">    3054 </span><span class="lineNoCov">          0 :                             ret = true;</span>
<span class="lineNum">    3055 </span><span class="lineNoCov">          0 :                     break;</span>
<span class="lineNum">    3056 </span>            :                         }
<span class="lineNum">    3057 </span>            :                 }
<span class="lineNum">    3058 </span>            :             }
<span class="lineNum">    3059 </span>            :         }
<span class="lineNum">    3060 </span><span class="lineNoCov">          0 :         if ( (strings[3*row+2].u.md_str==NULL || *strings[3*row+2].u.md_str=='\0') ) {</span>
<span class="lineNum">    3061 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;rows; ++i ) if ( i!=row ) {</span>
<span class="lineNum">    3062 </span><span class="lineNoCov">          0 :                 if ( strings[3*row+1].u.md_ival == strings[3*i+1].u.md_ival &amp;&amp;</span>
<span class="lineNum">    3063 </span><span class="lineNoCov">          0 :                         (strings[3*row].u.md_ival&amp;0xff) == (strings[3*i].u.md_ival&amp;0xff)) {</span>
<span class="lineNum">    3064 </span>            :                     /* Same string, same language, different locale */
<span class="lineNum">    3065 </span>            :                     /* first guess is the same as the other string. */
<span class="lineNum">    3066 </span><span class="lineNoCov">          0 :                     if ( strings[3*i+2].u.md_str==NULL )</span>
<span class="lineNum">    3067 </span><span class="lineNoCov">          0 :                         strings[3*row+2].u.md_str = tn_recalculatedef(d,strings[3*row+1].u.md_ival );</span>
<span class="lineNum">    3068 </span>            :                     else
<span class="lineNum">    3069 </span><span class="lineNoCov">          0 :                         strings[3*row+2].u.md_str = copy(strings[3*i+2].u.md_str);</span>
<span class="lineNum">    3070 </span><span class="lineNoCov">          0 :                     ret = true;</span>
<span class="lineNum">    3071 </span><span class="lineNoCov">          0 :             break;</span>
<span class="lineNum">    3072 </span>            :                 }
<span class="lineNum">    3073 </span>            :             }
<span class="lineNum">    3074 </span><span class="lineNoCov">          0 :             if ( i==rows ) {</span>
<span class="lineNum">    3075 </span>            :             /* If we didn't find anything above, and if we've got a style */
<span class="lineNum">    3076 </span>            :             /*  (subfamily) see if we can guess a translation from the english */
<span class="lineNum">    3077 </span><span class="lineNoCov">          0 :                 if ( strings[3*row+1].u.md_ival == ttf_subfamily )</span>
<span class="lineNum">    3078 </span><span class="lineNoCov">          0 :                     ret |= CheckActiveStyleTranslation(d,strings,row,rows,false);</span>
<span class="lineNum">    3079 </span><span class="lineNoCov">          0 :                 else if ( strings[3*row+1].u.md_ival == ttf_wwssubfamily ) {</span>
<span class="lineNum">    3080 </span>            :                     /* First see if there is a wwssubfamily we can translate */
<span class="lineNum">    3081 </span>            :                     /* then see if there is a subfamily we can copy */
<span class="lineNum">    3082 </span><span class="lineNoCov">          0 :                     ret |= CheckActiveStyleTranslation(d,strings,row,rows,true);</span>
<span class="lineNum">    3083 </span><span class="lineNoCov">          0 :                 } else if ( strings[3*row+1].u.md_ival == ttf_wwsfamily ) {</span>
<span class="lineNum">    3084 </span>            :                     /* Copy the normal family */
<span class="lineNum">    3085 </span><span class="lineNoCov">          0 :                     for ( i=rows-1; i&gt;=0; --i )</span>
<span class="lineNum">    3086 </span><span class="lineNoCov">          0 :                         if ( strings[3*i+1].u.md_ival==ttf_family &amp;&amp;</span>
<span class="lineNum">    3087 </span><span class="lineNoCov">          0 :                                 strings[3*i].u.md_ival == strings[3*row].u.md_ival ) {</span>
<span class="lineNum">    3088 </span><span class="lineNoCov">          0 :                             strings[3*row+2].u.md_str = copy(strings[3*i+2].u.md_str);</span>
<span class="lineNum">    3089 </span><span class="lineNoCov">          0 :                             ret = true;</span>
<span class="lineNum">    3090 </span><span class="lineNoCov">          0 :                     break;</span>
<span class="lineNum">    3091 </span>            :                         }
<span class="lineNum">    3092 </span><span class="lineNoCov">          0 :                     if ( (i&lt;0 || strings[3*i+2].u.md_str==NULL) &amp;&amp;</span>
<span class="lineNum">    3093 </span><span class="lineNoCov">          0 :                             strings[3*row].u.md_ival == 0x409 ) {</span>
<span class="lineNum">    3094 </span><span class="lineNoCov">          0 :                         strings[3*row+2].u.md_str = tn_recalculatedef(d,ttf_family);</span>
<span class="lineNum">    3095 </span><span class="lineNoCov">          0 :                         ret = true;</span>
<span class="lineNum">    3096 </span>            :                     }
<span class="lineNum">    3097 </span>            :                 }
<span class="lineNum">    3098 </span>            :             }
<span class="lineNum">    3099 </span>            :         }
<span class="lineNum">    3100 </span>            :     }
<span class="lineNum">    3101 </span><span class="lineNoCov">          0 :     if ( ret )</span>
<span class="lineNum">    3102 </span><span class="lineNoCov">          0 :         GGadgetRedraw(g);</span>
<a name="3103"><span class="lineNum">    3103 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3104 </span>            : 
<span class="lineNum">    3105 </span><span class="lineNoCov">          0 : static int TN_CanDelete(GGadget *g,int row) {</span>
<span class="lineNum">    3106 </span>            :     int rows;
<span class="lineNum">    3107 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    3108 </span><span class="lineNoCov">          0 :     if ( strings==NULL )</span>
<span class="lineNum">    3109 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    3110 </span>            : 
<span class="lineNum">    3111 </span><span class="lineNoCov">          0 : return( !strings[3*row+2].user_bits );</span>
<a name="3112"><span class="lineNum">    3112 </span>            : }</a>
<span class="lineNum">    3113 </span>            : 
<span class="lineNum">    3114 </span><span class="lineNoCov">          0 : static void TN_PopupMenu(GGadget *g,GEvent *event,int r,int c) {</span>
<span class="lineNum">    3115 </span><span class="lineNoCov">          0 :     struct gfi_data *d = (struct gfi_data *) GGadgetGetUserData(g);</span>
<span class="lineNum">    3116 </span>            :     int rows;
<span class="lineNum">    3117 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    3118 </span>            :     GMenuItem mi[5];
<span class="lineNum">    3119 </span>            :     int i;
<span class="lineNum">    3120 </span>            : 
<span class="lineNum">    3121 </span><span class="lineNoCov">          0 :     if ( strings==NULL )</span>
<span class="lineNum">    3122 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    3123 </span>            : 
<span class="lineNum">    3124 </span><span class="lineNoCov">          0 :     d-&gt;tn_active = r;</span>
<span class="lineNum">    3125 </span>            : 
<span class="lineNum">    3126 </span><span class="lineNoCov">          0 :     memset(mi,'\0',sizeof(mi));</span>
<span class="lineNum">    3127 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;3; ++i ) {</span>
<span class="lineNum">    3128 </span><span class="lineNoCov">          0 :         mi[i].ti.fg = COLOR_DEFAULT;</span>
<span class="lineNum">    3129 </span><span class="lineNoCov">          0 :         mi[i].ti.bg = COLOR_DEFAULT;</span>
<span class="lineNum">    3130 </span><span class="lineNoCov">          0 :         mi[i].mid = i+1;</span>
<span class="lineNum">    3131 </span><span class="lineNoCov">          0 :         mi[i].invoke = TN_StrPopupDispatch;</span>
<span class="lineNum">    3132 </span><span class="lineNoCov">          0 :         mi[i].ti.text_is_1byte = true;</span>
<span class="lineNum">    3133 </span>            :     }
<span class="lineNum">    3134 </span><span class="lineNoCov">          0 :     mi[MID_Delete-1].ti.disabled = strings[3*r+2].user_bits;</span>
<span class="lineNum">    3135 </span><span class="lineNoCov">          0 :     mi[MID_ToggleBase-1].ti.disabled = !strings[3*r+2].user_bits;</span>
<span class="lineNum">    3136 </span><span class="lineNoCov">          0 :     if ( strings[3*r+2].frozen ) {</span>
<span class="lineNum">    3137 </span><span class="lineNoCov">          0 :         mi[MID_MultiEdit-1].ti.disabled = true;</span>
<span class="lineNum">    3138 </span><span class="lineNoCov">          0 :         mi[MID_ToggleBase-1].ti.text = (unichar_t *) _(&quot;Detach from PostScript Names&quot;);</span>
<span class="lineNum">    3139 </span>            :     } else {
<span class="lineNum">    3140 </span>            :         char *temp;
<span class="lineNum">    3141 </span><span class="lineNoCov">          0 :         mi[MID_ToggleBase-1].ti.text = (unichar_t *) _(&quot;Same as PostScript Names&quot;);</span>
<span class="lineNum">    3142 </span><span class="lineNoCov">          0 :         temp = tn_recalculatedef(d,strings[3*r+1].u.md_ival);</span>
<span class="lineNum">    3143 </span><span class="lineNoCov">          0 :         mi[MID_ToggleBase-1].ti.disabled = (temp==NULL);</span>
<span class="lineNum">    3144 </span><span class="lineNoCov">          0 :         free(temp);</span>
<span class="lineNum">    3145 </span>            :     }
<span class="lineNum">    3146 </span><span class="lineNoCov">          0 :     if ( c!=2 )</span>
<span class="lineNum">    3147 </span><span class="lineNoCov">          0 :         mi[MID_MultiEdit-1].ti.disabled = true;</span>
<span class="lineNum">    3148 </span><span class="lineNoCov">          0 :     mi[MID_MultiEdit-1].ti.text = (unichar_t *) _(&quot;Multi-line edit&quot;);</span>
<span class="lineNum">    3149 </span><span class="lineNoCov">          0 :     mi[MID_Delete-1].ti.text = (unichar_t *) _(&quot;Delete&quot;);</span>
<span class="lineNum">    3150 </span><span class="lineNoCov">          0 :     GMenuCreatePopupMenu(event-&gt;w,event, mi);</span>
<a name="3151"><span class="lineNum">    3151 </span>            : }</a>
<span class="lineNum">    3152 </span>            : 
<span class="lineNum">    3153 </span><span class="lineNoCov">          0 : static int TN_PassChar(GGadget *g,GEvent *e) {</span>
<span class="lineNum">    3154 </span><span class="lineNoCov">          0 : return( GFI_Char(GGadgetGetUserData(g),e));</span>
<a name="3155"><span class="lineNum">    3155 </span>            : }</a>
<span class="lineNum">    3156 </span>            : 
<span class="lineNum">    3157 </span><span class="lineNoCov">          0 : static char *TN_BigEditTitle(GGadget *g,int r, int c) {</span>
<span class="lineNum">    3158 </span>            :     char buf[100], buf2[20];
<span class="lineNum">    3159 </span>            :     const char *lang;
<span class="lineNum">    3160 </span>            :     int k;
<span class="lineNum">    3161 </span>            :     int rows;
<span class="lineNum">    3162 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    3163 </span>            : 
<span class="lineNum">    3164 </span><span class="lineNoCov">          0 :     lang = langname(strings[3*r].u.md_ival,buf2);</span>
<span class="lineNum">    3165 </span><span class="lineNoCov">          0 :     for ( k=0; ttfnameids[k].text!=NULL &amp;&amp; ttfnameids[k].userdata!=(void *) (intpt) strings[3*r+1].u.md_ival;</span>
<span class="lineNum">    3166 </span><span class="lineNoCov">          0 :             ++k );</span>
<span class="lineNum">    3167 </span><span class="lineNoCov">          0 :     snprintf(buf,sizeof(buf),_(&quot;%1$.30s string for %2$.30s&quot;),</span>
<span class="lineNum">    3168 </span><span class="lineNoCov">          0 :             lang, (char *) ttfnameids[k].text );</span>
<span class="lineNum">    3169 </span><span class="lineNoCov">          0 : return( copy( buf ));</span>
<a name="3170"><span class="lineNum">    3170 </span>            : }</a>
<span class="lineNum">    3171 </span>            : 
<span class="lineNum">    3172 </span><span class="lineNoCov">          0 : static void TNMatrixInit(struct matrixinit *mi,struct gfi_data *d) {</span>
<span class="lineNum">    3173 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    3174 </span>            :     int i,j,k,cnt;
<span class="lineNum">    3175 </span>            :     uint8 sawEnglishUS[ttf_namemax];
<span class="lineNum">    3176 </span>            :     struct ttflangname *tln;
<span class="lineNum">    3177 </span>            :     struct matrix_data *md;
<span class="lineNum">    3178 </span>            : 
<span class="lineNum">    3179 </span><span class="lineNoCov">          0 :     d-&gt;langlocalecode = MSLanguageFromLocale();</span>
<span class="lineNum">    3180 </span>            : 
<span class="lineNum">    3181 </span><span class="lineNoCov">          0 :     memset(mi,0,sizeof(*mi));</span>
<span class="lineNum">    3182 </span><span class="lineNoCov">          0 :     mi-&gt;col_cnt = 3;</span>
<span class="lineNum">    3183 </span><span class="lineNoCov">          0 :     mi-&gt;col_init = ci;</span>
<span class="lineNum">    3184 </span>            : 
<span class="lineNum">    3185 </span><span class="lineNoCov">          0 :     md = NULL;</span>
<span class="lineNum">    3186 </span><span class="lineNoCov">          0 :     for ( k=0; k&lt;2; ++k ) {</span>
<span class="lineNum">    3187 </span><span class="lineNoCov">          0 :         memset(sawEnglishUS,0,sizeof(sawEnglishUS));</span>
<span class="lineNum">    3188 </span><span class="lineNoCov">          0 :         cnt = 0;</span>
<span class="lineNum">    3189 </span><span class="lineNoCov">          0 :         for ( tln = sf-&gt;names; tln!=NULL; tln = tln-&gt;next ) {</span>
<span class="lineNum">    3190 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;ttf_namemax; ++i ) if ( i!=ttf_postscriptname &amp;&amp; tln-&gt;names[i]!=NULL ) {</span>
<span class="lineNum">    3191 </span><span class="lineNoCov">          0 :                 if ( md!=NULL ) {</span>
<span class="lineNum">    3192 </span><span class="lineNoCov">          0 :                     md[3*cnt  ].u.md_ival = tln-&gt;lang;</span>
<span class="lineNum">    3193 </span><span class="lineNoCov">          0 :                     md[3*cnt+1].u.md_ival = i;</span>
<span class="lineNum">    3194 </span><span class="lineNoCov">          0 :                     md[3*cnt+2].u.md_str = copy(tln-&gt;names[i]);</span>
<span class="lineNum">    3195 </span>            :                 }
<span class="lineNum">    3196 </span><span class="lineNoCov">          0 :                 ++cnt;</span>
<span class="lineNum">    3197 </span><span class="lineNoCov">          0 :                 if ( tln-&gt;lang==0x409 )</span>
<span class="lineNum">    3198 </span><span class="lineNoCov">          0 :                     sawEnglishUS[i] = true;</span>
<span class="lineNum">    3199 </span>            :             }
<span class="lineNum">    3200 </span>            :         }
<span class="lineNum">    3201 </span><span class="lineNoCov">          0 :         for ( i=0; ttfspecials[i]!=-1; ++i ) if ( !sawEnglishUS[ttfspecials[i]] ) {</span>
<span class="lineNum">    3202 </span><span class="lineNoCov">          0 :             if ( md!=NULL ) {</span>
<span class="lineNum">    3203 </span><span class="lineNoCov">          0 :                 md[3*cnt  ].u.md_ival = 0x409;</span>
<span class="lineNum">    3204 </span><span class="lineNoCov">          0 :                 md[3*cnt+1].u.md_ival = ttfspecials[i];</span>
<span class="lineNum">    3205 </span><span class="lineNoCov">          0 :                 md[3*cnt+2].u.md_str = NULL;</span>
<span class="lineNum">    3206 </span>            : /* if frozen is set then can't remove or edit. (old basedon bit) */
<span class="lineNum">    3207 </span><span class="lineNoCov">          0 :                 md[3*cnt].frozen = md[3*cnt+1].frozen = md[3*cnt+2].frozen = true;</span>
<span class="lineNum">    3208 </span>            : /* if user_bits is set then can't remove. (old cantremove bit) */
<span class="lineNum">    3209 </span><span class="lineNoCov">          0 :                 md[3*cnt].user_bits = md[3*cnt+1].user_bits = md[3*cnt+2].user_bits = true;</span>
<span class="lineNum">    3210 </span>            :             }
<span class="lineNum">    3211 </span><span class="lineNoCov">          0 :             ++cnt;</span>
<span class="lineNum">    3212 </span>            :         }
<span class="lineNum">    3213 </span><span class="lineNoCov">          0 :         if ( md==NULL )</span>
<span class="lineNum">    3214 </span><span class="lineNoCov">          0 :             md = calloc(3*(cnt+10),sizeof(struct matrix_data));</span>
<span class="lineNum">    3215 </span>            :     }
<span class="lineNum">    3216 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;cnt; ++i ) if ( md[3*cnt].u.md_ival==0x409 ) {</span>
<span class="lineNum">    3217 </span><span class="lineNoCov">          0 :         for ( j=0; ttfspecials[j]!=-1 &amp;&amp; ttfspecials[j]!=md[3*cnt+1].u.md_ival; ++j );</span>
<span class="lineNum">    3218 </span><span class="lineNoCov">          0 :         md[3*i].user_bits = md[3*i+1].user_bits = md[3*i+2].user_bits =</span>
<span class="lineNum">    3219 </span><span class="lineNoCov">          0 :                 ( ttfspecials[j]!=-1 );</span>
<span class="lineNum">    3220 </span>            :     }
<span class="lineNum">    3221 </span><span class="lineNoCov">          0 :     mi-&gt;matrix_data = md;</span>
<span class="lineNum">    3222 </span><span class="lineNoCov">          0 :     mi-&gt;initial_row_cnt = cnt;</span>
<span class="lineNum">    3223 </span>            : 
<span class="lineNum">    3224 </span><span class="lineNoCov">          0 :     mi-&gt;initrow = TN_NewName;</span>
<span class="lineNum">    3225 </span><span class="lineNoCov">          0 :     mi-&gt;finishedit = TN_FinishEdit;</span>
<span class="lineNum">    3226 </span><span class="lineNoCov">          0 :     mi-&gt;candelete = TN_CanDelete;</span>
<span class="lineNum">    3227 </span><span class="lineNoCov">          0 :     mi-&gt;popupmenu = TN_PopupMenu;</span>
<span class="lineNum">    3228 </span><span class="lineNoCov">          0 :     mi-&gt;handle_key = TN_PassChar;</span>
<span class="lineNum">    3229 </span><span class="lineNoCov">          0 :     mi-&gt;bigedittitle = TN_BigEditTitle;</span>
<a name="3230"><span class="lineNum">    3230 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3231 </span>            : 
<span class="lineNum">    3232 </span><span class="lineNoCov">          0 : static int GFI_SortBy(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    3233 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    3234 </span><span class="lineNoCov">          0 :         struct gfi_data *d = (struct gfi_data *) GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    3235 </span><span class="lineNoCov">          0 :         TTFNames_Resort(d);</span>
<span class="lineNum">    3236 </span><span class="lineNoCov">          0 :         GGadgetRedraw(GWidgetGetControl(d-&gt;gw,CID_TNames));</span>
<span class="lineNum">    3237 </span>            :     }
<span class="lineNum">    3238 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="3239"><span class="lineNum">    3239 </span>            : }</a>
<span class="lineNum">    3240 </span>            : 
<span class="lineNum">    3241 </span><span class="lineNoCov">          0 : static int GFI_HelpOFL(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    3242 </span>            : /* F1 Help to open a browser to sil.org Open Source License and FAQ */
<span class="lineNum">    3243 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    3244 </span><span class="lineNoCov">          0 :         help(&quot;http://scripts.sil.org/OFL&quot;);</span>
<span class="lineNum">    3245 </span>            :     }
<span class="lineNum">    3246 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="3247"><span class="lineNum">    3247 </span>            : }</a>
<span class="lineNum">    3248 </span>            : 
<span class="lineNum">    3249 </span><span class="lineNoCov">          0 : static int GFI_AddOFL(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    3250 </span>            : /* Add sil.org Open Source License (see ofl.c), and modify with current date */
<span class="lineNum">    3251 </span>            : /* Author, and Font Family Name for rows[0,1] of the license. You can access */
<span class="lineNum">    3252 </span>            : /* this routine from GUI at Element-&gt;Font_Info-&gt;TTF_Names. info at PS_Names. */
<span class="lineNum">    3253 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    3254 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    3255 </span><span class="lineNoCov">          0 :         GGadget *tng = GWidgetGetControl(GGadgetGetWindow(g),CID_TNames);</span>
<span class="lineNum">    3256 </span>            :         int rows;
<span class="lineNum">    3257 </span>            :         struct matrix_data *tns, *newtns;
<span class="lineNum">    3258 </span>            :         int i,j,k,l,m, extras, len;
<span class="lineNum">    3259 </span>            :         char *all, *pt, **data;
<span class="lineNum">    3260 </span>            :         char buffer[1024], *bpt;
<span class="lineNum">    3261 </span><span class="lineNoCov">          0 :         const char *author = GetAuthor();</span>
<span class="lineNum">    3262 </span>            :         char *reservedname, *fallback;
<span class="lineNum">    3263 </span>            :         time_t now;
<span class="lineNum">    3264 </span>            :         struct tm *tm;
<span class="lineNum">    3265 </span>            : 
<span class="lineNum">    3266 </span><span class="lineNoCov">          0 :         time(&amp;now);</span>
<span class="lineNum">    3267 </span><span class="lineNoCov">          0 :         tm = localtime(&amp;now);</span>
<span class="lineNum">    3268 </span>            : 
<span class="lineNum">    3269 </span><span class="lineNoCov">          0 :         tns = GMatrixEditGet(tng, &amp;rows); newtns = NULL;</span>
<span class="lineNum">    3270 </span><span class="lineNoCov">          0 :         for ( k=0; k&lt;2; ++k ) {</span>
<span class="lineNum">    3271 </span><span class="lineNoCov">          0 :             extras = 0;</span>
<span class="lineNum">    3272 </span><span class="lineNoCov">          0 :             for ( i=0; ofl_str_lang_data[i].data!=NULL; ++i ) {</span>
<span class="lineNum">    3273 </span><span class="lineNoCov">          0 :                 for ( j=rows-1; j&gt;=0; --j ) {</span>
<span class="lineNum">    3274 </span><span class="lineNoCov">          0 :                     if ( tns[j*3+1].u.md_ival==ofl_str_lang_data[i].strid &amp;&amp;</span>
<span class="lineNum">    3275 </span><span class="lineNoCov">          0 :                             tns[j*3+0].u.md_ival==ofl_str_lang_data[i].lang ) {</span>
<span class="lineNum">    3276 </span><span class="lineNoCov">          0 :                         if ( k ) {</span>
<span class="lineNum">    3277 </span><span class="lineNoCov">          0 :                             free(newtns[j*3+2].u.md_str);</span>
<span class="lineNum">    3278 </span><span class="lineNoCov">          0 :                             newtns[j*3+2].u.md_str = NULL;</span>
<span class="lineNum">    3279 </span>            :                         }
<span class="lineNum">    3280 </span><span class="lineNoCov">          0 :                 break;</span>
<span class="lineNum">    3281 </span>            :                     }
<span class="lineNum">    3282 </span>            :                 }
<span class="lineNum">    3283 </span><span class="lineNoCov">          0 :                 if ( j&lt;0 )</span>
<span class="lineNum">    3284 </span><span class="lineNoCov">          0 :                     j = rows + extras++;</span>
<span class="lineNum">    3285 </span><span class="lineNoCov">          0 :                 if ( k ) {</span>
<span class="lineNum">    3286 </span><span class="lineNoCov">          0 :                     newtns[j*3+1].u.md_ival = ofl_str_lang_data[i].strid;</span>
<span class="lineNum">    3287 </span><span class="lineNoCov">          0 :                     newtns[j*3+0].u.md_ival = ofl_str_lang_data[i].lang;</span>
<span class="lineNum">    3288 </span><span class="lineNoCov">          0 :                     data = ofl_str_lang_data[i].data;</span>
<span class="lineNum">    3289 </span><span class="lineNoCov">          0 :                     reservedname = fallback = NULL;</span>
<span class="lineNum">    3290 </span><span class="lineNoCov">          0 :                     for ( m=0; m&lt;rows; ++m ) {</span>
<span class="lineNum">    3291 </span><span class="lineNoCov">          0 :                         if ( newtns[j*3+1].u.md_ival==ttf_family ) {</span>
<span class="lineNum">    3292 </span><span class="lineNoCov">          0 :                             if ( newtns[j*3+0].u.md_ival==0x409 )</span>
<span class="lineNum">    3293 </span><span class="lineNoCov">          0 :                                 fallback = newtns[3*j+2].u.md_str;</span>
<span class="lineNum">    3294 </span><span class="lineNoCov">          0 :                             else if ( newtns[j*3+0].u.md_ival==ofl_str_lang_data[i].lang )</span>
<span class="lineNum">    3295 </span><span class="lineNoCov">          0 :                                 reservedname = newtns[3*j+2].u.md_str;</span>
<span class="lineNum">    3296 </span>            :                         }
<span class="lineNum">    3297 </span>            :                     }
<span class="lineNum">    3298 </span><span class="lineNoCov">          0 :                     if ( reservedname==NULL )</span>
<span class="lineNum">    3299 </span><span class="lineNoCov">          0 :                         reservedname = fallback;</span>
<span class="lineNum">    3300 </span><span class="lineNoCov">          0 :                     if ( reservedname==NULL )</span>
<span class="lineNum">    3301 </span><span class="lineNoCov">          0 :                         reservedname = d-&gt;sf-&gt;familyname;</span>
<span class="lineNum">    3302 </span><span class="lineNoCov">          0 :                     for ( m=0; m&lt;2; ++m ) {</span>
<span class="lineNum">    3303 </span><span class="lineNoCov">          0 :                         len = 0;</span>
<span class="lineNum">    3304 </span><span class="lineNoCov">          0 :                         for ( l=0; data[l]!=NULL; ++l ) {</span>
<span class="lineNum">    3305 </span><span class="lineNoCov">          0 :                             if ( l==0 ) {</span>
<span class="lineNum">    3306 </span><span class="lineNoCov">          0 :                                 sprintf( buffer, data[l], tm-&gt;tm_year+1900, author );</span>
<span class="lineNum">    3307 </span><span class="lineNoCov">          0 :                                 bpt = buffer;</span>
<span class="lineNum">    3308 </span><span class="lineNoCov">          0 :                             } else if ( l==1 ) {</span>
<span class="lineNum">    3309 </span><span class="lineNoCov">          0 :                                 sprintf( buffer, data[l], reservedname );</span>
<span class="lineNum">    3310 </span><span class="lineNoCov">          0 :                                 bpt = buffer;</span>
<span class="lineNum">    3311 </span>            :                             } else
<span class="lineNum">    3312 </span><span class="lineNoCov">          0 :                                 bpt = data[l];</span>
<span class="lineNum">    3313 </span><span class="lineNoCov">          0 :                             if ( m ) {</span>
<span class="lineNum">    3314 </span><span class="lineNoCov">          0 :                                 strcpy( pt, bpt );</span>
<span class="lineNum">    3315 </span><span class="lineNoCov">          0 :                                 pt += strlen( bpt );</span>
<span class="lineNum">    3316 </span><span class="lineNoCov">          0 :                                 *pt++ = '\n';</span>
<span class="lineNum">    3317 </span>            :                             } else
<span class="lineNum">    3318 </span><span class="lineNoCov">          0 :                                 len += strlen( bpt ) + 1;               /* for a new line */</span>
<span class="lineNum">    3319 </span>            :                         }
<span class="lineNum">    3320 </span><span class="lineNoCov">          0 :                         if ( !m )</span>
<span class="lineNum">    3321 </span><span class="lineNoCov">          0 :                             newtns[j*3+2].u.md_str = all = pt = malloc(len+2);</span>
<span class="lineNum">    3322 </span>            :                     }
<span class="lineNum">    3323 </span><span class="lineNoCov">          0 :                     if ( pt&gt;all ) pt[-1] = '\0';</span>
<span class="lineNum">    3324 </span><span class="lineNoCov">          0 :                     else *pt = '\0';</span>
<span class="lineNum">    3325 </span>            :                 }
<span class="lineNum">    3326 </span>            :             }
<span class="lineNum">    3327 </span><span class="lineNoCov">          0 :             if ( !k ) {</span>
<span class="lineNum">    3328 </span><span class="lineNoCov">          0 :                 newtns = calloc((rows+extras)*3,sizeof(struct matrix_data));</span>
<span class="lineNum">    3329 </span><span class="lineNoCov">          0 :                 memcpy(newtns,tns,rows*3*sizeof(struct matrix_data));</span>
<span class="lineNum">    3330 </span><span class="lineNoCov">          0 :                 for ( i=0; i&lt;rows; ++i )</span>
<span class="lineNum">    3331 </span><span class="lineNoCov">          0 :                     newtns[3*i+2].u.md_str = copy(newtns[3*i+2].u.md_str);</span>
<span class="lineNum">    3332 </span>            :             }
<span class="lineNum">    3333 </span>            :         }
<span class="lineNum">    3334 </span><span class="lineNoCov">          0 :         GMatrixEditSet(tng, newtns, rows+extras, false);</span>
<span class="lineNum">    3335 </span><span class="lineNoCov">          0 :         ff_post_notice(_(&quot;Using the OFL for your open fonts&quot;),_(</span>
<span class="lineNum">    3336 </span>            :             &quot;The OFL is a community-approved software license designed for libre/open font projects. \n&quot;
<span class="lineNum">    3337 </span>            :             &quot;Fonts under the OFL can be used, studied, copied, modified, embedded, merged and redistributed while giving authors enough control and artistic integrity. For more details including an FAQ see http://scripts.sil.org/OFL. \n\n&quot;
<span class="lineNum">    3338 </span>            :             &quot;This font metadata will help users, designers and distribution channels to know who you are, how to contact you and what rights you are granting. \n&quot; 
<span class="lineNum">    3339 </span>            :         &quot;When releasing modified versions, remember to add your additional notice, including any extra Reserved Font Name(s). \n\n&quot; 
<span class="lineNum">    3340 </span>            :             &quot;Have fun designing open fonts!&quot; ));
<span class="lineNum">    3341 </span>            :     }
<span class="lineNum">    3342 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="3343"><span class="lineNum">    3343 </span>            : }</a>
<span class="lineNum">    3344 </span>            : 
<span class="lineNum">    3345 </span><span class="lineNoCov">          0 : static int ss_cmp(const void *_md1, const void *_md2) {</span>
<span class="lineNum">    3346 </span><span class="lineNoCov">          0 :     const struct matrix_data *md1 = _md1, *md2 = _md2;</span>
<span class="lineNum">    3347 </span>            : 
<span class="lineNum">    3348 </span>            :     char buf1[20], buf2[20];
<span class="lineNum">    3349 </span>            :     const char *l1, *l2;
<span class="lineNum">    3350 </span>            : 
<span class="lineNum">    3351 </span><span class="lineNoCov">          0 :     if ( md1[1].u.md_ival == md2[1].u.md_ival ) {</span>
<span class="lineNum">    3352 </span><span class="lineNoCov">          0 :        l1 = langname(md1[0].u.md_ival,buf1);</span>
<span class="lineNum">    3353 </span><span class="lineNoCov">          0 :        l2 = langname(md2[0].u.md_ival,buf2);</span>
<span class="lineNum">    3354 </span><span class="lineNoCov">          0 : return( strcoll(l1,l2));</span>
<span class="lineNum">    3355 </span>            :     }
<span class="lineNum">    3356 </span><span class="lineNoCov">          0 : return( md1[1].u.md_ival - md2[1].u.md_ival );</span>
<a name="3357"><span class="lineNum">    3357 </span>            : }</a>
<span class="lineNum">    3358 </span>            : 
<span class="lineNum">    3359 </span><span class="lineNoCov">          0 : static void SSMatrixInit(struct matrixinit *mi,struct gfi_data *d) {</span>
<span class="lineNum">    3360 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    3361 </span>            :     struct matrix_data *md;
<span class="lineNum">    3362 </span>            :     struct otffeatname *fn;
<span class="lineNum">    3363 </span>            :     struct otfname *on;
<span class="lineNum">    3364 </span>            :     int cnt;
<span class="lineNum">    3365 </span>            : 
<span class="lineNum">    3366 </span><span class="lineNoCov">          0 :     memset(mi,0,sizeof(*mi));</span>
<span class="lineNum">    3367 </span><span class="lineNoCov">          0 :     mi-&gt;col_cnt = 3;</span>
<span class="lineNum">    3368 </span><span class="lineNoCov">          0 :     mi-&gt;col_init = ssci;</span>
<span class="lineNum">    3369 </span>            : 
<span class="lineNum">    3370 </span><span class="lineNoCov">          0 :     for ( cnt=0, fn=sf-&gt;feat_names; fn!=NULL; fn=fn-&gt;next ) {</span>
<span class="lineNum">    3371 </span><span class="lineNoCov">          0 :         for ( on=fn-&gt;names; on!=NULL; on=on-&gt;next, ++cnt );</span>
<span class="lineNum">    3372 </span>            :     }
<span class="lineNum">    3373 </span><span class="lineNoCov">          0 :     md = calloc(3*(cnt+10),sizeof(struct matrix_data));</span>
<span class="lineNum">    3374 </span><span class="lineNoCov">          0 :     for ( cnt=0, fn=sf-&gt;feat_names; fn!=NULL; fn=fn-&gt;next ) {</span>
<span class="lineNum">    3375 </span><span class="lineNoCov">          0 :         for ( on=fn-&gt;names; on!=NULL; on=on-&gt;next, ++cnt ) {</span>
<span class="lineNum">    3376 </span><span class="lineNoCov">          0 :             md[3*cnt  ].u.md_ival = on-&gt;lang;</span>
<span class="lineNum">    3377 </span><span class="lineNoCov">          0 :             md[3*cnt+1].u.md_ival = fn-&gt;tag;</span>
<span class="lineNum">    3378 </span><span class="lineNoCov">          0 :             md[3*cnt+2].u.md_str = copy(on-&gt;name);</span>
<span class="lineNum">    3379 </span>            :         }
<span class="lineNum">    3380 </span>            :     }
<span class="lineNum">    3381 </span><span class="lineNoCov">          0 :     qsort( md, cnt, 3*sizeof(struct matrix_data), ss_cmp );</span>
<span class="lineNum">    3382 </span><span class="lineNoCov">          0 :     mi-&gt;matrix_data = md;</span>
<span class="lineNum">    3383 </span><span class="lineNoCov">          0 :     mi-&gt;initial_row_cnt = cnt;</span>
<a name="3384"><span class="lineNum">    3384 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3385 </span>            : 
<span class="lineNum">    3386 </span><span class="lineNoCov">          0 : static int size_cmp(const void *_md1, const void *_md2) {</span>
<span class="lineNum">    3387 </span><span class="lineNoCov">          0 :     const struct matrix_data *md1 = _md1, *md2 = _md2;</span>
<span class="lineNum">    3388 </span>            : 
<span class="lineNum">    3389 </span>            :     char buf1[20], buf2[20];
<span class="lineNum">    3390 </span>            :     const char *l1, *l2;
<span class="lineNum">    3391 </span>            : 
<span class="lineNum">    3392 </span><span class="lineNoCov">          0 :    l1 = langname(md1[0].u.md_ival,buf1);</span>
<span class="lineNum">    3393 </span><span class="lineNoCov">          0 :    l2 = langname(md2[0].u.md_ival,buf2);</span>
<span class="lineNum">    3394 </span><span class="lineNoCov">          0 : return( strcoll(l1,l2));</span>
<a name="3395"><span class="lineNum">    3395 </span>            : }</a>
<span class="lineNum">    3396 </span>            : 
<span class="lineNum">    3397 </span><span class="lineNoCov">          0 : static void SizeMatrixInit(struct matrixinit *mi,struct gfi_data *d) {</span>
<span class="lineNum">    3398 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    3399 </span>            :     struct matrix_data *md;
<span class="lineNum">    3400 </span>            :     struct otfname *on;
<span class="lineNum">    3401 </span>            :     int cnt;
<span class="lineNum">    3402 </span>            : 
<span class="lineNum">    3403 </span><span class="lineNoCov">          0 :     memset(mi,0,sizeof(*mi));</span>
<span class="lineNum">    3404 </span><span class="lineNoCov">          0 :     mi-&gt;col_cnt = 2;</span>
<span class="lineNum">    3405 </span><span class="lineNoCov">          0 :     mi-&gt;col_init = sizeci;</span>
<span class="lineNum">    3406 </span>            : 
<span class="lineNum">    3407 </span><span class="lineNoCov">          0 :     for ( cnt=0, on=sf-&gt;fontstyle_name; on!=NULL; on=on-&gt;next )</span>
<span class="lineNum">    3408 </span><span class="lineNoCov">          0 :         ++cnt;</span>
<span class="lineNum">    3409 </span><span class="lineNoCov">          0 :     md = calloc(2*(cnt+10),sizeof(struct matrix_data));</span>
<span class="lineNum">    3410 </span><span class="lineNoCov">          0 :     for ( cnt=0, on=sf-&gt;fontstyle_name; on!=NULL; on=on-&gt;next, ++cnt ) {</span>
<span class="lineNum">    3411 </span><span class="lineNoCov">          0 :         md[2*cnt  ].u.md_ival = on-&gt;lang;</span>
<span class="lineNum">    3412 </span><span class="lineNoCov">          0 :         md[2*cnt+1].u.md_str = copy(on-&gt;name);</span>
<span class="lineNum">    3413 </span>            :     }
<span class="lineNum">    3414 </span><span class="lineNoCov">          0 :     qsort( md, cnt, 2*sizeof(struct matrix_data), size_cmp );</span>
<span class="lineNum">    3415 </span><span class="lineNoCov">          0 :     mi-&gt;matrix_data = md;</span>
<span class="lineNum">    3416 </span><span class="lineNoCov">          0 :     mi-&gt;initial_row_cnt = cnt;</span>
<a name="3417"><span class="lineNum">    3417 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3418 </span>            : 
<span class="lineNum">    3419 </span><span class="lineNoCov">          0 : static int Gasp_Default(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    3420 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    3421 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    3422 </span><span class="lineNoCov">          0 :         GGadget *gg = GWidgetGetControl(GGadgetGetWindow(g),CID_Gasp);</span>
<span class="lineNum">    3423 </span>            :         int rows;
<span class="lineNum">    3424 </span>            :         struct matrix_data *gasp;
<span class="lineNum">    3425 </span>            : 
<span class="lineNum">    3426 </span><span class="lineNoCov">          0 :         if ( !SFHasInstructions(d-&gt;sf)) {</span>
<span class="lineNum">    3427 </span><span class="lineNoCov">          0 :             rows = 1;</span>
<span class="lineNum">    3428 </span><span class="lineNoCov">          0 :             gasp = calloc(rows*5,sizeof(struct matrix_data));</span>
<span class="lineNum">    3429 </span><span class="lineNoCov">          0 :             gasp[0].u.md_ival = 65535;</span>
<span class="lineNum">    3430 </span><span class="lineNoCov">          0 :             gasp[1].u.md_ival = 0;      /* no grid fit (we have no instructions, we can't grid fit) */</span>
<span class="lineNum">    3431 </span><span class="lineNoCov">          0 :             gasp[2].u.md_ival = 1;      /* do anti-alias */</span>
<span class="lineNum">    3432 </span><span class="lineNoCov">          0 :             gasp[3].u.md_ival = 0;      /* do symmetric smoothing */</span>
<span class="lineNum">    3433 </span><span class="lineNoCov">          0 :             gasp[4].u.md_ival = 0;      /* do no grid fit w/ sym smooth */</span>
<span class="lineNum">    3434 </span>            :         } else {
<span class="lineNum">    3435 </span><span class="lineNoCov">          0 :             rows = 3;</span>
<span class="lineNum">    3436 </span><span class="lineNoCov">          0 :             gasp = calloc(rows*5,sizeof(struct matrix_data));</span>
<span class="lineNum">    3437 </span><span class="lineNoCov">          0 :             gasp[0].u.md_ival = 8;     gasp[1].u.md_ival = 0; gasp[2].u.md_ival = 1;</span>
<span class="lineNum">    3438 </span><span class="lineNoCov">          0 :                     gasp[3].u.md_ival = 0; gasp[4].u.md_ival = 0;</span>
<span class="lineNum">    3439 </span><span class="lineNoCov">          0 :             gasp[5].u.md_ival = 16;    gasp[6].u.md_ival = 1; gasp[7].u.md_ival = 0;</span>
<span class="lineNum">    3440 </span><span class="lineNoCov">          0 :                     gasp[8].u.md_ival = 0; gasp[9].u.md_ival = 0;</span>
<span class="lineNum">    3441 </span><span class="lineNoCov">          0 :             gasp[10].u.md_ival = 65535; gasp[11].u.md_ival = 1; gasp[12].u.md_ival = 1;</span>
<span class="lineNum">    3442 </span><span class="lineNoCov">          0 :                     gasp[13].u.md_ival = 0; gasp[14].u.md_ival = 0;</span>
<span class="lineNum">    3443 </span>            :         }
<span class="lineNum">    3444 </span><span class="lineNoCov">          0 :         GMatrixEditSet(gg,gasp,rows,false);</span>
<span class="lineNum">    3445 </span>            :     }
<span class="lineNum">    3446 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="3447"><span class="lineNum">    3447 </span>            : }</a>
<span class="lineNum">    3448 </span>            : 
<span class="lineNum">    3449 </span><span class="lineNoCov">          0 : static int Gasp_CanDelete(GGadget *g,int row) {</span>
<span class="lineNum">    3450 </span>            :     int rows;
<span class="lineNum">    3451 </span><span class="lineNoCov">          0 :     struct matrix_data *gasp = GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    3452 </span><span class="lineNoCov">          0 :     if ( gasp==NULL )</span>
<span class="lineNum">    3453 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    3454 </span>            : 
<span class="lineNum">    3455 </span>            :     /* Only allow them to delete the sentinal entry if that would give us an */
<span class="lineNum">    3456 </span>            :     /* empty gasp table */
<span class="lineNum">    3457 </span><span class="lineNoCov">          0 : return( gasp[5*row].u.md_ival!=0xffff || rows==1 );</span>
<a name="3458"><span class="lineNum">    3458 </span>            : }</a>
<span class="lineNum">    3459 </span>            : 
<span class="lineNum">    3460 </span><span class="lineNoCov">          0 : static int gasp_comp(const void *_md1, const void *_md2) {</span>
<span class="lineNum">    3461 </span><span class="lineNoCov">          0 :     const struct matrix_data *md1 = _md1, *md2 = _md2;</span>
<span class="lineNum">    3462 </span><span class="lineNoCov">          0 : return( md1-&gt;u.md_ival - md2-&gt;u.md_ival );</span>
<a name="3463"><span class="lineNum">    3463 </span>            : }</a>
<span class="lineNum">    3464 </span>            : 
<span class="lineNum">    3465 </span><span class="lineNoCov">          0 : static void Gasp_FinishEdit(GGadget *g,int row,int col,int wasnew) {</span>
<span class="lineNum">    3466 </span>            :     int rows;
<span class="lineNum">    3467 </span><span class="lineNoCov">          0 :     struct matrix_data *gasp = GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    3468 </span>            : 
<span class="lineNum">    3469 </span><span class="lineNoCov">          0 :     if ( col==0 ) {</span>
<span class="lineNum">    3470 </span><span class="lineNoCov">          0 :         qsort(gasp,rows,5*sizeof(struct matrix_data),gasp_comp);</span>
<span class="lineNum">    3471 </span><span class="lineNoCov">          0 :         GGadgetRedraw(g);</span>
<span class="lineNum">    3472 </span>            :     }
<a name="3473"><span class="lineNum">    3473 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3474 </span>            : 
<span class="lineNum">    3475 </span><span class="lineNoCov">          0 : static void GaspMatrixInit(struct matrixinit *mi,struct gfi_data *d) {</span>
<span class="lineNum">    3476 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    3477 </span>            :     int i;
<span class="lineNum">    3478 </span>            :     struct matrix_data *md;
<span class="lineNum">    3479 </span>            : 
<span class="lineNum">    3480 </span><span class="lineNoCov">          0 :     memset(mi,0,sizeof(*mi));</span>
<span class="lineNum">    3481 </span><span class="lineNoCov">          0 :     mi-&gt;col_cnt = 5;</span>
<span class="lineNum">    3482 </span><span class="lineNoCov">          0 :     mi-&gt;col_init = gaspci;</span>
<span class="lineNum">    3483 </span>            : 
<span class="lineNum">    3484 </span><span class="lineNoCov">          0 :     if ( sf-&gt;gasp_cnt==0 ) {</span>
<span class="lineNum">    3485 </span><span class="lineNoCov">          0 :         md = calloc(5,sizeof(struct matrix_data));</span>
<span class="lineNum">    3486 </span><span class="lineNoCov">          0 :         mi-&gt;initial_row_cnt = 0;</span>
<span class="lineNum">    3487 </span>            :     } else {
<span class="lineNum">    3488 </span><span class="lineNoCov">          0 :         md = calloc(5*sf-&gt;gasp_cnt,sizeof(struct matrix_data));</span>
<span class="lineNum">    3489 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;sf-&gt;gasp_cnt; ++i ) {</span>
<span class="lineNum">    3490 </span><span class="lineNoCov">          0 :             md[5*i  ].u.md_ival = sf-&gt;gasp[i].ppem;</span>
<span class="lineNum">    3491 </span><span class="lineNoCov">          0 :             md[5*i+1].u.md_ival = (sf-&gt;gasp[i].flags&amp;1)?1:0;</span>
<span class="lineNum">    3492 </span><span class="lineNoCov">          0 :             md[5*i+2].u.md_ival = (sf-&gt;gasp[i].flags&amp;2)?1:0;</span>
<span class="lineNum">    3493 </span><span class="lineNoCov">          0 :             md[5*i+3].u.md_ival = (sf-&gt;gasp[i].flags&amp;8)?1:0;</span>
<span class="lineNum">    3494 </span><span class="lineNoCov">          0 :             md[5*i+4].u.md_ival = (sf-&gt;gasp[i].flags&amp;4)?1:0;</span>
<span class="lineNum">    3495 </span>            :         }
<span class="lineNum">    3496 </span><span class="lineNoCov">          0 :         mi-&gt;initial_row_cnt = sf-&gt;gasp_cnt;</span>
<span class="lineNum">    3497 </span>            :     }
<span class="lineNum">    3498 </span><span class="lineNoCov">          0 :     mi-&gt;matrix_data = md;</span>
<span class="lineNum">    3499 </span>            : 
<span class="lineNum">    3500 </span><span class="lineNoCov">          0 :     mi-&gt;finishedit = Gasp_FinishEdit;</span>
<span class="lineNum">    3501 </span><span class="lineNoCov">          0 :     mi-&gt;candelete = Gasp_CanDelete;</span>
<span class="lineNum">    3502 </span><span class="lineNoCov">          0 :     mi-&gt;handle_key = TN_PassChar;</span>
<a name="3503"><span class="lineNum">    3503 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3504 </span>            : 
<span class="lineNum">    3505 </span><span class="lineNoCov">          0 : static int GFI_GaspVersion(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    3506 </span><span class="lineNoCov">          0 :     if ( e-&gt;u.control.subtype == et_listselected ) {</span>
<span class="lineNum">    3507 </span><span class="lineNoCov">          0 :         int version = GGadgetGetFirstListSelectedItem(g);</span>
<span class="lineNum">    3508 </span><span class="lineNoCov">          0 :         GGadget *gasp = GWidgetGetControl(GGadgetGetWindow(g),CID_Gasp);</span>
<span class="lineNum">    3509 </span><span class="lineNoCov">          0 :         if ( version == 0 ) {</span>
<span class="lineNum">    3510 </span><span class="lineNoCov">          0 :             GMatrixEditShowColumn(gasp,3,false);</span>
<span class="lineNum">    3511 </span><span class="lineNoCov">          0 :             GMatrixEditShowColumn(gasp,4,false);</span>
<span class="lineNum">    3512 </span>            :         } else {
<span class="lineNum">    3513 </span><span class="lineNoCov">          0 :             GMatrixEditShowColumn(gasp,3,true);</span>
<span class="lineNum">    3514 </span><span class="lineNoCov">          0 :             GMatrixEditShowColumn(gasp,4,true);</span>
<span class="lineNum">    3515 </span>            :         }
<span class="lineNum">    3516 </span><span class="lineNoCov">          0 :         GGadgetRedraw(gasp);</span>
<span class="lineNum">    3517 </span>            :     }
<span class="lineNum">    3518 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="3519"><span class="lineNum">    3519 </span>            : }</a>
<span class="lineNum">    3520 </span>            : 
<span class="lineNum">    3521 </span><span class="lineNoCov">          0 : static void Layers_BackgroundEnable(GGadget *g,GMenuItem *mi, int r, int c) {</span>
<span class="lineNum">    3522 </span><span class="lineNoCov">          0 :     int disable = r&lt;=ly_fore;</span>
<span class="lineNum">    3523 </span><span class="lineNoCov">          0 :     mi[0].ti.disabled = disable;</span>
<span class="lineNum">    3524 </span><span class="lineNoCov">          0 :     mi[1].ti.disabled = disable;</span>
<a name="3525"><span class="lineNum">    3525 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3526 </span>            : 
<span class="lineNum">    3527 </span><span class="lineNoCov">          0 : static int Layers_CanDelete(GGadget *g,int row) {</span>
<span class="lineNum">    3528 </span><span class="lineNoCov">          0 : return( row&gt;ly_fore );</span>
<a name="3529"><span class="lineNum">    3529 </span>            : }</a>
<span class="lineNum">    3530 </span>            : 
<span class="lineNum">    3531 </span><span class="lineNoCov">          0 : static void Layers_InitRow(GGadget *g,int row) {</span>
<span class="lineNum">    3532 </span><span class="lineNoCov">          0 :     int rows, cols = GMatrixEditGetColCnt(g);</span>
<span class="lineNum">    3533 </span><span class="lineNoCov">          0 :     struct matrix_data *layers = GMatrixEditGet(g, &amp;rows);</span>
<span class="lineNum">    3534 </span><span class="lineNoCov">          0 :     int isquadratic = GGadgetIsChecked(GWidgetGetControl(GGadgetGetWindow(g),CID_IsOrder2));</span>
<span class="lineNum">    3535 </span>            : 
<span class="lineNum">    3536 </span><span class="lineNoCov">          0 :     layers[row*cols+1].u.md_ival = isquadratic;</span>
<a name="3537"><span class="lineNum">    3537 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3538 </span>            : 
<span class="lineNum">    3539 </span><span class="lineNoCov">          0 : static void LayersMatrixInit(struct matrixinit *mi,struct gfi_data *d) {</span>
<span class="lineNum">    3540 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    3541 </span>            :     int i,j;
<span class="lineNum">    3542 </span>            :     struct matrix_data *md;
<span class="lineNum">    3543 </span>            : 
<span class="lineNum">    3544 </span><span class="lineNoCov">          0 :     memset(mi,0,sizeof(*mi));</span>
<span class="lineNum">    3545 </span><span class="lineNoCov">          0 :     mi-&gt;col_cnt = 4;</span>
<span class="lineNum">    3546 </span><span class="lineNoCov">          0 :     mi-&gt;col_init = layersci;</span>
<span class="lineNum">    3547 </span>            : 
<span class="lineNum">    3548 </span><span class="lineNoCov">          0 :     md = calloc(4*(sf-&gt;layer_cnt+1),sizeof(struct matrix_data));</span>
<span class="lineNum">    3549 </span><span class="lineNoCov">          0 :     for ( i=j=0; i&lt;sf-&gt;layer_cnt; ++i ) {</span>
<span class="lineNum">    3550 </span><span class="lineNoCov">          0 :         md[4*j  ].u.md_str  = copy(sf-&gt;layers[i].name);</span>
<span class="lineNum">    3551 </span><span class="lineNoCov">          0 :         md[4*j+1].u.md_ival = sf-&gt;layers[i].order2;</span>
<span class="lineNum">    3552 </span><span class="lineNoCov">          0 :         md[4*j+2].u.md_ival = sf-&gt;layers[i].background;</span>
<span class="lineNum">    3553 </span><span class="lineNoCov">          0 :         md[4*j+3].u.md_ival = i+1;</span>
<span class="lineNum">    3554 </span><span class="lineNoCov">          0 :         ++j;</span>
<span class="lineNum">    3555 </span>            :     }
<span class="lineNum">    3556 </span><span class="lineNoCov">          0 :     mi-&gt;initial_row_cnt = sf-&gt;layer_cnt;</span>
<span class="lineNum">    3557 </span><span class="lineNoCov">          0 :     mi-&gt;matrix_data = md;</span>
<span class="lineNum">    3558 </span>            : 
<span class="lineNum">    3559 </span><span class="lineNoCov">          0 :     mi-&gt;initrow   = Layers_InitRow;</span>
<span class="lineNum">    3560 </span><span class="lineNoCov">          0 :     mi-&gt;candelete = Layers_CanDelete;</span>
<a name="3561"><span class="lineNum">    3561 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3562 </span>            : 
<span class="lineNum">    3563 </span><span class="lineNoCov">          0 : static int GFI_Type3Change(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    3564 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    3565 </span><span class="lineNoCov">          0 :         GWindow gw = GGadgetGetWindow(g);</span>
<span class="lineNum">    3566 </span><span class="lineNoCov">          0 :         int type3 = GGadgetIsChecked(GWidgetGetControl(gw,CID_IsMultiLayer));</span>
<span class="lineNum">    3567 </span><span class="lineNoCov">          0 :         int mixed = GGadgetIsChecked(GWidgetGetControl(gw,CID_IsMixed));</span>
<span class="lineNum">    3568 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gw,CID_IsMixed), !type3);</span>
<span class="lineNum">    3569 </span><span class="lineNoCov">          0 :         if ( type3 )</span>
<span class="lineNum">    3570 </span><span class="lineNoCov">          0 :             GGadgetSetChecked(GWidgetGetControl(gw,CID_IsMixed), false );</span>
<span class="lineNum">    3571 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gw,CID_IsOrder2), !type3);</span>
<span class="lineNum">    3572 </span><span class="lineNoCov">          0 :         if ( type3 )</span>
<span class="lineNum">    3573 </span><span class="lineNoCov">          0 :             GGadgetSetChecked(GWidgetGetControl(gw,CID_IsOrder2), false );</span>
<span class="lineNum">    3574 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gw,CID_IsOrder3), !type3);</span>
<span class="lineNum">    3575 </span><span class="lineNoCov">          0 :         if ( type3 )</span>
<span class="lineNum">    3576 </span><span class="lineNoCov">          0 :             GGadgetSetChecked(GWidgetGetControl(gw,CID_IsOrder3), true );</span>
<span class="lineNum">    3577 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gw,CID_GuideOrder2), !type3 &amp;&amp; mixed);</span>
<span class="lineNum">    3578 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gw,CID_Backgrounds), !type3);</span>
<span class="lineNum">    3579 </span>            :     }
<span class="lineNum">    3580 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="3581"><span class="lineNum">    3581 </span>            : }</a>
<span class="lineNum">    3582 </span>            : 
<span class="lineNum">    3583 </span><span class="lineNoCov">          0 : static int GFI_OrderChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    3584 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    3585 </span><span class="lineNoCov">          0 :         GWindow gw = GGadgetGetWindow(g);</span>
<span class="lineNum">    3586 </span><span class="lineNoCov">          0 :         GGadget *backs = GWidgetGetControl(gw,CID_Backgrounds);</span>
<span class="lineNum">    3587 </span><span class="lineNoCov">          0 :         int mixed = GGadgetIsChecked(GWidgetGetControl(gw,CID_IsMixed));</span>
<span class="lineNum">    3588 </span><span class="lineNoCov">          0 :         int cubic = GGadgetIsChecked(GWidgetGetControl(gw,CID_IsOrder3));</span>
<span class="lineNum">    3589 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gw,CID_IsMultiLayer), cubic);</span>
<span class="lineNum">    3590 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gw,CID_GuideOrder2), mixed);</span>
<span class="lineNum">    3591 </span><span class="lineNoCov">          0 :         if ( !mixed ) {</span>
<span class="lineNum">    3592 </span><span class="lineNoCov">          0 :             GGadgetSetChecked(GWidgetGetControl(gw,CID_GuideOrder2), !cubic );</span>
<span class="lineNum">    3593 </span>            :         }
<span class="lineNum">    3594 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(backs, true);</span>
<span class="lineNum">    3595 </span><span class="lineNoCov">          0 :         GMatrixEditEnableColumn(backs, 1, mixed);</span>
<span class="lineNum">    3596 </span><span class="lineNoCov">          0 :         if ( !mixed ) {</span>
<span class="lineNum">    3597 </span><span class="lineNoCov">          0 :             int col = GMatrixEditGetColCnt(backs), rows, i;</span>
<span class="lineNum">    3598 </span><span class="lineNoCov">          0 :             struct matrix_data *md = GMatrixEditGet(backs, &amp;rows);</span>
<span class="lineNum">    3599 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;rows; ++i )</span>
<span class="lineNum">    3600 </span><span class="lineNoCov">          0 :                 md[i*col+1].u.md_ival = !cubic;</span>
<span class="lineNum">    3601 </span>            :         }
<span class="lineNum">    3602 </span><span class="lineNoCov">          0 :         GGadgetRedraw(backs);</span>
<span class="lineNum">    3603 </span>            :     }
<span class="lineNum">    3604 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="3605"><span class="lineNum">    3605 </span>            : }</a>
<span class="lineNum">    3606 </span>            : 
<span class="lineNum">    3607 </span><span class="lineNoCov">          0 : static void BDFsSetAsDs(SplineFont *sf) {</span>
<span class="lineNum">    3608 </span>            :     BDFFont *bdf;
<span class="lineNum">    3609 </span>            :     real scale;
<span class="lineNum">    3610 </span>            : 
<span class="lineNum">    3611 </span><span class="lineNoCov">          0 :     for ( bdf=sf-&gt;bitmaps; bdf!=NULL; bdf=bdf-&gt;next ) {</span>
<span class="lineNum">    3612 </span><span class="lineNoCov">          0 :         scale = bdf-&gt;pixelsize / (real) (sf-&gt;ascent+sf-&gt;descent);</span>
<span class="lineNum">    3613 </span><span class="lineNoCov">          0 :         bdf-&gt;ascent = rint(sf-&gt;ascent*scale);</span>
<span class="lineNum">    3614 </span><span class="lineNoCov">          0 :         bdf-&gt;descent = bdf-&gt;pixelsize-bdf-&gt;ascent;</span>
<span class="lineNum">    3615 </span>            :     }
<span class="lineNum">    3616 </span><span class="lineNoCov">          0 : }</span>
<span class="lineNum">    3617 </span>            : 
<span class="lineNum">    3618 </span>            : static char *texparams[] = { N_(&quot;Slant:&quot;), N_(&quot;Space:&quot;), N_(&quot;Stretch:&quot;),
<span class="lineNum">    3619 </span>            :         N_(&quot;Shrink:&quot;), N_(&quot;XHeight:&quot;), N_(&quot;Quad:&quot;),
<span class="lineNum">    3620 </span>            : /* GT: Extra Space, see below for a full comment */
<span class="lineNum">    3621 </span>            :         N_(&quot;Extra Sp:&quot;), NULL };
<span class="lineNum">    3622 </span>            : static char *texpopups[] = { N_(&quot;In an italic font the horizontal change per unit vertical change&quot;),
<span class="lineNum">    3623 </span>            :     N_(&quot;The amount of space between words when using this font&quot;),
<span class="lineNum">    3624 </span>            :     N_(&quot;The amount of stretchable space between words when using this font&quot;),
<span class="lineNum">    3625 </span>            :     N_(&quot;The amount the space between words may shrink when using this font&quot;),
<span class="lineNum">    3626 </span>            :     N_(&quot;The height of the lower case letters with flat tops&quot;),
<span class="lineNum">    3627 </span>            :     N_(&quot;The width of one em&quot;),
<span class="lineNum">    3628 </span>            :     N_(&quot;Either:\nThe amount of extra space to be added after a sentence\nOr the space to be used within math formulae&quot;),
<a name="3629"><span class="lineNum">    3629 </span>            :     NULL};</a>
<span class="lineNum">    3630 </span>            : 
<span class="lineNum">    3631 </span><span class="lineNoCov">          0 : static int ParseTeX(struct gfi_data *d) {</span>
<span class="lineNum">    3632 </span><span class="lineNoCov">          0 :     int i, err=false;</span>
<span class="lineNum">    3633 </span><span class="lineNoCov">          0 :     double em = (d-&gt;sf-&gt;ascent+d-&gt;sf-&gt;descent), val;</span>
<span class="lineNum">    3634 </span>            : 
<span class="lineNum">    3635 </span><span class="lineNoCov">          0 :     for ( i=0; texparams[i]!=0 ; ++i ) {</span>
<span class="lineNum">    3636 </span><span class="lineNoCov">          0 :         val = GetReal8(d-&gt;gw,CID_TeX+i,texparams[i],&amp;err);</span>
<span class="lineNum">    3637 </span><span class="lineNoCov">          0 :         d-&gt;texdata.params[i] = rint( val/em * (1&lt;&lt;20) );</span>
<span class="lineNum">    3638 </span>            :     }
<span class="lineNum">    3639 </span><span class="lineNoCov">          0 :     if ( GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_TeXText)) )</span>
<span class="lineNum">    3640 </span><span class="lineNoCov">          0 :         d-&gt;texdata.type = tex_text;</span>
<span class="lineNum">    3641 </span><span class="lineNoCov">          0 :     else if ( GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_TeXMathSym)) )</span>
<span class="lineNum">    3642 </span><span class="lineNoCov">          0 :         d-&gt;texdata.type = tex_math;</span>
<span class="lineNum">    3643 </span>            :     else
<span class="lineNum">    3644 </span><span class="lineNoCov">          0 :         d-&gt;texdata.type = tex_mathext;</span>
<span class="lineNum">    3645 </span><span class="lineNoCov">          0 : return( !err );</span>
<a name="3646"><span class="lineNum">    3646 </span>            : }</a>
<span class="lineNum">    3647 </span>            : 
<span class="lineNum">    3648 </span><span class="lineNoCov">          0 : static int ttfmultuniqueids(SplineFont *sf,struct gfi_data *d) {</span>
<span class="lineNum">    3649 </span>            :     struct ttflangname *tln;
<span class="lineNum">    3650 </span><span class="lineNoCov">          0 :     int found = false;</span>
<span class="lineNum">    3651 </span>            :     int i;
<span class="lineNum">    3652 </span>            : 
<span class="lineNum">    3653 </span><span class="lineNoCov">          0 :     if ( d-&gt;names_set ) {</span>
<span class="lineNum">    3654 </span><span class="lineNoCov">          0 :         GGadget *edit = GWidgetGetControl(d-&gt;gw,CID_TNames);</span>
<span class="lineNum">    3655 </span>            :         int rows;
<span class="lineNum">    3656 </span><span class="lineNoCov">          0 :         struct matrix_data *strings = GMatrixEditGet(edit, &amp;rows);</span>
<span class="lineNum">    3657 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;rows; ++i )</span>
<span class="lineNum">    3658 </span><span class="lineNoCov">          0 :             if ( strings[3*i+1].u.md_ival==ttf_uniqueid ) {</span>
<span class="lineNum">    3659 </span><span class="lineNoCov">          0 :                 if ( found )</span>
<span class="lineNum">    3660 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    3661 </span><span class="lineNoCov">          0 :                 found = true;</span>
<span class="lineNum">    3662 </span>            :             }
<span class="lineNum">    3663 </span>            :     } else {
<span class="lineNum">    3664 </span><span class="lineNoCov">          0 :         for ( tln = sf-&gt;names; tln!=NULL; tln=tln-&gt;next )</span>
<span class="lineNum">    3665 </span><span class="lineNoCov">          0 :             if ( tln-&gt;names[ttf_uniqueid]!=NULL ) {</span>
<span class="lineNum">    3666 </span><span class="lineNoCov">          0 :                 if ( found )</span>
<span class="lineNum">    3667 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    3668 </span><span class="lineNoCov">          0 :                 found = true;</span>
<span class="lineNum">    3669 </span>            :             }
<span class="lineNum">    3670 </span>            :     }
<span class="lineNum">    3671 </span><span class="lineNoCov">          0 : return( false );</span>
<a name="3672"><span class="lineNum">    3672 </span>            : }</a>
<span class="lineNum">    3673 </span>            : 
<span class="lineNum">    3674 </span><span class="lineNoCov">          0 : static int ttfuniqueidmatch(SplineFont *sf,struct gfi_data *d) {</span>
<span class="lineNum">    3675 </span>            :     struct ttflangname *tln;
<span class="lineNum">    3676 </span>            :     int i;
<span class="lineNum">    3677 </span>            : 
<span class="lineNum">    3678 </span><span class="lineNoCov">          0 :     if ( sf-&gt;names==NULL )</span>
<span class="lineNum">    3679 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    3680 </span>            : 
<span class="lineNum">    3681 </span><span class="lineNoCov">          0 :     if ( !d-&gt;names_set ) {</span>
<span class="lineNum">    3682 </span><span class="lineNoCov">          0 :         for ( tln = sf-&gt;names; tln!=NULL; tln=tln-&gt;next )</span>
<span class="lineNum">    3683 </span><span class="lineNoCov">          0 :             if ( tln-&gt;names[ttf_uniqueid]!=NULL )</span>
<span class="lineNum">    3684 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    3685 </span>            :     } else {
<span class="lineNum">    3686 </span><span class="lineNoCov">          0 :         GGadget *edit = GWidgetGetControl(d-&gt;gw,CID_TNames);</span>
<span class="lineNum">    3687 </span>            :         int rows;
<span class="lineNum">    3688 </span><span class="lineNoCov">          0 :         struct matrix_data *strings = GMatrixEditGet(edit, &amp;rows);</span>
<span class="lineNum">    3689 </span>            : 
<span class="lineNum">    3690 </span><span class="lineNoCov">          0 :         for ( tln = sf-&gt;names; tln!=NULL; tln=tln-&gt;next ) {</span>
<span class="lineNum">    3691 </span><span class="lineNoCov">          0 :             if ( tln-&gt;names[ttf_uniqueid]==NULL )</span>
<span class="lineNum">    3692 </span><span class="lineNoCov">          0 :         continue;               /* Not set, so if it has been given a new value */</span>
<span class="lineNum">    3693 </span>            :                                 /*  that's a change, and if it hasn't that's ok */
<span class="lineNum">    3694 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;rows; ++i )</span>
<span class="lineNum">    3695 </span><span class="lineNoCov">          0 :                 if ( strings[3*i+1].u.md_ival==ttf_uniqueid &amp;&amp; strings[3*i].u.md_ival==tln-&gt;lang )</span>
<span class="lineNum">    3696 </span><span class="lineNoCov">          0 :             break;</span>
<span class="lineNum">    3697 </span><span class="lineNoCov">          0 :             if ( i==rows )</span>
<span class="lineNum">    3698 </span><span class="lineNoCov">          0 :         continue;               /* removed. That's a change */</span>
<span class="lineNum">    3699 </span><span class="lineNoCov">          0 :             if ( strcmp(tln-&gt;names[ttf_uniqueid],strings[3*i+2].u.md_str )==0 )</span>
<span class="lineNum">    3700 </span><span class="lineNoCov">          0 : return( true );         /* name unchanged */</span>
<span class="lineNum">    3701 </span>            :         }
<span class="lineNum">    3702 </span>            :     }
<span class="lineNum">    3703 </span><span class="lineNoCov">          0 : return( false );</span>
<a name="3704"><span class="lineNum">    3704 </span>            : }</a>
<span class="lineNum">    3705 </span>            : 
<span class="lineNum">    3706 </span><span class="lineNoCov">          0 : static void ttfuniqueidfixup(SplineFont *sf,struct gfi_data *d) {</span>
<span class="lineNum">    3707 </span>            :     struct ttflangname *tln;
<span class="lineNum">    3708 </span><span class="lineNoCov">          0 :     char *changed = NULL;</span>
<span class="lineNum">    3709 </span>            :     int i;
<span class="lineNum">    3710 </span>            : 
<span class="lineNum">    3711 </span><span class="lineNoCov">          0 :     if ( sf-&gt;names==NULL )</span>
<span class="lineNum">    3712 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    3713 </span>            : 
<span class="lineNum">    3714 </span><span class="lineNoCov">          0 :     if ( !d-&gt;names_set ) {</span>
<span class="lineNum">    3715 </span><span class="lineNoCov">          0 :         for ( tln = sf-&gt;names; tln!=NULL; tln=tln-&gt;next ) {</span>
<span class="lineNum">    3716 </span><span class="lineNoCov">          0 :             free( tln-&gt;names[ttf_uniqueid]);</span>
<span class="lineNum">    3717 </span><span class="lineNoCov">          0 :             tln-&gt;names[ttf_uniqueid] = NULL;</span>
<span class="lineNum">    3718 </span>            :         }
<span class="lineNum">    3719 </span>            :     } else {
<span class="lineNum">    3720 </span><span class="lineNoCov">          0 :         GGadget *edit = GWidgetGetControl(d-&gt;gw,CID_TNames);</span>
<span class="lineNum">    3721 </span>            :         int rows;
<span class="lineNum">    3722 </span><span class="lineNoCov">          0 :         struct matrix_data *strings = GMatrixEditGet(edit, &amp;rows);</span>
<span class="lineNum">    3723 </span>            : 
<span class="lineNum">    3724 </span>            :         /* see if any instances of the name have changed */
<span class="lineNum">    3725 </span><span class="lineNoCov">          0 :         for ( tln = sf-&gt;names; tln!=NULL; tln=tln-&gt;next ) {</span>
<span class="lineNum">    3726 </span><span class="lineNoCov">          0 :             if ( tln-&gt;names[ttf_uniqueid]==NULL )</span>
<span class="lineNum">    3727 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    3728 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;rows; ++i )</span>
<span class="lineNum">    3729 </span><span class="lineNoCov">          0 :                 if ( strings[3*i+1].u.md_ival==ttf_uniqueid &amp;&amp; strings[3*i].u.md_ival==tln-&gt;lang )</span>
<span class="lineNum">    3730 </span><span class="lineNoCov">          0 :             break;</span>
<span class="lineNum">    3731 </span><span class="lineNoCov">          0 :             if ( i==rows )</span>
<span class="lineNum">    3732 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    3733 </span><span class="lineNoCov">          0 :             if ( strcmp(tln-&gt;names[ttf_uniqueid],strings[3*i+2].u.md_str )!=0 )</span>
<span class="lineNum">    3734 </span><span class="lineNoCov">          0 :                 changed = copy(strings[3*i+2].u.md_str );</span>
<span class="lineNum">    3735 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    3736 </span>            :         }
<span class="lineNum">    3737 </span>            :         /* All unique ids should be the same, if any changed set the unchanged */
<span class="lineNum">    3738 </span>            :         /*  ones to the one that did (or the first of many if several changed) */
<span class="lineNum">    3739 </span><span class="lineNoCov">          0 :         for ( tln = sf-&gt;names; tln!=NULL; tln=tln-&gt;next ) {</span>
<span class="lineNum">    3740 </span><span class="lineNoCov">          0 :             if ( tln-&gt;names[ttf_uniqueid]==NULL )</span>
<span class="lineNum">    3741 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    3742 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;rows; ++i )</span>
<span class="lineNum">    3743 </span><span class="lineNoCov">          0 :                 if ( strings[3*i+1].u.md_ival==ttf_uniqueid &amp;&amp; strings[3*i].u.md_ival==tln-&gt;lang )</span>
<span class="lineNum">    3744 </span><span class="lineNoCov">          0 :             break;</span>
<span class="lineNum">    3745 </span><span class="lineNoCov">          0 :             if ( i==rows )</span>
<span class="lineNum">    3746 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    3747 </span><span class="lineNoCov">          0 :             if ( strcmp(tln-&gt;names[ttf_uniqueid],strings[3*i+2].u.md_str)==0 ) {</span>
<span class="lineNum">    3748 </span><span class="lineNoCov">          0 :                 free(strings[3*i+2].u.md_str);</span>
<span class="lineNum">    3749 </span><span class="lineNoCov">          0 :                 strings[3*i+2].u.md_str = changed!=NULL</span>
<span class="lineNum">    3750 </span>            :                         ? copy( changed )
<span class="lineNum">    3751 </span><span class="lineNoCov">          0 :                         : NULL;</span>
<span class="lineNum">    3752 </span>            :             }
<span class="lineNum">    3753 </span>            :         }
<span class="lineNum">    3754 </span>            :     }
<a name="3755"><span class="lineNum">    3755 </span>            : }</a>
<span class="lineNum">    3756 </span>            : 
<span class="lineNum">    3757 </span><span class="lineNoCov">          0 : static void StoreTTFNames(struct gfi_data *d) {</span>
<span class="lineNum">    3758 </span>            :     struct ttflangname *tln;
<span class="lineNum">    3759 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    3760 </span>            :     int i;
<span class="lineNum">    3761 </span><span class="lineNoCov">          0 :     GGadget *edit = GWidgetGetControl(d-&gt;gw,CID_TNames);</span>
<span class="lineNum">    3762 </span>            :     int rows;
<span class="lineNum">    3763 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(edit, &amp;rows);</span>
<span class="lineNum">    3764 </span>            : 
<span class="lineNum">    3765 </span><span class="lineNoCov">          0 :     TTFLangNamesFree(sf-&gt;names); sf-&gt;names = NULL;</span>
<span class="lineNum">    3766 </span>            : 
<span class="lineNum">    3767 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;rows; ++i ) {</span>
<span class="lineNum">    3768 </span><span class="lineNoCov">          0 :         for ( tln=sf-&gt;names; tln!=NULL &amp;&amp; tln-&gt;lang!=strings[3*i].u.md_ival; tln=tln-&gt;next );</span>
<span class="lineNum">    3769 </span><span class="lineNoCov">          0 :         if ( tln==NULL ) {</span>
<span class="lineNum">    3770 </span><span class="lineNoCov">          0 :             tln = chunkalloc(sizeof(struct ttflangname));</span>
<span class="lineNum">    3771 </span><span class="lineNoCov">          0 :             tln-&gt;lang = strings[3*i].u.md_ival;</span>
<span class="lineNum">    3772 </span><span class="lineNoCov">          0 :             tln-&gt;next = sf-&gt;names;</span>
<span class="lineNum">    3773 </span><span class="lineNoCov">          0 :             sf-&gt;names = tln;</span>
<span class="lineNum">    3774 </span>            :         }
<span class="lineNum">    3775 </span><span class="lineNoCov">          0 :         tln-&gt;names[strings[3*i+1].u.md_ival] = copy(strings[3*i+2].u.md_str );</span>
<span class="lineNum">    3776 </span>            :     }
<span class="lineNum">    3777 </span>            : 
<span class="lineNum">    3778 </span><span class="lineNoCov">          0 :     TTF_PSDupsDefault(sf);</span>
<a name="3779"><span class="lineNum">    3779 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3780 </span>            : 
<span class="lineNum">    3781 </span><span class="lineNoCov">          0 : static int SSNameValidate(struct gfi_data *d) {</span>
<span class="lineNum">    3782 </span><span class="lineNoCov">          0 :     GGadget *edit = GWidgetGetControl(d-&gt;gw,CID_SSNames);</span>
<span class="lineNum">    3783 </span>            :     int rows;
<span class="lineNum">    3784 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(edit, &amp;rows);</span>
<span class="lineNum">    3785 </span>            :     int i, j, k;
<span class="lineNum">    3786 </span>            : 
<span class="lineNum">    3787 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;rows; ++i ) {</span>
<span class="lineNum">    3788 </span><span class="lineNoCov">          0 :         if ( strings[3*i+2].u.md_str == NULL )</span>
<span class="lineNum">    3789 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    3790 </span><span class="lineNoCov">          0 :         for ( j=i+1; j&lt;rows; ++j ) {</span>
<span class="lineNum">    3791 </span><span class="lineNoCov">          0 :             if ( strings[3*j+2].u.md_str == NULL )</span>
<span class="lineNum">    3792 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    3793 </span><span class="lineNoCov">          0 :             if ( strings[3*i  ].u.md_ival == strings[3*j  ].u.md_ival &amp;&amp;</span>
<span class="lineNum">    3794 </span><span class="lineNoCov">          0 :                     strings[3*i+1].u.md_ival == strings[3*j+1].u.md_ival ) {</span>
<span class="lineNum">    3795 </span><span class="lineNoCov">          0 :                 uint32 tag = strings[3*i+1].u.md_ival;</span>
<span class="lineNum">    3796 </span><span class="lineNoCov">          0 :                 for ( k=0; mslanguages[k].text!=NULL &amp;&amp;</span>
<span class="lineNum">    3797 </span><span class="lineNoCov">          0 :                         ((intpt) mslanguages[k].userdata)!=strings[3*i].u.md_ival; ++k );</span>
<span class="lineNum">    3798 </span><span class="lineNoCov">          0 :                 if ( mslanguages[k].text==NULL ) k=0;</span>
<span class="lineNum">    3799 </span><span class="lineNoCov">          0 :                 ff_post_error(_(&quot;Duplicate StyleSet Name&quot;),_(&quot;The feature '%c%c%c%c' is named twice in language %s\n%.80s\n%.80s&quot;),</span>
<span class="lineNum">    3800 </span>            :                         tag&gt;&gt;24, tag&gt;&gt;16, tag&gt;&gt;8, tag,
<span class="lineNum">    3801 </span>            :                         mslanguages[k].text,
<span class="lineNum">    3802 </span><span class="lineNoCov">          0 :                         strings[3*i+2].u.md_str,</span>
<span class="lineNum">    3803 </span><span class="lineNoCov">          0 :                         strings[3*j+2].u.md_str</span>
<span class="lineNum">    3804 </span>            :                         );
<span class="lineNum">    3805 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    3806 </span>            :             }
<span class="lineNum">    3807 </span>            :         }
<span class="lineNum">    3808 </span>            :     }
<span class="lineNum">    3809 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="3810"><span class="lineNum">    3810 </span>            : }</a>
<span class="lineNum">    3811 </span>            : 
<span class="lineNum">    3812 </span><span class="lineNoCov">          0 : static void StoreSSNames(struct gfi_data *d) {</span>
<span class="lineNum">    3813 </span><span class="lineNoCov">          0 :     GGadget *edit = GWidgetGetControl(d-&gt;gw,CID_SSNames);</span>
<span class="lineNum">    3814 </span>            :     int rows;
<span class="lineNum">    3815 </span><span class="lineNoCov">          0 :     struct matrix_data *strings = GMatrixEditGet(edit, &amp;rows);</span>
<span class="lineNum">    3816 </span>            :     int i;
<span class="lineNum">    3817 </span>            :     uint32 tag, lang;
<span class="lineNum">    3818 </span>            :     struct otffeatname *fn;
<span class="lineNum">    3819 </span>            :     struct otfname *on;
<span class="lineNum">    3820 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    3821 </span>            : 
<span class="lineNum">    3822 </span><span class="lineNoCov">          0 :     OtfFeatNameListFree(sf-&gt;feat_names);</span>
<span class="lineNum">    3823 </span><span class="lineNoCov">          0 :     sf-&gt;feat_names = NULL;</span>
<span class="lineNum">    3824 </span>            : 
<span class="lineNum">    3825 </span><span class="lineNoCov">          0 :     qsort( strings, rows, 3*sizeof(struct matrix_data), ss_cmp );</span>
<span class="lineNum">    3826 </span><span class="lineNoCov">          0 :     for ( i=rows-1; i&gt;=0; --i ) {</span>
<span class="lineNum">    3827 </span><span class="lineNoCov">          0 :         if ( strings[3*i+2].u.md_str == NULL )</span>
<span class="lineNum">    3828 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    3829 </span><span class="lineNoCov">          0 :         tag = strings[3*i+1].u.md_ival;</span>
<span class="lineNum">    3830 </span><span class="lineNoCov">          0 :         lang = strings[3*i].u.md_ival;</span>
<span class="lineNum">    3831 </span><span class="lineNoCov">          0 :         for ( fn=sf-&gt;feat_names; fn!=NULL &amp;&amp; fn-&gt;tag!=tag; fn=fn-&gt;next );</span>
<span class="lineNum">    3832 </span><span class="lineNoCov">          0 :         if ( fn==NULL ) {</span>
<span class="lineNum">    3833 </span><span class="lineNoCov">          0 :             fn = chunkalloc(sizeof(*fn));</span>
<span class="lineNum">    3834 </span><span class="lineNoCov">          0 :             fn-&gt;tag = tag;</span>
<span class="lineNum">    3835 </span><span class="lineNoCov">          0 :             fn-&gt;next = sf-&gt;feat_names;</span>
<span class="lineNum">    3836 </span><span class="lineNoCov">          0 :             sf-&gt;feat_names = fn;</span>
<span class="lineNum">    3837 </span>            :         }
<span class="lineNum">    3838 </span><span class="lineNoCov">          0 :         on = chunkalloc(sizeof(*on));</span>
<span class="lineNum">    3839 </span><span class="lineNoCov">          0 :         on-&gt;next = fn-&gt;names;</span>
<span class="lineNum">    3840 </span><span class="lineNoCov">          0 :         fn-&gt;names = on;</span>
<span class="lineNum">    3841 </span><span class="lineNoCov">          0 :         on-&gt;lang = lang;</span>
<span class="lineNum">    3842 </span><span class="lineNoCov">          0 :         on-&gt;name = copy(strings[3*i+2].u.md_str );</span>
<span class="lineNum">    3843 </span>            :     }
<a name="3844"><span class="lineNum">    3844 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3845 </span>            : 
<span class="lineNum">    3846 </span><span class="lineNoCov">          0 : static void GFI_ApplyLookupChanges(struct gfi_data *gfi) {</span>
<span class="lineNum">    3847 </span>            :     int i,j, isgpos;
<span class="lineNum">    3848 </span>            :     OTLookup *last;
<span class="lineNum">    3849 </span><span class="lineNoCov">          0 :     SplineFont *sf = gfi-&gt;sf;</span>
<span class="lineNum">    3850 </span>            :     struct lookup_subtable *sublast;
<span class="lineNum">    3851 </span>            : 
<span class="lineNum">    3852 </span><span class="lineNoCov">          0 :     for ( isgpos=0; isgpos&lt;2; ++isgpos ) {</span>
<span class="lineNum">    3853 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    3854 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    3855 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    3856 </span><span class="lineNoCov">          0 :                 SFRemoveLookup(gfi-&gt;sf,lk-&gt;all[i].lookup,0);</span>
<span class="lineNum">    3857 </span><span class="lineNoCov">          0 :             else for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    3858 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    3859 </span><span class="lineNoCov">          0 :                     SFRemoveLookupSubTable(gfi-&gt;sf,lk-&gt;all[i].subtables[j].subtable,0);</span>
<span class="lineNum">    3860 </span>            :             }
<span class="lineNum">    3861 </span>            :         }
<span class="lineNum">    3862 </span><span class="lineNoCov">          0 :         last = NULL;</span>
<span class="lineNum">    3863 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    3864 </span><span class="lineNoCov">          0 :             if ( !lk-&gt;all[i].deleted ) {</span>
<span class="lineNum">    3865 </span><span class="lineNoCov">          0 :                 if ( last!=NULL )</span>
<span class="lineNum">    3866 </span><span class="lineNoCov">          0 :                     last-&gt;next = lk-&gt;all[i].lookup;</span>
<span class="lineNum">    3867 </span><span class="lineNoCov">          0 :                 else if ( isgpos )</span>
<span class="lineNum">    3868 </span><span class="lineNoCov">          0 :                     sf-&gt;gpos_lookups = lk-&gt;all[i].lookup;</span>
<span class="lineNum">    3869 </span>            :                 else
<span class="lineNum">    3870 </span><span class="lineNoCov">          0 :                     sf-&gt;gsub_lookups = lk-&gt;all[i].lookup;</span>
<span class="lineNum">    3871 </span><span class="lineNoCov">          0 :                 last = lk-&gt;all[i].lookup;</span>
<span class="lineNum">    3872 </span><span class="lineNoCov">          0 :                 sublast = NULL;</span>
<span class="lineNum">    3873 </span><span class="lineNoCov">          0 :                 for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    3874 </span><span class="lineNoCov">          0 :                     if ( !lk-&gt;all[i].subtables[j].deleted ) {</span>
<span class="lineNum">    3875 </span><span class="lineNoCov">          0 :                         if ( sublast!=NULL )</span>
<span class="lineNum">    3876 </span><span class="lineNoCov">          0 :                             sublast-&gt;next = lk-&gt;all[i].subtables[j].subtable;</span>
<span class="lineNum">    3877 </span>            :                         else
<span class="lineNum">    3878 </span><span class="lineNoCov">          0 :                             last-&gt;subtables = lk-&gt;all[i].subtables[j].subtable;</span>
<span class="lineNum">    3879 </span><span class="lineNoCov">          0 :                         sublast = lk-&gt;all[i].subtables[j].subtable;</span>
<span class="lineNum">    3880 </span><span class="lineNoCov">          0 :                         sublast-&gt;lookup = last;</span>
<span class="lineNum">    3881 </span>            :                     }
<span class="lineNum">    3882 </span>            :                 }
<span class="lineNum">    3883 </span><span class="lineNoCov">          0 :                 if ( sublast!=NULL )</span>
<span class="lineNum">    3884 </span><span class="lineNoCov">          0 :                     sublast-&gt;next = NULL;</span>
<span class="lineNum">    3885 </span>            :                 else
<span class="lineNum">    3886 </span><span class="lineNoCov">          0 :                     last-&gt;subtables = NULL;</span>
<span class="lineNum">    3887 </span>            :             }
<span class="lineNum">    3888 </span><span class="lineNoCov">          0 :             free(lk-&gt;all[i].subtables);</span>
<span class="lineNum">    3889 </span>            :         }
<span class="lineNum">    3890 </span><span class="lineNoCov">          0 :         if ( last!=NULL )</span>
<span class="lineNum">    3891 </span><span class="lineNoCov">          0 :             last-&gt;next = NULL;</span>
<span class="lineNum">    3892 </span><span class="lineNoCov">          0 :         else if ( isgpos )</span>
<span class="lineNum">    3893 </span><span class="lineNoCov">          0 :             sf-&gt;gpos_lookups = NULL;</span>
<span class="lineNum">    3894 </span>            :         else
<span class="lineNum">    3895 </span><span class="lineNoCov">          0 :             sf-&gt;gsub_lookups = NULL;</span>
<span class="lineNum">    3896 </span><span class="lineNoCov">          0 :         free(lk-&gt;all);</span>
<span class="lineNum">    3897 </span>            :     }
<a name="3898"><span class="lineNum">    3898 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    3899 </span>            : 
<span class="lineNum">    3900 </span><span class="lineNoCov">          0 : static void hexparse(GWindow gw, int cid, char *name, uint32 *data, int len, int *err) {</span>
<span class="lineNum">    3901 </span>            :     int i;
<span class="lineNum">    3902 </span>            :     const unichar_t *ret;
<span class="lineNum">    3903 </span>            :     unichar_t *end;
<span class="lineNum">    3904 </span>            : 
<span class="lineNum">    3905 </span><span class="lineNoCov">          0 :     ret = _GGadgetGetTitle(GWidgetGetControl(gw,cid));</span>
<span class="lineNum">    3906 </span><span class="lineNoCov">          0 :     end = (unichar_t *) ret;</span>
<span class="lineNum">    3907 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;len; ++i ) {</span>
<span class="lineNum">    3908 </span><span class="lineNoCov">          0 :         if ( i!=0 ) {</span>
<span class="lineNum">    3909 </span><span class="lineNoCov">          0 :             if ( *end=='.' )</span>
<span class="lineNum">    3910 </span><span class="lineNoCov">          0 :                 ++end;</span>
<span class="lineNum">    3911 </span>            :             else {
<span class="lineNum">    3912 </span><span class="lineNoCov">          0 :                 *err = true;</span>
<span class="lineNum">    3913 </span><span class="lineNoCov">          0 :                 ff_post_error(_(&quot;Bad hex number&quot;), _(&quot;Bad hex number in %s&quot;), name);</span>
<span class="lineNum">    3914 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    3915 </span>            :             }
<span class="lineNum">    3916 </span>            :         }
<span class="lineNum">    3917 </span><span class="lineNoCov">          0 :         data[len-1-i] = u_strtoul(end,&amp;end,16);</span>
<span class="lineNum">    3918 </span>            :     }
<span class="lineNum">    3919 </span><span class="lineNoCov">          0 :     if ( *end!='\0' ) {</span>
<span class="lineNum">    3920 </span><span class="lineNoCov">          0 :         *err = true;</span>
<span class="lineNum">    3921 </span><span class="lineNoCov">          0 :         ff_post_error(_(&quot;Bad hex number&quot;), _(&quot;Bad hex number in %s&quot;), name);</span>
<span class="lineNum">    3922 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    3923 </span>            :     }
<a name="3924"><span class="lineNum">    3924 </span>            : }</a>
<span class="lineNum">    3925 </span>            : 
<span class="lineNum">    3926 </span><span class="lineNoCov">          0 : static int GFI_AnyLayersRemoved(struct gfi_data *d) {</span>
<span class="lineNum">    3927 </span><span class="lineNoCov">          0 :     GGadget *backs = GWidgetGetControl(d-&gt;gw,CID_Backgrounds);</span>
<span class="lineNum">    3928 </span><span class="lineNoCov">          0 :     int rows, cols = GMatrixEditGetColCnt(backs), r, origr, l;</span>
<span class="lineNum">    3929 </span><span class="lineNoCov">          0 :     struct matrix_data *layers = GMatrixEditGet(backs, &amp;rows);</span>
<span class="lineNum">    3930 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    3931 </span>            :     int anytrue_before, anytrue_after;
<span class="lineNum">    3932 </span>            : 
<span class="lineNum">    3933 </span><span class="lineNoCov">          0 :     for ( l=0; l&lt;sf-&gt;layer_cnt; ++l )</span>
<span class="lineNum">    3934 </span><span class="lineNoCov">          0 :         sf-&gt;layers[l].ticked = false;</span>
<span class="lineNum">    3935 </span>            : 
<span class="lineNum">    3936 </span><span class="lineNoCov">          0 :     anytrue_before = anytrue_after = false;</span>
<span class="lineNum">    3937 </span><span class="lineNoCov">          0 :     for ( r=ly_fore; r&lt;sf-&gt;layer_cnt; ++r ) {</span>
<span class="lineNum">    3938 </span><span class="lineNoCov">          0 :         if ( sf-&gt;layers[r].order2 )</span>
<span class="lineNum">    3939 </span><span class="lineNoCov">          0 :             anytrue_before = true;</span>
<span class="lineNum">    3940 </span>            :     }
<span class="lineNum">    3941 </span><span class="lineNoCov">          0 :     for ( r=0; r&lt;rows; ++r ) if ( (origr = layers[r*cols+3].u.md_ival)!=0 ) {</span>
<span class="lineNum">    3942 </span><span class="lineNoCov">          0 :         --origr;</span>
<span class="lineNum">    3943 </span><span class="lineNoCov">          0 :         sf-&gt;layers[origr].ticked = true;</span>
<span class="lineNum">    3944 </span><span class="lineNoCov">          0 :         if ( origr&gt;=ly_fore &amp;&amp; layers[r*cols+1].u.md_ival )</span>
<span class="lineNum">    3945 </span><span class="lineNoCov">          0 :             anytrue_after = true;</span>
<span class="lineNum">    3946 </span>            :     }
<span class="lineNum">    3947 </span>            : 
<span class="lineNum">    3948 </span><span class="lineNoCov">          0 :     for ( l=sf-&gt;layer_cnt-1; l&gt;ly_fore; --l ) if ( !sf-&gt;layers[l].ticked )</span>
<span class="lineNum">    3949 </span><span class="lineNoCov">          0 : return( 1 | (anytrue_before &amp;&amp; !anytrue_after? 2 : 0) );</span>
<span class="lineNum">    3950 </span>            : 
<span class="lineNum">    3951 </span><span class="lineNoCov">          0 : return( 0 | (anytrue_before &amp;&amp; !anytrue_after? 2 : 0) );</span>
<a name="3952"><span class="lineNum">    3952 </span>            : }</a>
<span class="lineNum">    3953 </span>            : 
<span class="lineNum">    3954 </span><span class="lineNoCov">          0 : static int GFI_SetLayers(struct gfi_data *d) {</span>
<span class="lineNum">    3955 </span><span class="lineNoCov">          0 :     GGadget *backs = GWidgetGetControl(d-&gt;gw,CID_Backgrounds);</span>
<span class="lineNum">    3956 </span><span class="lineNoCov">          0 :     int rows, cols = GMatrixEditGetColCnt(backs), r, origr, l;</span>
<span class="lineNum">    3957 </span><span class="lineNoCov">          0 :     struct matrix_data *layers = GMatrixEditGet(backs, &amp;rows);</span>
<span class="lineNum">    3958 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    3959 </span><span class="lineNoCov">          0 :     int changed = false;</span>
<span class="lineNum">    3960 </span>            : 
<span class="lineNum">    3961 </span><span class="lineNoCov">          0 :     for ( l=0; l&lt;sf-&gt;layer_cnt; ++l )</span>
<span class="lineNum">    3962 </span><span class="lineNoCov">          0 :         sf-&gt;layers[l].ticked = false;</span>
<span class="lineNum">    3963 </span>            : 
<span class="lineNum">    3964 </span><span class="lineNoCov">          0 :     for ( r=0; r&lt;rows; ++r ) if ( (origr = layers[r*cols+3].u.md_ival)!=0 ) {</span>
<span class="lineNum">    3965 </span>            :         /* It's an old layer. Do we need to change anything? */
<span class="lineNum">    3966 </span><span class="lineNoCov">          0 :         --origr;</span>
<span class="lineNum">    3967 </span><span class="lineNoCov">          0 :         sf-&gt;layers[origr].ticked = true;</span>
<span class="lineNum">    3968 </span><span class="lineNoCov">          0 :         if ( sf-&gt;layers[origr].order2 != layers[r*cols+1].u.md_ival ) {</span>
<span class="lineNum">    3969 </span><span class="lineNoCov">          0 :             if ( layers[r*cols+1].u.md_ival )</span>
<span class="lineNum">    3970 </span><span class="lineNoCov">          0 :                 SFConvertLayerToOrder2(sf,origr);</span>
<span class="lineNum">    3971 </span>            :             else
<span class="lineNum">    3972 </span><span class="lineNoCov">          0 :                 SFConvertLayerToOrder3(sf,origr);</span>
<span class="lineNum">    3973 </span><span class="lineNoCov">          0 :             changed = true;</span>
<span class="lineNum">    3974 </span>            :         }
<span class="lineNum">    3975 </span><span class="lineNoCov">          0 :         if ( sf-&gt;layers[origr].background != layers[r*cols+2].u.md_ival ) {</span>
<span class="lineNum">    3976 </span><span class="lineNoCov">          0 :             SFLayerSetBackground(sf,origr,layers[r*cols+2].u.md_ival);</span>
<span class="lineNum">    3977 </span><span class="lineNoCov">          0 :             changed = true;</span>
<span class="lineNum">    3978 </span>            :         }
<span class="lineNum">    3979 </span><span class="lineNoCov">          0 :         if ( layers[r*cols+0].u.md_str!=NULL &amp;&amp; *layers[r*cols+0].u.md_str!='\0' &amp;&amp;</span>
<span class="lineNum">    3980 </span><span class="lineNoCov">          0 :                 strcmp( sf-&gt;layers[origr].name, layers[r*cols+0].u.md_str)!=0 ) {</span>
<span class="lineNum">    3981 </span><span class="lineNoCov">          0 :             free( sf-&gt;layers[origr].name );</span>
<span class="lineNum">    3982 </span><span class="lineNoCov">          0 :             sf-&gt;layers[origr].name = copy( layers[r*cols+0].u.md_str );</span>
<span class="lineNum">    3983 </span><span class="lineNoCov">          0 :             changed = true;</span>
<span class="lineNum">    3984 </span>            :         }
<span class="lineNum">    3985 </span>            :     }
<span class="lineNum">    3986 </span>            : 
<span class="lineNum">    3987 </span><span class="lineNoCov">          0 :     for ( l=sf-&gt;layer_cnt-1; l&gt;ly_fore; --l ) if ( !sf-&gt;layers[l].ticked ) {</span>
<span class="lineNum">    3988 </span><span class="lineNoCov">          0 :         SFRemoveLayer(sf,l);</span>
<span class="lineNum">    3989 </span><span class="lineNoCov">          0 :         changed = true;</span>
<span class="lineNum">    3990 </span>            :     }
<span class="lineNum">    3991 </span>            : 
<span class="lineNum">    3992 </span><span class="lineNoCov">          0 :     l = 0;</span>
<span class="lineNum">    3993 </span><span class="lineNoCov">          0 :     for ( r=0; r&lt;rows; ++r ) if ( layers[r*cols+3].u.md_ival==0 ) {</span>
<span class="lineNum">    3994 </span><span class="lineNoCov">          0 :         SFAddLayer(sf,layers[r*cols+0].u.md_str,layers[r*cols+1].u.md_ival, layers[r*cols+2].u.md_ival);</span>
<span class="lineNum">    3995 </span><span class="lineNoCov">          0 :         changed = true;</span>
<span class="lineNum">    3996 </span>            :     }
<span class="lineNum">    3997 </span><span class="lineNoCov">          0 :     if ( changed )</span>
<span class="lineNum">    3998 </span><span class="lineNoCov">          0 :         CVLayerPaletteCheck(sf);</span>
<span class="lineNum">    3999 </span><span class="lineNoCov">          0 : return( changed );</span>
<span class="lineNum">    4000 </span>            : }
<a name="4001"><span class="lineNum">    4001 </span>            : </a>
<span class="lineNum">    4002 </span>            : 
<span class="lineNum">    4003 </span><span class="lineNoCov">          0 : char* DumpSplineFontMetadata(SplineFont *sf) {</span>
<span class="lineNum">    4004 </span>            :     FILE *sfd;
<span class="lineNum">    4005 </span><span class="lineNoCov">          0 :     if ( (sfd=MakeTemporaryFile()) ) {</span>
<span class="lineNum">    4006 </span><span class="lineNoCov">          0 :         SFD_DumpSplineFontMetadata( sfd, sf );</span>
<span class="lineNum">    4007 </span><span class="lineNoCov">          0 :         char *str = FileToAllocatedString( sfd );</span>
<span class="lineNum">    4008 </span><span class="lineNoCov">          0 :         fclose(sfd);</span>
<span class="lineNum">    4009 </span><span class="lineNoCov">          0 :         return( str );</span>
<span class="lineNum">    4010 </span>            :     }
<span class="lineNum">    4011 </span><span class="lineNoCov">          0 :     return( 0 );</span>
<a name="4012"><span class="lineNum">    4012 </span>            : }</a>
<span class="lineNum">    4013 </span>            : 
<span class="lineNum">    4014 </span><span class="lineNoCov">          0 : static int GFI_OK(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    4015 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate )</span>
<span class="lineNum">    4016 </span>            :     {
<span class="lineNum">    4017 </span><span class="lineNoCov">          0 :         GWindow gw = GGadgetGetWindow(g);</span>
<span class="lineNum">    4018 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(gw);</span>
<span class="lineNum">    4019 </span><span class="lineNoCov">          0 :         SplineFont *sf = d-&gt;sf, *_sf;</span>
<span class="lineNum">    4020 </span>            : 
<span class="lineNum">    4021 </span><span class="lineNoCov">          0 :         printf(&quot;at top of GFI_OK\n&quot;);</span>
<span class="lineNum">    4022 </span>            : 
<span class="lineNum">    4023 </span><span class="lineNoCov">          0 :         char* sfdfrag  = DumpSplineFontMetadata( sf );</span>
<span class="lineNum">    4024 </span><span class="lineNoCov">          0 :         SFUndoes* undo = SFUndoCreateSFD( sfut_fontinfo,</span>
<span class="lineNum">    4025 </span>            :                                           _(&quot;Font Information Dialog&quot;),
<span class="lineNum">    4026 </span>            :                                           sfdfrag );
<span class="lineNum">    4027 </span><span class="lineNoCov">          0 :         SFUndoPushFront( &amp;sf-&gt;undoes, undo );</span>
<span class="lineNum">    4028 </span>            : 
<span class="lineNum">    4029 </span>            : 
<span class="lineNum">    4030 </span>            : 
<span class="lineNum">    4031 </span>            :         int interp;
<span class="lineNum">    4032 </span><span class="lineNoCov">          0 :         int reformat_fv=0, retitle_fv=false;</span>
<span class="lineNum">    4033 </span><span class="lineNoCov">          0 :         int upos, uwid, as, des, err = false, weight=0;</span>
<span class="lineNum">    4034 </span><span class="lineNoCov">          0 :         int uniqueid, linegap=0, vlinegap=0, winascent=0, windescent=0;</span>
<span class="lineNum">    4035 </span><span class="lineNoCov">          0 :         int tlinegap=0, tascent=0, tdescent=0, hascent=0, hdescent=0;</span>
<span class="lineNum">    4036 </span><span class="lineNoCov">          0 :         int capheight=0, xheight=0;</span>
<span class="lineNum">    4037 </span><span class="lineNoCov">          0 :         int winaoff=true, windoff=true;</span>
<span class="lineNum">    4038 </span><span class="lineNoCov">          0 :         int taoff=true, tdoff=true, haoff = true, hdoff = true;</span>
<span class="lineNum">    4039 </span>            :         real ia, cidversion;
<span class="lineNum">    4040 </span>            :         const unichar_t *txt, *fond; unichar_t *end;
<span class="lineNum">    4041 </span>            :         int i,j, mcs;
<span class="lineNum">    4042 </span>            :         int vmetrics, namechange, guideorder2;
<span class="lineNum">    4043 </span><span class="lineNoCov">          0 :         int xuidchanged = false, usexuid, useuniqueid;</span>
<span class="lineNum">    4044 </span>            :         GTextInfo *pfmfam, *ibmfam, *fstype, *nlitem, *stylemap;
<span class="lineNum">    4045 </span>            :         int32 len;
<span class="lineNum">    4046 </span>            :         GTextInfo **ti;
<span class="lineNum">    4047 </span>            :         int subs[4], super[4], strike[2];
<span class="lineNum">    4048 </span>            :         struct otfname *fontstyle_name;
<span class="lineNum">    4049 </span>            :         int design_size, size_top, size_bottom, styleid;
<span class="lineNum">    4050 </span><span class="lineNoCov">          0 :         int strokedfont = false;</span>
<span class="lineNum">    4051 </span>            :         real strokewidth;
<span class="lineNum">    4052 </span><span class="lineNoCov">          0 :         int multilayer = false;</span>
<span class="lineNum">    4053 </span>            :         char os2_vendor[4];
<span class="lineNum">    4054 </span>            :         NameList *nl;
<span class="lineNum">    4055 </span>            :         extern int allow_utf8_glyphnames;
<span class="lineNum">    4056 </span>            :         int os2version;
<span class="lineNum">    4057 </span>            :         int rows, gasprows, mc_rows, ms_rows;
<span class="lineNum">    4058 </span><span class="lineNoCov">          0 :         struct matrix_data *strings     = GMatrixEditGet(GWidgetGetControl(d-&gt;gw,CID_TNames), &amp;rows);</span>
<span class="lineNum">    4059 </span><span class="lineNoCov">          0 :         struct matrix_data *gasp        = GMatrixEditGet(GWidgetGetControl(d-&gt;gw,CID_Gasp), &amp;gasprows);</span>
<span class="lineNum">    4060 </span><span class="lineNoCov">          0 :         struct matrix_data *markclasses = GMatrixEditGet(GWidgetGetControl(d-&gt;gw,CID_MarkClasses), &amp;mc_rows);</span>
<span class="lineNum">    4061 </span><span class="lineNoCov">          0 :         struct matrix_data *marksets    = GMatrixEditGet(GWidgetGetControl(d-&gt;gw,CID_MarkSets), &amp;ms_rows);</span>
<span class="lineNum">    4062 </span><span class="lineNoCov">          0 :         int was_ml = sf-&gt;multilayer, was_stroke = sf-&gt;strokedfont;</span>
<span class="lineNum">    4063 </span>            :         uint32 codepages[2], uranges[4];
<span class="lineNum">    4064 </span>            :         int layer_cnt;
<span class="lineNum">    4065 </span><span class="lineNoCov">          0 :         struct matrix_data *layers = GMatrixEditGet(GWidgetGetControl(d-&gt;gw,CID_Backgrounds), &amp;layer_cnt);</span>
<span class="lineNum">    4066 </span>            :         int layer_flags;
<span class="lineNum">    4067 </span><span class="lineNoCov">          0 :         int sfntRevision=sfntRevisionUnset, woffMajor=woffUnset, woffMinor=woffUnset;</span>
<span class="lineNum">    4068 </span>            : 
<span class="lineNum">    4069 </span><span class="lineNoCov">          0 :         if ( strings==NULL || gasp==NULL || layers==NULL )</span>
<span class="lineNum">    4070 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4071 </span><span class="lineNoCov">          0 :         if ( gasprows&gt;0 &amp;&amp; gasp[5*gasprows-5].u.md_ival!=65535 ) {</span>
<span class="lineNum">    4072 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Bad Grid Fitting table&quot;),_(&quot;The 'gasp' (Grid Fit) table must end with a pixel entry of 65535&quot;));</span>
<span class="lineNum">    4073 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4074 </span>            :         }
<span class="lineNum">    4075 </span>            :         {
<span class="lineNum">    4076 </span>            :             int i;
<span class="lineNum">    4077 </span>            :             static struct {
<span class="lineNum">    4078 </span>            :                 int cid;
<span class="lineNum">    4079 </span>            :                 char *tit, *msg;
<span class="lineNum">    4080 </span>            :             } msgs[] = {
<span class="lineNum">    4081 </span>            :                 { CID_Notice, N_(&quot;Bad Copyright&quot;), NU_(&quot;Copyright text (in the Names pane) must be entirely ASCII. So, use (c) instead of .&quot;)},
<span class="lineNum">    4082 </span>            :                 { CID_Human, N_(&quot;Bad Human Fontname&quot;), N_(&quot;The human-readable fontname text (in the Names pane) must be entirely ASCII.&quot;)},
<span class="lineNum">    4083 </span>            :                 { CID_Weight, N_(&quot;Bad Weight&quot;), N_(&quot;The weight text (in the Names pane) must be entirely ASCII.&quot;)},
<span class="lineNum">    4084 </span>            :                 { CID_Version, N_(&quot;Bad Version&quot;), N_(&quot;The version text (in the Names pane) must be entirely ASCII.&quot;)},
<span class="lineNum">    4085 </span>            :                 { 0, NULL, NULL }
<span class="lineNum">    4086 </span>            :             };
<span class="lineNum">    4087 </span><span class="lineNoCov">          0 :             for ( i = 0; msgs[i].cid!=0 ; ++i )</span>
<span class="lineNum">    4088 </span><span class="lineNoCov">          0 :                     if ( !uAllAscii(_GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,msgs[i].cid))) ) {</span>
<span class="lineNum">    4089 </span><span class="lineNoCov">          0 :                 ff_post_error(_(msgs[i].tit),_(msgs[i].msg));</span>
<span class="lineNum">    4090 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4091 </span>            :             }
<span class="lineNum">    4092 </span>            :         }
<span class="lineNum">    4093 </span><span class="lineNoCov">          0 :         if ( (layer_flags = GFI_AnyLayersRemoved(d))!=0 ) {</span>
<span class="lineNum">    4094 </span>            :             char *buts[3];
<span class="lineNum">    4095 </span><span class="lineNoCov">          0 :             buts[0] = _(&quot;_OK&quot;); buts[1] = _(&quot;_Cancel&quot;); buts[2]=NULL;</span>
<span class="lineNum">    4096 </span><span class="lineNoCov">          0 :             if ( layer_flags &amp; 1 ) {</span>
<span class="lineNum">    4097 </span><span class="lineNoCov">          0 :                 if ( gwwv_ask(_(&quot;Deleting a layer cannot be UNDONE!&quot;),(const char **) buts,0,1,_(</span>
<span class="lineNum">    4098 </span>            :                         &quot;You are about to delete a layer.\n&quot;
<span class="lineNum">    4099 </span>            :                         &quot;This will lose all contours in that layer.\n&quot;
<span class="lineNum">    4100 </span>            :                         &quot;If this is the last quadratic layer it will\n&quot;
<span class="lineNum">    4101 </span>            :                         &quot;lose all truetype instructions.\n\n&quot;
<span class="lineNum">    4102 </span>            :                         &quot;Deleting a layer cannot be undone.\n\n&quot;
<span class="lineNum">    4103 </span>            :                         &quot;Is this really your intent?&quot;))==1 )
<span class="lineNum">    4104 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4105 </span><span class="lineNoCov">          0 :             } else if ( layer_flags &amp; 2 ) {</span>
<span class="lineNum">    4106 </span><span class="lineNoCov">          0 :                 if ( gwwv_ask(_(&quot;Removing instructions cannot be UNDONE!&quot;),(const char **) buts,0,1,_(</span>
<span class="lineNum">    4107 </span>            :                         &quot;You are about to change the last quadratic\n&quot;
<span class="lineNum">    4108 </span>            :                         &quot;layer to cubic. When this happens FontForge\n&quot;
<span class="lineNum">    4109 </span>            :                         &quot;will remove all truetype instructions.\n\n&quot;
<span class="lineNum">    4110 </span>            :                         &quot;This cannot be undone.\n\n&quot;
<span class="lineNum">    4111 </span>            :                         &quot;Is this really your intent?&quot;))==1 )
<span class="lineNum">    4112 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4113 </span>            :             }
<span class="lineNum">    4114 </span>            :         }
<span class="lineNum">    4115 </span><span class="lineNoCov">          0 :         if ( layer_cnt&gt;=BACK_LAYER_MAX-2 ) {</span>
<span class="lineNum">    4116 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Too many layers&quot;),_(&quot;FontForge supports at most %d layers&quot;),BACK_LAYER_MAX-2);</span>
<span class="lineNum">    4117 </span>            :             /* This can be increased in configure-fontforge.h */
<span class="lineNum">    4118 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4119 </span>            :         }
<span class="lineNum">    4120 </span><span class="lineNoCov">          0 :         if ( !CheckNames(d))</span>
<span class="lineNum">    4121 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4122 </span>            : 
<span class="lineNum">    4123 </span><span class="lineNoCov">          0 :         if ( ttfmultuniqueids(sf,d)) {</span>
<span class="lineNum">    4124 </span>            :             char *buts[3];
<span class="lineNum">    4125 </span><span class="lineNoCov">          0 :             buts[0] = _(&quot;_OK&quot;); buts[1] = _(&quot;_Cancel&quot;); buts[2]=NULL;</span>
<span class="lineNum">    4126 </span><span class="lineNoCov">          0 :             if ( gwwv_ask(_(&quot;Too many Unique Font IDs&quot;),(const char **) buts,0,1,_(&quot;You should only specify the TrueType Unique Font Identification string in one language. This font has more. Do you want to continue anyway?&quot;))==1 )</span>
<span class="lineNum">    4127 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4128 </span>            :         }
<span class="lineNum">    4129 </span><span class="lineNoCov">          0 :         txt = _GGadgetGetTitle(GWidgetGetControl(gw,CID_Family));</span>
<span class="lineNum">    4130 </span><span class="lineNoCov">          0 :         if ( !isalpha(*txt)) {</span>
<span class="lineNum">    4131 </span><span class="lineNoCov">          0 :             BadFamily();</span>
<span class="lineNum">    4132 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4133 </span>            :         }
<span class="lineNum">    4134 </span><span class="lineNoCov">          0 :         txt = _GGadgetGetTitle(GWidgetGetControl(gw,CID_ItalicAngle));</span>
<span class="lineNum">    4135 </span><span class="lineNoCov">          0 :         ia = u_strtod(txt,&amp;end);</span>
<span class="lineNum">    4136 </span><span class="lineNoCov">          0 :         if ( *end!='\0' ) {</span>
<span class="lineNum">    4137 </span><span class="lineNoCov">          0 :             GGadgetProtest8(_(&quot;_Italic Angle:&quot;));</span>
<span class="lineNum">    4138 </span><span class="lineNoCov">          0 : return(true);</span>
<span class="lineNum">    4139 </span>            :         }
<span class="lineNum">    4140 </span><span class="lineNoCov">          0 :         guideorder2 = GGadgetIsChecked(GWidgetGetControl(gw,CID_GuideOrder2));</span>
<span class="lineNum">    4141 </span><span class="lineNoCov">          0 :         strokedfont = GGadgetIsChecked(GWidgetGetControl(gw,CID_IsStrokedFont));</span>
<span class="lineNum">    4142 </span><span class="lineNoCov">          0 :         strokewidth = GetReal8(gw,CID_StrokeWidth,_(&quot;Stroke _Width:&quot;),&amp;err);</span>
<span class="lineNum">    4143 </span><span class="lineNoCov">          0 :         multilayer = GGadgetIsChecked(GWidgetGetControl(gw,CID_IsMultiLayer));</span>
<span class="lineNum">    4144 </span><span class="lineNoCov">          0 :         vmetrics = GGadgetIsChecked(GWidgetGetControl(gw,CID_HasVerticalMetrics));</span>
<span class="lineNum">    4145 </span><span class="lineNoCov">          0 :         upos = GetReal8(gw,CID_UPos, _(&quot;Underline _Position:&quot;),&amp;err);</span>
<span class="lineNum">    4146 </span><span class="lineNoCov">          0 :         uwid = GetReal8(gw,CID_UWidth,S_(&quot;Underline|_Height:&quot;),&amp;err);</span>
<span class="lineNum">    4147 </span><span class="lineNoCov">          0 :         GetInt8(gw,CID_Em,_(&quot;_Em Size:&quot;),&amp;err);   /* just check for errors. redundant info */</span>
<span class="lineNum">    4148 </span><span class="lineNoCov">          0 :         as = GetInt8(gw,CID_Ascent,_(&quot;_Ascent:&quot;),&amp;err);</span>
<span class="lineNum">    4149 </span><span class="lineNoCov">          0 :         des = GetInt8(gw,CID_Descent,_(&quot;_Descent:&quot;),&amp;err);</span>
<span class="lineNum">    4150 </span><span class="lineNoCov">          0 :         uniqueid = GetInt8(gw,CID_UniqueID,_(&quot;UniqueID&quot;),&amp;err);</span>
<span class="lineNum">    4151 </span><span class="lineNoCov">          0 :         design_size = rint(10*GetReal8(gw,CID_DesignSize,_(&quot;De_sign Size:&quot;),&amp;err));</span>
<span class="lineNum">    4152 </span><span class="lineNoCov">          0 :         size_bottom = rint(10*GetReal8(gw,CID_DesignBottom,_(&quot;_Bottom&quot;),&amp;err));</span>
<span class="lineNum">    4153 </span><span class="lineNoCov">          0 :         size_top = rint(10*GetReal8(gw,CID_DesignTop,_(&quot;_Top&quot;),&amp;err));</span>
<span class="lineNum">    4154 </span><span class="lineNoCov">          0 :         styleid = GetInt8(gw,CID_StyleID,_(&quot;Style _ID:&quot;),&amp;err);</span>
<span class="lineNum">    4155 </span><span class="lineNoCov">          0 :         fontstyle_name = OtfNameFromStyleNames(GWidgetGetControl(gw,CID_StyleName));</span>
<span class="lineNum">    4156 </span><span class="lineNoCov">          0 :         OtfNameListFree(fontstyle_name);</span>
<span class="lineNum">    4157 </span><span class="lineNoCov">          0 :         if ( design_size==0 &amp;&amp; ( size_bottom!=0 || size_top!=0 || styleid!=0 || fontstyle_name!=NULL )) {</span>
<span class="lineNum">    4158 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Bad Design Size Info&quot;),_(&quot;If the design size is 0, then all other fields on that pane must be zero (or unspecified) too.&quot;));</span>
<span class="lineNum">    4159 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4160 </span><span class="lineNoCov">          0 :         } else if ( styleid!=0 &amp;&amp; fontstyle_name==NULL ) {</span>
<span class="lineNum">    4161 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Bad Design Size Info&quot;),_(&quot;If you specify a style id for the design size, then you must specify a style name&quot;));</span>
<span class="lineNum">    4162 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4163 </span><span class="lineNoCov">          0 :         } else if ( fontstyle_name!=NULL &amp;&amp; styleid==0 ) {</span>
<span class="lineNum">    4164 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Bad Design Size Info&quot;),_(&quot;If you specify a style name for the design size, then you must specify a style id&quot;));</span>
<span class="lineNum">    4165 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4166 </span><span class="lineNoCov">          0 :         } else if ( design_size&lt;0 ) {</span>
<span class="lineNum">    4167 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Bad Design Size Info&quot;),_(&quot;If you specify a design size, it must be positive&quot;));</span>
<span class="lineNum">    4168 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4169 </span><span class="lineNoCov">          0 :         } else if ( size_bottom!=0 &amp;&amp; size_bottom&gt;design_size ) {</span>
<span class="lineNum">    4170 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Bad Design Size Info&quot;),_(&quot;In the design size range, the bottom field must be less than the design size.&quot;));</span>
<span class="lineNum">    4171 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4172 </span><span class="lineNoCov">          0 :         } else if ( size_top!=0 &amp;&amp; size_top&lt;design_size ) {</span>
<span class="lineNum">    4173 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Bad Design Size Info&quot;),_(&quot;In the design size range, the bottom top must be more than the design size.&quot;));</span>
<span class="lineNum">    4174 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4175 </span><span class="lineNoCov">          0 :         } else if ( styleid!=0 &amp;&amp; size_top==0 ) {</span>
<span class="lineNum">    4176 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Bad Design Size Info&quot;),_(&quot;If you specify a style id for the design size, then you must specify a size range&quot;));</span>
<span class="lineNum">    4177 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4178 </span><span class="lineNoCov">          0 :         } else if ( size_top!=0 &amp;&amp; styleid==0 ) {</span>
<span class="lineNum">    4179 </span><span class="lineNoCov">          0 :             ff_post_notice(_(&quot;Bad Design Size Info&quot;),_(&quot;If you specify a design size range, then you are supposed to specify a style id and style name too. FontForge will allow you to leave those fields blank, but other applications may not.&quot;));</span>
<span class="lineNum">    4180 </span>            :             /* no return, this is just a warning */
<span class="lineNum">    4181 </span>            :         }
<span class="lineNum">    4182 </span>            : 
<span class="lineNum">    4183 </span><span class="lineNoCov">          0 :         if ( *_GGadgetGetTitle(GWidgetGetControl(gw,CID_Revision))!='\0' )</span>
<span class="lineNum">    4184 </span><span class="lineNoCov">          0 :             sfntRevision = rint(65536.*GetReal8(gw,CID_Revision,_(&quot;sfnt Revision:&quot;),&amp;err));</span>
<span class="lineNum">    4185 </span><span class="lineNoCov">          0 :         if ( *_GGadgetGetTitle(GWidgetGetControl(gw,CID_WoffMajor))!='\0' ) {</span>
<span class="lineNum">    4186 </span><span class="lineNoCov">          0 :             woffMajor = GetInt8(gw,CID_WoffMajor,_(&quot;Woff Major Version:&quot;),&amp;err);</span>
<span class="lineNum">    4187 </span><span class="lineNoCov">          0 :             woffMinor = 0;</span>
<span class="lineNum">    4188 </span><span class="lineNoCov">          0 :             if ( *_GGadgetGetTitle(GWidgetGetControl(gw,CID_WoffMinor))!='\0' )</span>
<span class="lineNum">    4189 </span><span class="lineNoCov">          0 :                 woffMinor = GetInt8(gw,CID_WoffMinor,_(&quot;Woff Minor Version:&quot;),&amp;err);</span>
<span class="lineNum">    4190 </span>            :         }
<span class="lineNum">    4191 </span><span class="lineNoCov">          0 :         if ( err )</span>
<span class="lineNum">    4192 </span><span class="lineNoCov">          0 : return(true);</span>
<span class="lineNum">    4193 </span>            : 
<span class="lineNum">    4194 </span><span class="lineNoCov">          0 :         memset(codepages,0,sizeof(codepages));</span>
<span class="lineNum">    4195 </span><span class="lineNoCov">          0 :         memset(uranges,0,sizeof(uranges));</span>
<span class="lineNum">    4196 </span><span class="lineNoCov">          0 :         if ( !GGadgetIsChecked(GWidgetGetControl(gw,CID_CPageDefault)) )</span>
<span class="lineNum">    4197 </span><span class="lineNoCov">          0 :             hexparse(gw,CID_CodePageRanges,_(&quot;MS Code Pages&quot;),codepages,2,&amp;err );</span>
<span class="lineNum">    4198 </span><span class="lineNoCov">          0 :         if ( !GGadgetIsChecked(GWidgetGetControl(gw,CID_URangesDefault)) )</span>
<span class="lineNum">    4199 </span><span class="lineNoCov">          0 :             hexparse(gw,CID_UnicodeRanges,_(&quot;Unicode Ranges&quot;),uranges,4,&amp;err );</span>
<span class="lineNum">    4200 </span><span class="lineNoCov">          0 :         if ( err )</span>
<span class="lineNum">    4201 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4202 </span>            : 
<span class="lineNum">    4203 </span><span class="lineNoCov">          0 :         if ( sf-&gt;subfontcnt!=0 ) {</span>
<span class="lineNum">    4204 </span><span class="lineNoCov">          0 :             cidversion = GetReal8(gw,CID_Version,_(&quot;_Version&quot;),&amp;err);</span>
<span class="lineNum">    4205 </span><span class="lineNoCov">          0 :             if ( err )</span>
<span class="lineNum">    4206 </span><span class="lineNoCov">          0 : return(true);</span>
<span class="lineNum">    4207 </span>            :         }
<span class="lineNum">    4208 </span><span class="lineNoCov">          0 :         os2version = sf-&gt;os2_version;</span>
<span class="lineNum">    4209 </span><span class="lineNoCov">          0 :         if ( d-&gt;ttf_set ) {</span>
<span class="lineNum">    4210 </span><span class="lineNoCov">          0 :             char *os2v = GGadgetGetTitle8(GWidgetGetControl(gw,CID_OS2Version));</span>
<span class="lineNum">    4211 </span><span class="lineNoCov">          0 :             if ( strcasecmp(os2v,(char *) os2versions[0].text )== 0 )</span>
<span class="lineNum">    4212 </span><span class="lineNoCov">          0 :                 os2version = 0;</span>
<span class="lineNum">    4213 </span>            :             else
<span class="lineNum">    4214 </span><span class="lineNoCov">          0 :                 os2version = GetInt8(gw,CID_OS2Version,_(&quot;Weight, Width, Slope Only&quot;),&amp;err);</span>
<span class="lineNum">    4215 </span><span class="lineNoCov">          0 :             free(os2v);</span>
<span class="lineNum">    4216 </span>            :             /* Only use the normal routine if we get no value, because */
<span class="lineNum">    4217 </span>            :             /*  &quot;400 Book&quot; is a reasonable setting, but would cause GetInt */
<span class="lineNum">    4218 </span>            :             /*  to complain */
<span class="lineNum">    4219 </span><span class="lineNoCov">          0 :             weight = u_strtol(_GGadgetGetTitle(GWidgetGetControl(gw,CID_WeightClass)),NULL,10);</span>
<span class="lineNum">    4220 </span><span class="lineNoCov">          0 :             if ( weight == 0 ) {</span>
<span class="lineNum">    4221 </span>            :                 int i;
<span class="lineNum">    4222 </span><span class="lineNoCov">          0 :                 char *wc = GGadgetGetTitle8(GWidgetGetControl(gw,CID_WeightClass));</span>
<span class="lineNum">    4223 </span><span class="lineNoCov">          0 :                 for ( i=0; widthclass[i].text!=NULL; ++i ) {</span>
<span class="lineNum">    4224 </span><span class="lineNoCov">          0 :                     if ( strcmp(wc,(char *) widthclass[i].text)==0 ) {</span>
<span class="lineNum">    4225 </span><span class="lineNoCov">          0 :                         weight = (intpt) widthclass[i].userdata;</span>
<span class="lineNum">    4226 </span><span class="lineNoCov">          0 :                 break;</span>
<span class="lineNum">    4227 </span>            :                     }
<span class="lineNum">    4228 </span>            :                 }
<span class="lineNum">    4229 </span><span class="lineNoCov">          0 :                 free(wc);</span>
<span class="lineNum">    4230 </span>            :             }
<span class="lineNum">    4231 </span><span class="lineNoCov">          0 :             if ( weight == 0 )</span>
<span class="lineNum">    4232 </span><span class="lineNoCov">          0 :                 weight = GetInt8(gw,CID_WeightClass,_(&quot;_Weight Class&quot;),&amp;err);</span>
<span class="lineNum">    4233 </span><span class="lineNoCov">          0 :             linegap = GetInt8(gw,CID_LineGap,_(&quot;HHead _Line Gap:&quot;),&amp;err);</span>
<span class="lineNum">    4234 </span><span class="lineNoCov">          0 :             tlinegap = GetInt8(gw,CID_TypoLineGap,_(&quot;Typo Line _Gap:&quot;),&amp;err);</span>
<span class="lineNum">    4235 </span><span class="lineNoCov">          0 :             if ( vmetrics )</span>
<span class="lineNum">    4236 </span><span class="lineNoCov">          0 :                 vlinegap = GetInt8(gw,CID_VLineGap,_(&quot;VHead _Column Spacing:&quot;),&amp;err);</span>
<span class="lineNum">    4237 </span><span class="lineNoCov">          0 :             winaoff = GGadgetIsChecked(GWidgetGetControl(gw,CID_WinAscentIsOff));</span>
<span class="lineNum">    4238 </span><span class="lineNoCov">          0 :             windoff = GGadgetIsChecked(GWidgetGetControl(gw,CID_WinDescentIsOff));</span>
<span class="lineNum">    4239 </span><span class="lineNoCov">          0 :             winascent  = GetInt8(gw,CID_WinAscent,winaoff ? _(&quot;Win _Ascent Offset:&quot;) : _(&quot;Win Ascent:&quot;),&amp;err);</span>
<span class="lineNum">    4240 </span><span class="lineNoCov">          0 :             windescent = GetInt8(gw,CID_WinDescent,windoff ? _(&quot;Win _Descent Offset:&quot;) : _(&quot;Win Descent:&quot;),&amp;err);</span>
<span class="lineNum">    4241 </span><span class="lineNoCov">          0 :             taoff = GGadgetIsChecked(GWidgetGetControl(gw,CID_TypoAscentIsOff));</span>
<span class="lineNum">    4242 </span><span class="lineNoCov">          0 :             tdoff = GGadgetIsChecked(GWidgetGetControl(gw,CID_TypoDescentIsOff));</span>
<span class="lineNum">    4243 </span><span class="lineNoCov">          0 :             tascent  = GetInt8(gw,CID_TypoAscent,taoff ? _(&quot;_Typo Ascent Offset:&quot;) : _(&quot;Typo Ascent:&quot;),&amp;err);</span>
<span class="lineNum">    4244 </span><span class="lineNoCov">          0 :             tdescent = GetInt8(gw,CID_TypoDescent,tdoff ? _(&quot;T_ypo Descent Offset:&quot;) : _(&quot;Typo Descent:&quot;),&amp;err);</span>
<span class="lineNum">    4245 </span><span class="lineNoCov">          0 :             haoff = GGadgetIsChecked(GWidgetGetControl(gw,CID_HHeadAscentIsOff));</span>
<span class="lineNum">    4246 </span><span class="lineNoCov">          0 :             hdoff = GGadgetIsChecked(GWidgetGetControl(gw,CID_HHeadDescentIsOff));</span>
<span class="lineNum">    4247 </span><span class="lineNoCov">          0 :             hascent  = GetInt8(gw,CID_HHeadAscent,haoff ? _(&quot;_HHead Ascent Offset:&quot;) : _(&quot;HHead Ascent:&quot;),&amp;err);</span>
<span class="lineNum">    4248 </span><span class="lineNoCov">          0 :             hdescent = GetInt8(gw,CID_HHeadDescent,hdoff ? _(&quot;HHead De_scent Offset:&quot;) : _(&quot;HHead Descent:&quot;),&amp;err);</span>
<span class="lineNum">    4249 </span><span class="lineNoCov">          0 :             capheight = GetInt8(gw,CID_CapHeight, _(&quot;Ca_pital Height:&quot;),&amp;err);</span>
<span class="lineNum">    4250 </span><span class="lineNoCov">          0 :             xheight = GetInt8(gw,CID_XHeight, _(&quot;_X Height:&quot;),&amp;err);</span>
<span class="lineNum">    4251 </span><span class="lineNoCov">          0 :             if ( err )</span>
<span class="lineNum">    4252 </span><span class="lineNoCov">          0 : return(true);</span>
<span class="lineNum">    4253 </span>            : 
<span class="lineNum">    4254 </span><span class="lineNoCov">          0 :             if ( !GGadgetIsChecked(GWidgetGetControl(gw,CID_SubSuperDefault)) ) {</span>
<span class="lineNum">    4255 </span><span class="lineNoCov">          0 :                 for ( i=0; i&lt;4; ++i )</span>
<span class="lineNum">    4256 </span><span class="lineNoCov">          0 :                     subs[i] = GetInt8(gw,CID_SubXSize+i,_(&quot;Subscript&quot;),&amp;err);</span>
<span class="lineNum">    4257 </span><span class="lineNoCov">          0 :                 for ( i=0; i&lt;4; ++i )</span>
<span class="lineNum">    4258 </span><span class="lineNoCov">          0 :                     super[i] = GetInt8(gw,CID_SuperXSize+i,_(&quot;Superscript&quot;),&amp;err);</span>
<span class="lineNum">    4259 </span><span class="lineNoCov">          0 :                 for ( i=0; i&lt;2; ++i )</span>
<span class="lineNum">    4260 </span><span class="lineNoCov">          0 :                     strike[i] = GetInt8(gw,CID_StrikeoutSize+i,_(&quot;Strikeout&quot;),&amp;err);</span>
<span class="lineNum">    4261 </span>            :             }
<span class="lineNum">    4262 </span><span class="lineNoCov">          0 :             txt = _GGadgetGetTitle(GWidgetGetControl(gw,CID_Vendor));</span>
<span class="lineNum">    4263 </span><span class="lineNoCov">          0 :             if ( u_strlen(txt)&gt;4 || txt[0]&gt;0x7e || (txt[0]!='\0' &amp;&amp; (txt[1]&gt;0x7e ||</span>
<span class="lineNum">    4264 </span><span class="lineNoCov">          0 :                     (txt[1]!='\0' &amp;&amp; (txt[2]&gt;0x7e || (txt[2]!='\0' &amp;&amp; txt[3]&gt;0x7e))))) ) {</span>
<span class="lineNum">    4265 </span><span class="lineNoCov">          0 :                 if ( u_strlen(txt)&gt;4 )</span>
<span class="lineNum">    4266 </span><span class="lineNoCov">          0 :                     ff_post_error(_(&quot;Bad IBM Family&quot;),_(&quot;Tag must be 4 characters long&quot;));</span>
<span class="lineNum">    4267 </span>            :                 else
<span class="lineNum">    4268 </span><span class="lineNoCov">          0 :                     ff_post_error(_(&quot;Bad IBM Family&quot;),_(&quot;A tag must be 4 ASCII characters&quot;));</span>
<span class="lineNum">    4269 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4270 </span>            :             }
<span class="lineNum">    4271 </span><span class="lineNoCov">          0 :             os2_vendor[0] = txt[0]==0 ? ' ' : txt[0];</span>
<span class="lineNum">    4272 </span><span class="lineNoCov">          0 :             os2_vendor[1] = txt[0]==0 || txt[1]=='\0' ? ' ' : txt[1];</span>
<span class="lineNum">    4273 </span><span class="lineNoCov">          0 :             os2_vendor[2] = txt[0]==0 || txt[1]=='\0' || txt[2]=='\0' ? ' ' : txt[2];</span>
<span class="lineNum">    4274 </span><span class="lineNoCov">          0 :             os2_vendor[3] = txt[0]==0 || txt[1]=='\0' || txt[2]=='\0' || txt[3]=='\0' ? ' ' : txt[3];</span>
<span class="lineNum">    4275 </span>            :         }
<span class="lineNum">    4276 </span><span class="lineNoCov">          0 :         if ( err )</span>
<span class="lineNum">    4277 </span><span class="lineNoCov">          0 : return(true);</span>
<span class="lineNum">    4278 </span><span class="lineNoCov">          0 :         if ( d-&gt;tex_set ) {</span>
<span class="lineNum">    4279 </span><span class="lineNoCov">          0 :             if ( !ParseTeX(d))</span>
<span class="lineNum">    4280 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4281 </span>            :         }
<span class="lineNum">    4282 </span><span class="lineNoCov">          0 :         if ( as+des&gt;16384 || des&lt;0 || as&lt;0 ) {</span>
<span class="lineNum">    4283 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Bad Ascent/Descent&quot;),_(&quot;Ascent and Descent must be positive and their sum less than 16384&quot;));</span>
<span class="lineNum">    4284 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4285 </span>            :         }
<span class="lineNum">    4286 </span><span class="lineNoCov">          0 :         mcs = -1;</span>
<span class="lineNum">    4287 </span><span class="lineNoCov">          0 :         if ( !GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_MacAutomatic)) ) {</span>
<span class="lineNum">    4288 </span><span class="lineNoCov">          0 :             mcs = 0;</span>
<span class="lineNum">    4289 </span><span class="lineNoCov">          0 :             ti = GGadgetGetList(GWidgetGetControl(d-&gt;gw,CID_MacStyles),&amp;len);</span>
<span class="lineNum">    4290 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;len; ++i )</span>
<span class="lineNum">    4291 </span><span class="lineNoCov">          0 :                 if ( ti[i]-&gt;selected )</span>
<span class="lineNum">    4292 </span><span class="lineNoCov">          0 :                     mcs |= (int) (intpt) ti[i]-&gt;userdata;</span>
<span class="lineNum">    4293 </span><span class="lineNoCov">          0 :             if ( (mcs&amp;sf_condense) &amp;&amp; (mcs&amp;sf_extend)) {</span>
<span class="lineNum">    4294 </span><span class="lineNoCov">          0 :                 ff_post_error(_(&quot;Bad Style&quot;),_(&quot;A style may not have both condense and extend set (it makes no sense)&quot;));</span>
<span class="lineNum">    4295 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4296 </span>            :             }
<span class="lineNum">    4297 </span>            :         }
<span class="lineNum">    4298 </span>            : 
<span class="lineNum">    4299 </span><span class="lineNoCov">          0 :         nlitem = GGadgetGetListItemSelected(GWidgetGetControl(gw,CID_Namelist));</span>
<span class="lineNum">    4300 </span><span class="lineNoCov">          0 :         if ( nlitem==NULL )</span>
<span class="lineNum">    4301 </span><span class="lineNoCov">          0 :             nl = DefaultNameListForNewFonts();</span>
<span class="lineNum">    4302 </span>            :         else {
<span class="lineNum">    4303 </span><span class="lineNoCov">          0 :             char *name = u2utf8_copy(nlitem-&gt;text);</span>
<span class="lineNum">    4304 </span><span class="lineNoCov">          0 :             nl = NameListByName(name);</span>
<span class="lineNum">    4305 </span><span class="lineNoCov">          0 :             free(name);</span>
<span class="lineNum">    4306 </span>            :         }
<span class="lineNum">    4307 </span><span class="lineNoCov">          0 :         if ( nl-&gt;uses_unicode &amp;&amp; !allow_utf8_glyphnames ) {</span>
<span class="lineNum">    4308 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Namelist contains non-ASCII names&quot;),_(&quot;Glyph names should be limited to characters in the ASCII character set,\nbut there are names in this namelist which use characters outside\nthat range.&quot;));</span>
<span class="lineNum">    4309 </span><span class="lineNoCov">          0 : return(true);</span>
<span class="lineNum">    4310 </span>            :         }
<span class="lineNum">    4311 </span><span class="lineNoCov">          0 :         if ( !SSNameValidate(d))</span>
<span class="lineNum">    4312 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    4313 </span><span class="lineNoCov">          0 :         if ( strokedfont!=sf-&gt;strokedfont || multilayer!=sf-&gt;multilayer ) {</span>
<span class="lineNum">    4314 </span><span class="lineNoCov">          0 :             if ( sf-&gt;strokedfont &amp;&amp; multilayer )</span>
<span class="lineNum">    4315 </span><span class="lineNoCov">          0 :                 SFSetLayerWidthsStroked(sf,sf-&gt;strokewidth);</span>
<span class="lineNum">    4316 </span><span class="lineNoCov">          0 :             else if ( sf-&gt;multilayer )</span>
<span class="lineNum">    4317 </span><span class="lineNoCov">          0 :                 SFSplinesFromLayers(sf,strokedfont);</span>
<span class="lineNum">    4318 </span><span class="lineNoCov">          0 :             SFReinstanciateRefs(sf);</span>
<span class="lineNum">    4319 </span><span class="lineNoCov">          0 :             if ( multilayer!=sf-&gt;multilayer ) {</span>
<span class="lineNum">    4320 </span><span class="lineNoCov">          0 :                 sf-&gt;multilayer = multilayer;</span>
<span class="lineNum">    4321 </span><span class="lineNoCov">          0 :                 SFLayerChange(sf);</span>
<span class="lineNum">    4322 </span>            :             }
<span class="lineNum">    4323 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;sf-&gt;glyphcnt; ++i ) if ( sf-&gt;glyphs[i]!=NULL )</span>
<span class="lineNum">    4324 </span><span class="lineNoCov">          0 :                 sf-&gt;glyphs[i]-&gt;changedsincelasthinted = !strokedfont &amp;&amp; !multilayer;</span>
<span class="lineNum">    4325 </span>            :         }
<span class="lineNum">    4326 </span><span class="lineNoCov">          0 :         sf-&gt;strokedfont = strokedfont;</span>
<span class="lineNum">    4327 </span><span class="lineNoCov">          0 :         sf-&gt;strokewidth = strokewidth;</span>
<span class="lineNum">    4328 </span><span class="lineNoCov">          0 :         GDrawSetCursor(gw,ct_watch);</span>
<span class="lineNum">    4329 </span><span class="lineNoCov">          0 :         namechange = SetFontName(gw,sf);</span>
<span class="lineNum">    4330 </span><span class="lineNoCov">          0 :         if ( namechange ) retitle_fv = true;</span>
<span class="lineNum">    4331 </span><span class="lineNoCov">          0 :         usexuid = GGadgetIsChecked(GWidgetGetControl(gw,CID_UseXUID));</span>
<span class="lineNum">    4332 </span><span class="lineNoCov">          0 :         useuniqueid = GGadgetIsChecked(GWidgetGetControl(gw,CID_UseUniqueID));</span>
<span class="lineNum">    4333 </span><span class="lineNoCov">          0 :         txt = _GGadgetGetTitle(GWidgetGetControl(gw,CID_XUID));</span>
<span class="lineNum">    4334 </span><span class="lineNoCov">          0 :         xuidchanged = (sf-&gt;xuid==NULL &amp;&amp; *txt!='\0') ||</span>
<span class="lineNum">    4335 </span><span class="lineNoCov">          0 :                         (sf-&gt;xuid!=NULL &amp;&amp; uc_strcmp(txt,sf-&gt;xuid)==0);</span>
<span class="lineNum">    4336 </span><span class="lineNoCov">          0 :         if ( namechange &amp;&amp;</span>
<span class="lineNum">    4337 </span><span class="lineNoCov">          0 :                 ((uniqueid!=0 &amp;&amp; uniqueid==sf-&gt;uniqueid &amp;&amp; useuniqueid) ||</span>
<span class="lineNum">    4338 </span><span class="lineNoCov">          0 :                  (sf-&gt;xuid!=NULL &amp;&amp; uc_strcmp(txt,sf-&gt;xuid)==0 &amp;&amp; usexuid) ||</span>
<span class="lineNum">    4339 </span><span class="lineNoCov">          0 :                  ttfuniqueidmatch(sf,d)) ) {</span>
<span class="lineNum">    4340 </span>            :             char *buts[4];
<span class="lineNum">    4341 </span>            :             int ans;
<span class="lineNum">    4342 </span><span class="lineNoCov">          0 :             buts[0] = _(&quot;Change&quot;);</span>
<span class="lineNum">    4343 </span><span class="lineNoCov">          0 :             buts[1] = _(&quot;Retain&quot;);</span>
<span class="lineNum">    4344 </span><span class="lineNoCov">          0 :             buts[2] = _(&quot;_Cancel&quot;);</span>
<span class="lineNum">    4345 </span><span class="lineNoCov">          0 :             buts[3] = NULL;</span>
<span class="lineNum">    4346 </span><span class="lineNoCov">          0 :             ans = gwwv_ask(_(&quot;Change UniqueID?&quot;),(const char **) buts,0,2,_(&quot;You have changed this font's name without changing the UniqueID (or XUID).\nThis is probably not a good idea, would you like me to\ngenerate a random new value?&quot;));</span>
<span class="lineNum">    4347 </span><span class="lineNoCov">          0 :             if ( ans==2 ) {</span>
<span class="lineNum">    4348 </span><span class="lineNoCov">          0 :                 GDrawSetCursor(gw,ct_pointer);</span>
<span class="lineNum">    4349 </span><span class="lineNoCov">          0 : return(true);</span>
<span class="lineNum">    4350 </span>            :             }
<span class="lineNum">    4351 </span><span class="lineNoCov">          0 :             if ( ans==0 ) {</span>
<span class="lineNum">    4352 </span><span class="lineNoCov">          0 :                 if ( uniqueid!=0 &amp;&amp; uniqueid==sf-&gt;uniqueid )</span>
<span class="lineNum">    4353 </span><span class="lineNoCov">          0 :                     uniqueid = 4000000 + (rand()&amp;0x3ffff);</span>
<span class="lineNum">    4354 </span><span class="lineNoCov">          0 :                 if ( sf-&gt;xuid!=NULL &amp;&amp; uc_strcmp(txt,sf-&gt;xuid)==0 ) {</span>
<span class="lineNum">    4355 </span><span class="lineNoCov">          0 :                     SFRandomChangeXUID(sf);</span>
<span class="lineNum">    4356 </span><span class="lineNoCov">          0 :                     xuidchanged = true;</span>
<span class="lineNum">    4357 </span>            :                 }
<span class="lineNum">    4358 </span>            :             }
<span class="lineNum">    4359 </span><span class="lineNoCov">          0 :             if ( ttfuniqueidmatch(sf,d))</span>
<span class="lineNum">    4360 </span><span class="lineNoCov">          0 :                 ttfuniqueidfixup(sf,d);</span>
<span class="lineNum">    4361 </span>            :         } else {
<span class="lineNum">    4362 </span><span class="lineNoCov">          0 :             free(sf-&gt;xuid);</span>
<span class="lineNum">    4363 </span><span class="lineNoCov">          0 :             sf-&gt;xuid = *txt=='\0'?NULL:cu_copy(txt);</span>
<span class="lineNum">    4364 </span>            :         }
<span class="lineNum">    4365 </span><span class="lineNoCov">          0 :         sf-&gt;use_xuid = usexuid;</span>
<span class="lineNum">    4366 </span><span class="lineNoCov">          0 :         sf-&gt;use_uniqueid = useuniqueid;</span>
<span class="lineNum">    4367 </span>            : 
<span class="lineNum">    4368 </span><span class="lineNoCov">          0 :         sf-&gt;sfntRevision = sfntRevision;</span>
<span class="lineNum">    4369 </span>            : 
<span class="lineNum">    4370 </span><span class="lineNoCov">          0 :         free(sf-&gt;woffMetadata);</span>
<span class="lineNum">    4371 </span><span class="lineNoCov">          0 :         sf-&gt;woffMetadata = NULL;</span>
<span class="lineNum">    4372 </span><span class="lineNoCov">          0 :         if ( *_GGadgetGetTitle(GWidgetGetControl(gw,CID_WoffMetadata))!='\0' )</span>
<span class="lineNum">    4373 </span><span class="lineNoCov">          0 :             sf-&gt;woffMetadata = GGadgetGetTitle8(GWidgetGetControl(gw,CID_WoffMetadata));</span>
<span class="lineNum">    4374 </span><span class="lineNoCov">          0 :         sf-&gt;woffMajor = woffMajor;</span>
<span class="lineNum">    4375 </span><span class="lineNoCov">          0 :         sf-&gt;woffMinor = woffMinor;</span>
<span class="lineNum">    4376 </span>            : 
<span class="lineNum">    4377 </span><span class="lineNoCov">          0 :         free(sf-&gt;gasp);</span>
<span class="lineNum">    4378 </span><span class="lineNoCov">          0 :         sf-&gt;gasp_cnt = gasprows;</span>
<span class="lineNum">    4379 </span><span class="lineNoCov">          0 :         if ( gasprows==0 )</span>
<span class="lineNum">    4380 </span><span class="lineNoCov">          0 :             sf-&gt;gasp = NULL;</span>
<span class="lineNum">    4381 </span>            :         else {
<span class="lineNum">    4382 </span><span class="lineNoCov">          0 :             sf-&gt;gasp = malloc(gasprows*sizeof(struct gasp));</span>
<span class="lineNum">    4383 </span><span class="lineNoCov">          0 :             sf-&gt;gasp_version = GGadgetGetFirstListSelectedItem(GWidgetGetControl(gw,CID_GaspVersion));</span>
<span class="lineNum">    4384 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;gasprows; ++i ) {</span>
<span class="lineNum">    4385 </span><span class="lineNoCov">          0 :                 sf-&gt;gasp[i].ppem = gasp[5*i].u.md_ival;</span>
<span class="lineNum">    4386 </span><span class="lineNoCov">          0 :                 if ( sf-&gt;gasp_version==0 )</span>
<span class="lineNum">    4387 </span><span class="lineNoCov">          0 :                     sf-&gt;gasp[i].flags = gasp[5*i+1].u.md_ival |</span>
<span class="lineNum">    4388 </span><span class="lineNoCov">          0 :                             (gasp[5*i+2].u.md_ival&lt;&lt;1);</span>
<span class="lineNum">    4389 </span>            :                 else
<span class="lineNum">    4390 </span><span class="lineNoCov">          0 :                     sf-&gt;gasp[i].flags = gasp[5*i+1].u.md_ival |</span>
<span class="lineNum">    4391 </span><span class="lineNoCov">          0 :                             (gasp[5*i+2].u.md_ival&lt;&lt;1) |</span>
<span class="lineNum">    4392 </span><span class="lineNoCov">          0 :                             (gasp[5*i+4].u.md_ival&lt;&lt;2) |</span>
<span class="lineNum">    4393 </span><span class="lineNoCov">          0 :                             (gasp[5*i+3].u.md_ival&lt;&lt;3);</span>
<span class="lineNum">    4394 </span>            :             }
<span class="lineNum">    4395 </span>            :         }
<span class="lineNum">    4396 </span><span class="lineNoCov">          0 :         sf-&gt;head_optimized_for_cleartype = GGadgetIsChecked(GWidgetGetControl(gw,CID_HeadClearType));</span>
<span class="lineNum">    4397 </span>            : 
<span class="lineNum">    4398 </span><span class="lineNoCov">          0 :         OtfNameListFree(sf-&gt;fontstyle_name);</span>
<span class="lineNum">    4399 </span><span class="lineNoCov">          0 :         sf-&gt;fontstyle_name = OtfNameFromStyleNames(GWidgetGetControl(gw,CID_StyleName));</span>
<span class="lineNum">    4400 </span><span class="lineNoCov">          0 :         sf-&gt;design_size = design_size;</span>
<span class="lineNum">    4401 </span><span class="lineNoCov">          0 :         sf-&gt;design_range_bottom = size_bottom;</span>
<span class="lineNum">    4402 </span><span class="lineNoCov">          0 :         sf-&gt;design_range_top = size_top;</span>
<span class="lineNum">    4403 </span><span class="lineNoCov">          0 :         sf-&gt;fontstyle_id = styleid;</span>
<span class="lineNum">    4404 </span>            : 
<span class="lineNum">    4405 </span><span class="lineNoCov">          0 :         txt = _GGadgetGetTitle(GWidgetGetControl(gw,CID_Notice));</span>
<span class="lineNum">    4406 </span><span class="lineNoCov">          0 :         free(sf-&gt;copyright); sf-&gt;copyright = cu_copy(txt);</span>
<span class="lineNum">    4407 </span><span class="lineNoCov">          0 :         txt = _GGadgetGetTitle(GWidgetGetControl(gw,CID_Comment));</span>
<span class="lineNum">    4408 </span><span class="lineNoCov">          0 :         free(sf-&gt;comments); sf-&gt;comments = u2utf8_copy(*txt?txt:NULL);</span>
<span class="lineNum">    4409 </span><span class="lineNoCov">          0 :         txt = _GGadgetGetTitle(GWidgetGetControl(gw,CID_FontLog));</span>
<span class="lineNum">    4410 </span><span class="lineNoCov">          0 :         free(sf-&gt;fontlog); sf-&gt;fontlog = u2utf8_copy(*txt?txt:NULL);</span>
<span class="lineNum">    4411 </span><span class="lineNoCov">          0 :         txt = _GGadgetGetTitle(GWidgetGetControl(gw,CID_DefBaseName));</span>
<span class="lineNum">    4412 </span><span class="lineNoCov">          0 :         if ( *txt=='\0' || GGadgetIsChecked(GWidgetGetControl(gw,CID_SameAsFontname)) )</span>
<span class="lineNum">    4413 </span><span class="lineNoCov">          0 :             txt = NULL;</span>
<span class="lineNum">    4414 </span><span class="lineNoCov">          0 :         free(sf-&gt;defbasefilename); sf-&gt;defbasefilename = u2utf8_copy(txt);</span>
<span class="lineNum">    4415 </span><span class="lineNoCov">          0 :         if ( sf-&gt;subfontcnt!=0 ) {</span>
<span class="lineNum">    4416 </span><span class="lineNoCov">          0 :             sf-&gt;cidversion = cidversion;</span>
<span class="lineNum">    4417 </span>            :         } else {
<span class="lineNum">    4418 </span><span class="lineNoCov">          0 :             txt = _GGadgetGetTitle(GWidgetGetControl(gw,CID_Version));</span>
<span class="lineNum">    4419 </span><span class="lineNoCov">          0 :             free(sf-&gt;version); sf-&gt;version = cu_copy(txt);</span>
<span class="lineNum">    4420 </span>            :         }
<span class="lineNum">    4421 </span><span class="lineNoCov">          0 :         fond = _GGadgetGetTitle(GWidgetGetControl(gw,CID_MacFOND));</span>
<span class="lineNum">    4422 </span><span class="lineNoCov">          0 :         free(sf-&gt;fondname); sf-&gt;fondname = NULL;</span>
<span class="lineNum">    4423 </span><span class="lineNoCov">          0 :         if ( *fond )</span>
<span class="lineNum">    4424 </span><span class="lineNoCov">          0 :             sf-&gt;fondname = cu_copy(fond);</span>
<span class="lineNum">    4425 </span><span class="lineNoCov">          0 :         sf-&gt;macstyle = mcs;</span>
<span class="lineNum">    4426 </span><span class="lineNoCov">          0 :         sf-&gt;italicangle = ia;</span>
<span class="lineNum">    4427 </span><span class="lineNoCov">          0 :         sf-&gt;upos = upos;</span>
<span class="lineNum">    4428 </span><span class="lineNoCov">          0 :         sf-&gt;uwidth = uwid;</span>
<span class="lineNum">    4429 </span><span class="lineNoCov">          0 :         sf-&gt;uniqueid = uniqueid;</span>
<span class="lineNum">    4430 </span><span class="lineNoCov">          0 :         sf-&gt;texdata = d-&gt;texdata;</span>
<span class="lineNum">    4431 </span><span class="lineNoCov">          0 :         if ( !GGadgetIsChecked(GWidgetGetControl(gw,CID_CPageDefault)) ) {</span>
<span class="lineNum">    4432 </span><span class="lineNoCov">          0 :             memcpy(sf-&gt;pfminfo.codepages,codepages,sizeof(codepages));</span>
<span class="lineNum">    4433 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.hascodepages = true;</span>
<span class="lineNum">    4434 </span>            :         } else
<span class="lineNum">    4435 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.hascodepages = false;</span>
<span class="lineNum">    4436 </span><span class="lineNoCov">          0 :         if ( !GGadgetIsChecked(GWidgetGetControl(gw,CID_URangesDefault)) ) {</span>
<span class="lineNum">    4437 </span><span class="lineNoCov">          0 :             memcpy(sf-&gt;pfminfo.unicoderanges,uranges,sizeof(uranges));</span>
<span class="lineNum">    4438 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.hasunicoderanges = true;</span>
<span class="lineNum">    4439 </span>            :         } else
<span class="lineNum">    4440 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.hasunicoderanges = false;</span>
<span class="lineNum">    4441 </span>            : 
<span class="lineNum">    4442 </span><span class="lineNoCov">          0 :         interp = GGadgetGetFirstListSelectedItem(GWidgetGetControl(gw,CID_Interpretation));</span>
<span class="lineNum">    4443 </span><span class="lineNoCov">          0 :         if ( interp==-1 ) sf-&gt;uni_interp = ui_none;</span>
<span class="lineNum">    4444 </span><span class="lineNoCov">          0 :         else sf-&gt;uni_interp = (intpt) interpretations[interp].userdata;</span>
<span class="lineNum">    4445 </span>            : 
<span class="lineNum">    4446 </span><span class="lineNoCov">          0 :         sf-&gt;for_new_glyphs = nl;</span>
<span class="lineNum">    4447 </span>            : 
<span class="lineNum">    4448 </span><span class="lineNoCov">          0 :         if ( sf-&gt;hasvmetrics!=vmetrics )</span>
<span class="lineNum">    4449 </span><span class="lineNoCov">          0 :             CVPaletteDeactivate();              /* Force a refresh later */</span>
<span class="lineNum">    4450 </span><span class="lineNoCov">          0 :         _sf = sf-&gt;cidmaster?sf-&gt;cidmaster:sf;</span>
<span class="lineNum">    4451 </span><span class="lineNoCov">          0 :         _sf-&gt;hasvmetrics = vmetrics;</span>
<span class="lineNum">    4452 </span><span class="lineNoCov">          0 :         for ( j=0; j&lt;_sf-&gt;subfontcnt; ++j )</span>
<span class="lineNum">    4453 </span><span class="lineNoCov">          0 :             _sf-&gt;subfonts[j]-&gt;hasvmetrics = vmetrics;</span>
<span class="lineNum">    4454 </span>            : 
<span class="lineNum">    4455 </span><span class="lineNoCov">          0 :         PSDictFree(sf-&gt;private);</span>
<span class="lineNum">    4456 </span><span class="lineNoCov">          0 :         sf-&gt;private = GFI_ParsePrivate(d);</span>
<span class="lineNum">    4457 </span>            : 
<span class="lineNum">    4458 </span><span class="lineNoCov">          0 :         if ( d-&gt;names_set )</span>
<span class="lineNum">    4459 </span><span class="lineNoCov">          0 :             StoreTTFNames(d);</span>
<span class="lineNum">    4460 </span><span class="lineNoCov">          0 :         StoreSSNames(d);</span>
<span class="lineNum">    4461 </span><span class="lineNoCov">          0 :         if ( d-&gt;ttf_set ) {</span>
<span class="lineNum">    4462 </span><span class="lineNoCov">          0 :             sf-&gt;os2_version = os2version;</span>
<span class="lineNum">    4463 </span><span class="lineNoCov">          0 :             sf-&gt;use_typo_metrics = GGadgetIsChecked(GWidgetGetControl(gw,CID_UseTypoMetrics));</span>
<span class="lineNum">    4464 </span><span class="lineNoCov">          0 :             sf-&gt;weight_width_slope_only = GGadgetIsChecked(GWidgetGetControl(gw,CID_WeightWidthSlopeOnly));</span>
<span class="lineNum">    4465 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.weight = weight;</span>
<span class="lineNum">    4466 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.width = GGadgetGetFirstListSelectedItem(GWidgetGetControl(gw,CID_WidthClass))+1;</span>
<span class="lineNum">    4467 </span><span class="lineNoCov">          0 :             pfmfam = GGadgetGetListItemSelected(GWidgetGetControl(gw,CID_PFMFamily));</span>
<span class="lineNum">    4468 </span><span class="lineNoCov">          0 :             if ( pfmfam!=NULL )</span>
<span class="lineNum">    4469 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.pfmfamily = (intpt) (pfmfam-&gt;userdata);</span>
<span class="lineNum">    4470 </span>            :             else
<span class="lineNum">    4471 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.pfmfamily = 0x11;</span>
<span class="lineNum">    4472 </span><span class="lineNoCov">          0 :             ibmfam = GGadgetGetListItemSelected(GWidgetGetControl(gw,CID_IBMFamily));</span>
<span class="lineNum">    4473 </span><span class="lineNoCov">          0 :             if ( ibmfam!=NULL )</span>
<span class="lineNum">    4474 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_family_class = (intpt) (ibmfam-&gt;userdata);</span>
<span class="lineNum">    4475 </span>            :             else
<span class="lineNum">    4476 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_family_class = 0x00;</span>
<span class="lineNum">    4477 </span><span class="lineNoCov">          0 :         stylemap = GGadgetGetListItemSelected(GWidgetGetControl(gw,CID_StyleMap));</span>
<span class="lineNum">    4478 </span><span class="lineNoCov">          0 :         if ( stylemap!=NULL )</span>
<span class="lineNum">    4479 </span><span class="lineNoCov">          0 :         sf-&gt;pfminfo.stylemap = (intpt) (stylemap-&gt;userdata);</span>
<span class="lineNum">    4480 </span>            :         else
<span class="lineNum">    4481 </span><span class="lineNoCov">          0 :         sf-&gt;pfminfo.stylemap = -1;</span>
<span class="lineNum">    4482 </span><span class="lineNoCov">          0 :             memcpy(sf-&gt;pfminfo.os2_vendor,os2_vendor,sizeof(os2_vendor));</span>
<span class="lineNum">    4483 </span><span class="lineNoCov">          0 :             fstype = GGadgetGetListItemSelected(GWidgetGetControl(gw,CID_FSType));</span>
<span class="lineNum">    4484 </span><span class="lineNoCov">          0 :             if ( fstype!=NULL )</span>
<span class="lineNum">    4485 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.fstype = (intpt) (fstype-&gt;userdata);</span>
<span class="lineNum">    4486 </span>            :             else
<span class="lineNum">    4487 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.fstype = 0xc;</span>
<span class="lineNum">    4488 </span><span class="lineNoCov">          0 :             if ( GGadgetIsChecked(GWidgetGetControl(gw,CID_NoSubsetting)))</span>
<span class="lineNum">    4489 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.fstype |=0x100;</span>
<span class="lineNum">    4490 </span><span class="lineNoCov">          0 :             if ( GGadgetIsChecked(GWidgetGetControl(gw,CID_OnlyBitmaps)))</span>
<span class="lineNum">    4491 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.fstype |=0x200;</span>
<span class="lineNum">    4492 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;10; ++i )</span>
<span class="lineNum">    4493 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.panose[i] = (intpt) (GGadgetGetListItemSelected(GWidgetGetControl(gw,CID_PanFamily+i))-&gt;userdata);</span>
<span class="lineNum">    4494 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.panose_set = !GGadgetIsChecked(GWidgetGetControl(gw,CID_PanDefault));</span>
<span class="lineNum">    4495 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.os2_typolinegap = tlinegap;</span>
<span class="lineNum">    4496 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.linegap = linegap;</span>
<span class="lineNum">    4497 </span><span class="lineNoCov">          0 :             if ( vmetrics )</span>
<span class="lineNum">    4498 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.vlinegap = vlinegap;</span>
<span class="lineNum">    4499 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.os2_winascent = winascent;</span>
<span class="lineNum">    4500 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.os2_windescent = windescent;</span>
<span class="lineNum">    4501 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.winascent_add = winaoff;</span>
<span class="lineNum">    4502 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.windescent_add = windoff;</span>
<span class="lineNum">    4503 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.os2_typoascent = tascent;</span>
<span class="lineNum">    4504 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.os2_typodescent = tdescent;</span>
<span class="lineNum">    4505 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.typoascent_add = taoff;</span>
<span class="lineNum">    4506 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.typodescent_add = tdoff;</span>
<span class="lineNum">    4507 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.hhead_ascent = hascent;</span>
<span class="lineNum">    4508 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.hhead_descent = hdescent;</span>
<span class="lineNum">    4509 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.hheadascent_add = haoff;</span>
<span class="lineNum">    4510 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.hheaddescent_add = hdoff;</span>
<span class="lineNum">    4511 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.os2_capheight = capheight;</span>
<span class="lineNum">    4512 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.os2_xheight = xheight;</span>
<span class="lineNum">    4513 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.pfmset = true;</span>
<span class="lineNum">    4514 </span>            : 
<span class="lineNum">    4515 </span><span class="lineNoCov">          0 :             sf-&gt;pfminfo.subsuper_set = !GGadgetIsChecked(GWidgetGetControl(gw,CID_SubSuperDefault));</span>
<span class="lineNum">    4516 </span><span class="lineNoCov">          0 :             if ( sf-&gt;pfminfo.subsuper_set ) {</span>
<span class="lineNum">    4517 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_subxsize = subs[0];</span>
<span class="lineNum">    4518 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_subysize = subs[1];</span>
<span class="lineNum">    4519 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_subxoff = subs[2];</span>
<span class="lineNum">    4520 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_subyoff = subs[3];</span>
<span class="lineNum">    4521 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_supxsize = super[0];</span>
<span class="lineNum">    4522 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_supysize = super[1];</span>
<span class="lineNum">    4523 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_supxoff = super[2];</span>
<span class="lineNum">    4524 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_supyoff = super[3];</span>
<span class="lineNum">    4525 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_strikeysize = strike[0];</span>
<span class="lineNum">    4526 </span><span class="lineNoCov">          0 :                 sf-&gt;pfminfo.os2_strikeypos = strike[1];</span>
<span class="lineNum">    4527 </span>            :             }
<span class="lineNum">    4528 </span>            :         }
<span class="lineNum">    4529 </span>            :         /* must come after all scaleable fields (linegap, etc.) */
<span class="lineNum">    4530 </span><span class="lineNoCov">          0 :         if ( as!=sf-&gt;ascent || des!=sf-&gt;descent ) {</span>
<span class="lineNum">    4531 </span><span class="lineNoCov">          0 :             if ( as+des != sf-&gt;ascent+sf-&gt;descent &amp;&amp; GGadgetIsChecked(GWidgetGetControl(gw,CID_Scale)) )</span>
<span class="lineNum">    4532 </span><span class="lineNoCov">          0 :                 SFScaleToEm(sf,as,des);</span>
<span class="lineNum">    4533 </span>            :             else {
<span class="lineNum">    4534 </span><span class="lineNoCov">          0 :                 sf-&gt;ascent = as;</span>
<span class="lineNum">    4535 </span><span class="lineNoCov">          0 :                 sf-&gt;descent = des;</span>
<span class="lineNum">    4536 </span>            :             }
<span class="lineNum">    4537 </span><span class="lineNoCov">          0 :             BDFsSetAsDs(sf);</span>
<span class="lineNum">    4538 </span><span class="lineNoCov">          0 :             reformat_fv = true;</span>
<span class="lineNum">    4539 </span><span class="lineNoCov">          0 :             CIDMasterAsDes(sf);</span>
<span class="lineNum">    4540 </span>            :         }
<span class="lineNum">    4541 </span><span class="lineNoCov">          0 :         GFI_SetLayers(d);</span>
<span class="lineNum">    4542 </span><span class="lineNoCov">          0 :         if ( guideorder2!=sf-&gt;grid.order2 ) {</span>
<span class="lineNum">    4543 </span><span class="lineNoCov">          0 :             if ( guideorder2 )</span>
<span class="lineNum">    4544 </span><span class="lineNoCov">          0 :                 SFConvertGridToOrder2(sf);</span>
<span class="lineNum">    4545 </span>            :             else
<span class="lineNum">    4546 </span><span class="lineNoCov">          0 :                 SFConvertGridToOrder3(sf);</span>
<span class="lineNum">    4547 </span>            :         }
<span class="lineNum">    4548 </span><span class="lineNoCov">          0 :         GFI_ApplyLookupChanges(d);</span>
<span class="lineNum">    4549 </span><span class="lineNoCov">          0 :         if ( retitle_fv )</span>
<span class="lineNum">    4550 </span><span class="lineNoCov">          0 :             FVSetTitles(sf);</span>
<span class="lineNum">    4551 </span><span class="lineNoCov">          0 :         if ( reformat_fv || was_ml!=sf-&gt;multilayer || was_stroke!=sf-&gt;strokedfont )</span>
<span class="lineNum">    4552 </span><span class="lineNoCov">          0 :             FontViewReformatAll(sf);</span>
<span class="lineNum">    4553 </span><span class="lineNoCov">          0 :         sf-&gt;changed = true;</span>
<span class="lineNum">    4554 </span><span class="lineNoCov">          0 :         SFSetModTime(sf);</span>
<span class="lineNum">    4555 </span><span class="lineNoCov">          0 :         sf-&gt;changed_since_autosave = true;</span>
<span class="lineNum">    4556 </span><span class="lineNoCov">          0 :         sf-&gt;changed_since_xuidchanged = !xuidchanged;</span>
<span class="lineNum">    4557 </span>            :         /* Just in case they changed the blue values and we are showing blues */
<span class="lineNum">    4558 </span>            :         /*  in outline views... */
<span class="lineNum">    4559 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;sf-&gt;glyphcnt; ++i ) if ( sf-&gt;glyphs[i]!=NULL ) {</span>
<span class="lineNum">    4560 </span>            :             CharView *cv;
<span class="lineNum">    4561 </span><span class="lineNoCov">          0 :             for ( cv = (CharView *) (sf-&gt;glyphs[i]-&gt;views); cv!=NULL; cv=(CharView *) (cv-&gt;b.next) ) {</span>
<span class="lineNum">    4562 </span><span class="lineNoCov">          0 :                 cv-&gt;back_img_out_of_date = true;</span>
<span class="lineNum">    4563 </span><span class="lineNoCov">          0 :                 GDrawRequestExpose(cv-&gt;v,NULL,false);</span>
<span class="lineNum">    4564 </span>            :             }
<span class="lineNum">    4565 </span>            :         }
<span class="lineNum">    4566 </span><span class="lineNoCov">          0 :         MacFeatListFree(sf-&gt;features);</span>
<span class="lineNum">    4567 </span><span class="lineNoCov">          0 :         sf-&gt;features = GGadgetGetUserData(GWidgetGetControl(d-&gt;gw,CID_Features));</span>
<span class="lineNum">    4568 </span><span class="lineNoCov">          0 :         last_aspect = d-&gt;old_aspect;</span>
<span class="lineNum">    4569 </span>            : 
<span class="lineNum">    4570 </span>            :         /* Class 0 is unused */
<span class="lineNum">    4571 </span><span class="lineNoCov">          0 :         MarkClassFree(sf-&gt;mark_class_cnt,sf-&gt;mark_classes,sf-&gt;mark_class_names);</span>
<span class="lineNum">    4572 </span><span class="lineNoCov">          0 :         sf-&gt;mark_class_cnt = mc_rows + 1;</span>
<span class="lineNum">    4573 </span><span class="lineNoCov">          0 :         sf-&gt;mark_classes     = malloc((mc_rows+1)*sizeof(char *));</span>
<span class="lineNum">    4574 </span><span class="lineNoCov">          0 :         sf-&gt;mark_class_names = malloc((mc_rows+1)*sizeof(char *));</span>
<span class="lineNum">    4575 </span><span class="lineNoCov">          0 :         sf-&gt;mark_classes[0] = sf-&gt;mark_class_names[0] = NULL;</span>
<span class="lineNum">    4576 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;mc_rows; ++i ) {</span>
<span class="lineNum">    4577 </span><span class="lineNoCov">          0 :             sf-&gt;mark_class_names[i+1] = copy(markclasses[2*i+0].u.md_str);</span>
<span class="lineNum">    4578 </span><span class="lineNoCov">          0 :             sf-&gt;mark_classes[i+1]     = GlyphNameListDeUnicode(markclasses[2*i+1].u.md_str);</span>
<span class="lineNum">    4579 </span>            :         }
<span class="lineNum">    4580 </span>            : 
<span class="lineNum">    4581 </span>            :         /* Set 0 is used */
<span class="lineNum">    4582 </span><span class="lineNoCov">          0 :         MarkSetFree(sf-&gt;mark_set_cnt,sf-&gt;mark_sets,sf-&gt;mark_set_names);</span>
<span class="lineNum">    4583 </span><span class="lineNoCov">          0 :         sf-&gt;mark_set_cnt = ms_rows;</span>
<span class="lineNum">    4584 </span><span class="lineNoCov">          0 :         sf-&gt;mark_sets      = malloc((ms_rows)*sizeof(char *));</span>
<span class="lineNum">    4585 </span><span class="lineNoCov">          0 :         sf-&gt;mark_set_names = malloc((ms_rows)*sizeof(char *));</span>
<span class="lineNum">    4586 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;ms_rows; ++i ) {</span>
<span class="lineNum">    4587 </span><span class="lineNoCov">          0 :             sf-&gt;mark_set_names[i] = copy(marksets[2*i+0].u.md_str);</span>
<span class="lineNum">    4588 </span><span class="lineNoCov">          0 :             sf-&gt;mark_sets[i]      = GlyphNameListDeUnicode(marksets[2*i+1].u.md_str);</span>
<span class="lineNum">    4589 </span>            :         }
<span class="lineNum">    4590 </span>            : 
<span class="lineNum">    4591 </span><span class="lineNoCov">          0 :         GFI_Close(d);</span>
<span class="lineNum">    4592 </span>            : 
<span class="lineNum">    4593 </span><span class="lineNoCov">          0 :         SFReplaceFontnameBDFProps(sf);</span>
<span class="lineNum">    4594 </span><span class="lineNoCov">          0 :         MVReFeatureAll(sf);</span>
<span class="lineNum">    4595 </span><span class="lineNoCov">          0 :         MVReKernAll(sf);</span>
<span class="lineNum">    4596 </span>            : 
<span class="lineNum">    4597 </span><span class="lineNoCov">          0 :         collabclient_sendFontLevelRedo( sf );</span>
<span class="lineNum">    4598 </span>            : 
<span class="lineNum">    4599 </span>            :     }
<span class="lineNum">    4600 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="4601"><span class="lineNum">    4601 </span>            : }</a>
<span class="lineNum">    4602 </span>            : 
<span class="lineNum">    4603 </span><span class="lineNoCov">          0 : static void GFI_AsDsLab(struct gfi_data *d, int cid, int onlylabel) {</span>
<span class="lineNum">    4604 </span><span class="lineNoCov">          0 :     int isoffset = GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,cid));</span>
<span class="lineNum">    4605 </span>            :     DBounds b;
<span class="lineNum">    4606 </span>            :     int ocid, labcid;
<span class="lineNum">    4607 </span>            :     double val;
<span class="lineNum">    4608 </span>            :     char buf[40];
<span class="lineNum">    4609 </span>            :     char *offt, *baret;
<span class="lineNum">    4610 </span><span class="lineNoCov">          0 :     int ismax=0;</span>
<span class="lineNum">    4611 </span>            :     unichar_t *end;
<span class="lineNum">    4612 </span>            : 
<span class="lineNum">    4613 </span><span class="lineNoCov">          0 :     switch ( cid ) {</span>
<span class="lineNum">    4614 </span>            :       case CID_WinAscentIsOff:
<span class="lineNum">    4615 </span><span class="lineNoCov">          0 :         offt = _(&quot;Win Ascent Offset:&quot;); baret = _(&quot;Win Ascent:&quot;);</span>
<span class="lineNum">    4616 </span><span class="lineNoCov">          0 :         ocid = CID_WinAscent; labcid = CID_WinAscentLab;</span>
<span class="lineNum">    4617 </span><span class="lineNoCov">          0 :         ismax = true;</span>
<span class="lineNum">    4618 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    4619 </span>            :       case CID_WinDescentIsOff:
<span class="lineNum">    4620 </span><span class="lineNoCov">          0 :         offt = _(&quot;Win Descent Offset:&quot;); baret = _(&quot;Win Descent:&quot;);</span>
<span class="lineNum">    4621 </span><span class="lineNoCov">          0 :         ocid = CID_WinDescent; labcid = CID_WinDescentLab;</span>
<span class="lineNum">    4622 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    4623 </span>            :       case CID_TypoAscentIsOff:
<span class="lineNum">    4624 </span><span class="lineNoCov">          0 :         offt = _(&quot;Typo Ascent Offset:&quot;); baret = _(&quot;Typo Ascent:&quot;);</span>
<span class="lineNum">    4625 </span><span class="lineNoCov">          0 :         ocid = CID_TypoAscent; labcid = CID_TypoAscentLab;</span>
<span class="lineNum">    4626 </span><span class="lineNoCov">          0 :         ismax = true;</span>
<span class="lineNum">    4627 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    4628 </span>            :       case CID_TypoDescentIsOff:
<span class="lineNum">    4629 </span><span class="lineNoCov">          0 :         offt = _(&quot;Typo Descent Offset:&quot;); baret = _(&quot;Typo Descent:&quot;);</span>
<span class="lineNum">    4630 </span><span class="lineNoCov">          0 :         ocid = CID_TypoDescent; labcid = CID_TypoDescentLab;</span>
<span class="lineNum">    4631 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    4632 </span>            :       case CID_HHeadAscentIsOff:
<span class="lineNum">    4633 </span><span class="lineNoCov">          0 :         offt = _(&quot;HHead Ascent Offset:&quot;); baret = _(&quot;HHead Ascent:&quot;);</span>
<span class="lineNum">    4634 </span><span class="lineNoCov">          0 :         ocid = CID_HHeadAscent; labcid = CID_HHeadAscentLab;</span>
<span class="lineNum">    4635 </span><span class="lineNoCov">          0 :         ismax = true;</span>
<span class="lineNum">    4636 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    4637 </span>            :       case CID_HHeadDescentIsOff:
<span class="lineNum">    4638 </span><span class="lineNoCov">          0 :         offt = _(&quot;HHead Descent Offset:&quot;); baret = _(&quot;HHead Descent:&quot;);</span>
<span class="lineNum">    4639 </span><span class="lineNoCov">          0 :         ocid = CID_HHeadDescent; labcid = CID_HHeadDescentLab;</span>
<span class="lineNum">    4640 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    4641 </span>            :       default:
<span class="lineNum">    4642 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    4643 </span>            :     }
<span class="lineNum">    4644 </span>            : 
<span class="lineNum">    4645 </span><span class="lineNoCov">          0 :     GGadgetSetTitle8(GWidgetGetControl(d-&gt;gw,labcid),</span>
<span class="lineNum">    4646 </span>            :             isoffset?offt:baret);
<span class="lineNum">    4647 </span><span class="lineNoCov">          0 :     if ( onlylabel )</span>
<span class="lineNum">    4648 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    4649 </span>            : 
<span class="lineNum">    4650 </span><span class="lineNoCov">          0 :     if ( cid == CID_TypoAscentIsOff ) {</span>
<span class="lineNum">    4651 </span><span class="lineNoCov">          0 :         const unichar_t *as = _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Ascent));</span>
<span class="lineNum">    4652 </span><span class="lineNoCov">          0 :         double av=u_strtod(as,&amp;end);</span>
<span class="lineNum">    4653 </span><span class="lineNoCov">          0 :         b.maxy = *end=='\0' ? av : d-&gt;sf-&gt;ascent;</span>
<span class="lineNum">    4654 </span><span class="lineNoCov">          0 :     } else if ( cid == CID_TypoDescentIsOff ) {</span>
<span class="lineNum">    4655 </span><span class="lineNoCov">          0 :         const unichar_t *ds = _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Descent));</span>
<span class="lineNum">    4656 </span><span class="lineNoCov">          0 :         double dv=u_strtod(ds,&amp;end);</span>
<span class="lineNum">    4657 </span><span class="lineNoCov">          0 :         b.miny = *end=='\0' ? -dv : -d-&gt;sf-&gt;descent;</span>
<span class="lineNum">    4658 </span>            :     } else {
<span class="lineNum">    4659 </span><span class="lineNoCov">          0 :         CIDLayerFindBounds(d-&gt;sf,ly_fore,&amp;b);</span>
<span class="lineNum">    4660 </span><span class="lineNoCov">          0 :         if ( cid == CID_WinDescentIsOff ) b.miny = -b.miny;</span>
<span class="lineNum">    4661 </span>            :     }
<span class="lineNum">    4662 </span>            : 
<span class="lineNum">    4663 </span><span class="lineNoCov">          0 :     val = u_strtod(_GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,ocid)),NULL);</span>
<span class="lineNum">    4664 </span><span class="lineNoCov">          0 :     if ( isoffset )</span>
<span class="lineNum">    4665 </span><span class="lineNoCov">          0 :         sprintf( buf,&quot;%g&quot;,rint( val-(ismax ? b.maxy : b.miny)) );</span>
<span class="lineNum">    4666 </span>            :     else
<span class="lineNum">    4667 </span><span class="lineNoCov">          0 :         sprintf( buf,&quot;%g&quot;,rint( val+(ismax ? b.maxy : b.miny)) );</span>
<span class="lineNum">    4668 </span><span class="lineNoCov">          0 :     GGadgetSetTitle8(GWidgetGetControl(d-&gt;gw,ocid),buf);</span>
<a name="4669"><span class="lineNum">    4669 </span>            : }</a>
<span class="lineNum">    4670 </span>            : 
<span class="lineNum">    4671 </span><span class="lineNoCov">          0 : static int GFI_AsDesIsOff(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    4672 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    4673 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    4674 </span><span class="lineNoCov">          0 :         GFI_AsDsLab(d,GGadgetGetCid(g),false);</span>
<span class="lineNum">    4675 </span>            :     }
<span class="lineNum">    4676 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="4677"><span class="lineNum">    4677 </span>            : }</a>
<span class="lineNum">    4678 </span>            : 
<span class="lineNum">    4679 </span><span class="lineNoCov">          0 : static void _GFI_PanoseDefault(struct gfi_data *d) {</span>
<span class="lineNum">    4680 </span>            :     int i;
<span class="lineNum">    4681 </span><span class="lineNoCov">          0 :     int isdefault = GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_PanDefault));</span>
<span class="lineNum">    4682 </span>            : 
<span class="lineNum">    4683 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;10; ++i ) {</span>
<span class="lineNum">    4684 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(d-&gt;gw,CID_PanFamily+i),!isdefault);</span>
<span class="lineNum">    4685 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(d-&gt;gw,CID_PanFamilyLab+i),!isdefault);</span>
<span class="lineNum">    4686 </span>            :     }
<span class="lineNum">    4687 </span><span class="lineNoCov">          0 :     if ( isdefault ) {</span>
<span class="lineNum">    4688 </span><span class="lineNoCov">          0 :         char *n = cu_copy(_GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Fontname)));</span>
<span class="lineNum">    4689 </span>            :         struct pfminfo info;
<span class="lineNum">    4690 </span>            :         int old1, old2;
<span class="lineNum">    4691 </span><span class="lineNoCov">          0 :         memset(&amp;info,0,sizeof(info));</span>
<span class="lineNum">    4692 </span><span class="lineNoCov">          0 :         old1 = d-&gt;sf-&gt;pfminfo.pfmset; old2 = d-&gt;sf-&gt;pfminfo.panose_set;</span>
<span class="lineNum">    4693 </span><span class="lineNoCov">          0 :         d-&gt;sf-&gt;pfminfo.pfmset = false; d-&gt;sf-&gt;pfminfo.panose_set = false;</span>
<span class="lineNum">    4694 </span><span class="lineNoCov">          0 :         SFDefaultOS2Info(&amp;info,d-&gt;sf,n);</span>
<span class="lineNum">    4695 </span><span class="lineNoCov">          0 :         d-&gt;sf-&gt;pfminfo.pfmset = old1; d-&gt;sf-&gt;pfminfo.panose_set = old2;</span>
<span class="lineNum">    4696 </span><span class="lineNoCov">          0 :         free(n);</span>
<span class="lineNum">    4697 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;10; ++i )</span>
<span class="lineNum">    4698 </span><span class="lineNoCov">          0 :             GGadgetSelectOneListItem(GWidgetGetControl(d-&gt;gw,CID_PanFamily+i),info.panose[i]);</span>
<span class="lineNum">    4699 </span>            :     }
<a name="4700"><span class="lineNum">    4700 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    4701 </span>            : 
<span class="lineNum">    4702 </span><span class="lineNoCov">          0 : static int GFI_PanoseDefault(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    4703 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    4704 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    4705 </span><span class="lineNoCov">          0 :         _GFI_PanoseDefault(d);</span>
<span class="lineNum">    4706 </span>            :     }
<span class="lineNum">    4707 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="4708"><span class="lineNum">    4708 </span>            : }</a>
<span class="lineNum">    4709 </span>            : 
<span class="lineNum">    4710 </span><span class="lineNoCov">          0 : static int GFI_ShowPanoseDocs(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    4711 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    4712 </span><span class="lineNoCov">          0 :         help(&quot;http://panose.com/&quot;);</span>
<span class="lineNum">    4713 </span>            :     }
<span class="lineNum">    4714 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="4715"><span class="lineNum">    4715 </span>            : }</a>
<span class="lineNum">    4716 </span>            : 
<span class="lineNum">    4717 </span><span class="lineNoCov">          0 : static void GFI_SetPanoseLists(struct gfi_data *d) {</span>
<span class="lineNum">    4718 </span><span class="lineNoCov">          0 :     int kind = GGadgetGetFirstListSelectedItem(GWidgetGetControl(d-&gt;gw,CID_PanFamily));</span>
<span class="lineNum">    4719 </span>            :     int i;
<span class="lineNum">    4720 </span>            : 
<span class="lineNum">    4721 </span><span class="lineNoCov">          0 :     if ( kind&gt;=0 &amp;&amp; kind!=d-&gt;last_panose_family ) {</span>
<span class="lineNum">    4722 </span><span class="lineNoCov">          0 :         if ( kind&gt;6 ) kind=6;        /* No data for any kinds beyond 5, so anything bigger is just undefined, and that's 6 */</span>
<span class="lineNum">    4723 </span><span class="lineNoCov">          0 :         for ( i=1; i&lt;10; ++i ) {</span>
<span class="lineNum">    4724 </span><span class="lineNoCov">          0 :             GGadget *lab = GWidgetGetControl(d-&gt;gw,CID_PanFamilyLab+i);</span>
<span class="lineNum">    4725 </span><span class="lineNoCov">          0 :             GGadget *list = GWidgetGetControl(d-&gt;gw,CID_PanFamily+i);</span>
<span class="lineNum">    4726 </span><span class="lineNoCov">          0 :             int temp = GGadgetGetFirstListSelectedItem(list);</span>
<span class="lineNum">    4727 </span><span class="lineNoCov">          0 :             if ( kind==5 &amp;&amp; i==2 ) temp=1;</span>
<span class="lineNum">    4728 </span><span class="lineNoCov">          0 :             if ( temp&gt;=16 &amp;&amp; (kind!=4 || i!=5)) temp=15;</span>
<span class="lineNum">    4729 </span><span class="lineNoCov">          0 :             else if ( temp&gt;16 ) temp=16;     /* Decorative.serifvar has 17 elements */</span>
<span class="lineNum">    4730 </span><span class="lineNoCov">          0 :             GGadgetSetTitle8WithMn(lab,panoses[kind][i-1].name);</span>
<span class="lineNum">    4731 </span><span class="lineNoCov">          0 :             GGadgetSetList(list,GTextInfoArrayFromList(panoses[kind][i-1].variants,NULL),false);</span>
<span class="lineNum">    4732 </span><span class="lineNoCov">          0 :             GGadgetSelectOneListItem(list,temp);</span>
<span class="lineNum">    4733 </span>            :         }
<span class="lineNum">    4734 </span>            :     }
<a name="4735"><span class="lineNum">    4735 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    4736 </span>            : 
<span class="lineNum">    4737 </span><span class="lineNoCov">          0 : static int GFI_ChangePanoseFamily(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    4738 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_listselected ) {</span>
<span class="lineNum">    4739 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    4740 </span><span class="lineNoCov">          0 :         GFI_SetPanoseLists(d);</span>
<span class="lineNum">    4741 </span>            :     }
<span class="lineNum">    4742 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="4743"><span class="lineNum">    4743 </span>            : }</a>
<span class="lineNum">    4744 </span>            : 
<span class="lineNum">    4745 </span><span class="lineNoCov">          0 : static void GFI_SubSuperSet(struct gfi_data *d, struct pfminfo *info) {</span>
<span class="lineNum">    4746 </span>            :     char buffer[40];
<span class="lineNum">    4747 </span>            :     unichar_t ubuf[40];
<span class="lineNum">    4748 </span>            : 
<span class="lineNum">    4749 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info-&gt;os2_subxsize );</span>
<span class="lineNum">    4750 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4751 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_SubXSize),ubuf);</span>
<span class="lineNum">    4752 </span>            : 
<span class="lineNum">    4753 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info-&gt;os2_subysize );</span>
<span class="lineNum">    4754 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4755 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_SubYSize),ubuf);</span>
<span class="lineNum">    4756 </span>            : 
<span class="lineNum">    4757 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info-&gt;os2_subxoff );</span>
<span class="lineNum">    4758 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4759 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_SubXOffset),ubuf);</span>
<span class="lineNum">    4760 </span>            : 
<span class="lineNum">    4761 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info-&gt;os2_subyoff );</span>
<span class="lineNum">    4762 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4763 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_SubYOffset),ubuf);</span>
<span class="lineNum">    4764 </span>            : 
<span class="lineNum">    4765 </span>            : 
<span class="lineNum">    4766 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info-&gt;os2_supxsize );</span>
<span class="lineNum">    4767 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4768 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_SuperXSize),ubuf);</span>
<span class="lineNum">    4769 </span>            : 
<span class="lineNum">    4770 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info-&gt;os2_supysize );</span>
<span class="lineNum">    4771 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4772 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_SuperYSize),ubuf);</span>
<span class="lineNum">    4773 </span>            : 
<span class="lineNum">    4774 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info-&gt;os2_supxoff );</span>
<span class="lineNum">    4775 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4776 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_SuperXOffset),ubuf);</span>
<span class="lineNum">    4777 </span>            : 
<span class="lineNum">    4778 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info-&gt;os2_supyoff );</span>
<span class="lineNum">    4779 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4780 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_SuperYOffset),ubuf);</span>
<span class="lineNum">    4781 </span>            : 
<span class="lineNum">    4782 </span>            : 
<span class="lineNum">    4783 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info-&gt;os2_strikeysize );</span>
<span class="lineNum">    4784 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4785 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_StrikeoutSize),ubuf);</span>
<span class="lineNum">    4786 </span>            : 
<span class="lineNum">    4787 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info-&gt;os2_strikeypos );</span>
<span class="lineNum">    4788 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4789 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_StrikeoutPos),ubuf);</span>
<a name="4790"><span class="lineNum">    4790 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    4791 </span>            : 
<span class="lineNum">    4792 </span><span class="lineNoCov">          0 : static void _GFI_SubSuperDefault(struct gfi_data *d) {</span>
<span class="lineNum">    4793 </span>            :     int i;
<span class="lineNum">    4794 </span><span class="lineNoCov">          0 :     int isdefault = GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_SubSuperDefault));</span>
<span class="lineNum">    4795 </span>            : 
<span class="lineNum">    4796 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;10; ++i )</span>
<span class="lineNum">    4797 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(d-&gt;gw,CID_SubXSize+i),!isdefault);</span>
<span class="lineNum">    4798 </span><span class="lineNoCov">          0 :     if ( isdefault ) {</span>
<span class="lineNum">    4799 </span><span class="lineNoCov">          0 :         const unichar_t *as = _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Ascent));</span>
<span class="lineNum">    4800 </span><span class="lineNoCov">          0 :         const unichar_t *ds = _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Descent));</span>
<span class="lineNum">    4801 </span><span class="lineNoCov">          0 :         const unichar_t *ia = _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Descent));</span>
<span class="lineNum">    4802 </span>            :         unichar_t *aend, *dend, *iend;
<span class="lineNum">    4803 </span><span class="lineNoCov">          0 :         double av=u_strtod(as,&amp;aend),dv=u_strtod(ds,&amp;dend),iav=u_strtod(ia,&amp;iend);</span>
<span class="lineNum">    4804 </span>            :         struct pfminfo info;
<span class="lineNum">    4805 </span><span class="lineNoCov">          0 :         if ( *aend!='\0' ) av = d-&gt;sf-&gt;ascent;</span>
<span class="lineNum">    4806 </span><span class="lineNoCov">          0 :         if ( *dend!='\0' ) dv = d-&gt;sf-&gt;descent;</span>
<span class="lineNum">    4807 </span><span class="lineNoCov">          0 :         if ( *iend!='\0' ) iav = d-&gt;sf-&gt;italicangle;</span>
<span class="lineNum">    4808 </span><span class="lineNoCov">          0 :         memset(&amp;info,0,sizeof(info));</span>
<span class="lineNum">    4809 </span><span class="lineNoCov">          0 :         SFDefaultOS2SubSuper(&amp;info,(int) (dv+av), iav);</span>
<span class="lineNum">    4810 </span><span class="lineNoCov">          0 :         GFI_SubSuperSet(d,&amp;info);</span>
<span class="lineNum">    4811 </span>            :     }
<a name="4812"><span class="lineNum">    4812 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    4813 </span>            : 
<span class="lineNum">    4814 </span><span class="lineNoCov">          0 : static int GFI_SubSuperDefault(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    4815 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    4816 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    4817 </span><span class="lineNoCov">          0 :         _GFI_SubSuperDefault(d);</span>
<span class="lineNum">    4818 </span>            :     }
<span class="lineNum">    4819 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="4820"><span class="lineNum">    4820 </span>            : }</a>
<span class="lineNum">    4821 </span>            : 
<span class="lineNum">    4822 </span><span class="lineNoCov">          0 : static void TTFSetup(struct gfi_data *d) {</span>
<span class="lineNum">    4823 </span>            :     struct pfminfo info;
<span class="lineNum">    4824 </span>            :     char buffer[10]; unichar_t ubuf[10];
<span class="lineNum">    4825 </span>            :     int i, lg, vlg, tlg;
<span class="lineNum">    4826 </span><span class="lineNoCov">          0 :     const unichar_t *as = _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Ascent));</span>
<span class="lineNum">    4827 </span><span class="lineNoCov">          0 :     const unichar_t *ds = _GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Descent));</span>
<span class="lineNum">    4828 </span>            :     unichar_t *aend, *dend;
<span class="lineNum">    4829 </span><span class="lineNoCov">          0 :     double av=u_strtod(as,&amp;aend),dv=u_strtod(ds,&amp;dend);</span>
<span class="lineNum">    4830 </span>            : 
<span class="lineNum">    4831 </span><span class="lineNoCov">          0 :     info = d-&gt;sf-&gt;pfminfo;</span>
<span class="lineNum">    4832 </span><span class="lineNoCov">          0 :     if ( !info.pfmset ) {</span>
<span class="lineNum">    4833 </span>            :         /* Base this stuff on the CURRENT name */
<span class="lineNum">    4834 </span>            :         /* if the user just created a font, and named it *Bold, then the sf */
<span class="lineNum">    4835 </span>            :         /*  won't yet have Bold in its name, and basing the weight on it would*/
<span class="lineNum">    4836 </span>            :         /*  give the wrong answer. That's why we don't do this init until we */
<span class="lineNum">    4837 </span>            :         /*  get to one of the ttf aspects, it gives the user time to set the */
<span class="lineNum">    4838 </span>            :         /*  name properly */
<span class="lineNum">    4839 </span>            :         /* And on CURRENT values of ascent and descent */
<span class="lineNum">    4840 </span><span class="lineNoCov">          0 :         char *n = cu_copy(_GGadgetGetTitle(GWidgetGetControl(d-&gt;gw,CID_Fontname)));</span>
<span class="lineNum">    4841 </span><span class="lineNoCov">          0 :         if ( *aend=='\0' &amp;&amp; *dend=='\0' ) {</span>
<span class="lineNum">    4842 </span><span class="lineNoCov">          0 :             if ( info.linegap==0 )</span>
<span class="lineNum">    4843 </span><span class="lineNoCov">          0 :                 info.linegap = rint(.09*(av+dv));</span>
<span class="lineNum">    4844 </span><span class="lineNoCov">          0 :             if ( info.vlinegap==0 )</span>
<span class="lineNum">    4845 </span><span class="lineNoCov">          0 :                 info.vlinegap = info.linegap;</span>
<span class="lineNum">    4846 </span><span class="lineNoCov">          0 :             if ( info.os2_typolinegap==0 )</span>
<span class="lineNum">    4847 </span><span class="lineNoCov">          0 :                 info.os2_typolinegap = info.linegap;</span>
<span class="lineNum">    4848 </span>            :         }
<span class="lineNum">    4849 </span><span class="lineNoCov">          0 :         lg = info.linegap; vlg = info.vlinegap; tlg = info.os2_typolinegap;</span>
<span class="lineNum">    4850 </span><span class="lineNoCov">          0 :         SFDefaultOS2Info(&amp;info,d-&gt;sf,n);</span>
<span class="lineNum">    4851 </span><span class="lineNoCov">          0 :         if ( lg != 0 )</span>
<span class="lineNum">    4852 </span><span class="lineNoCov">          0 :             info.linegap = lg;</span>
<span class="lineNum">    4853 </span><span class="lineNoCov">          0 :         if ( vlg!= 0 )</span>
<span class="lineNum">    4854 </span><span class="lineNoCov">          0 :             info.vlinegap = vlg;</span>
<span class="lineNum">    4855 </span><span class="lineNoCov">          0 :         if ( tlg!=0 )</span>
<span class="lineNum">    4856 </span><span class="lineNoCov">          0 :             info.os2_typolinegap = tlg;</span>
<span class="lineNum">    4857 </span><span class="lineNoCov">          0 :         free(n);</span>
<span class="lineNum">    4858 </span>            :     }
<span class="lineNum">    4859 </span>            : 
<span class="lineNum">    4860 </span><span class="lineNoCov">          0 :     if ( info.weight&gt;0 &amp;&amp; info.weight&lt;=900 &amp;&amp; info.weight%100==0 )</span>
<span class="lineNum">    4861 </span><span class="lineNoCov">          0 :         GGadgetSetTitle8(GWidgetGetControl(d-&gt;gw,CID_WeightClass),</span>
<span class="lineNum">    4862 </span><span class="lineNoCov">          0 :                 (char *) weightclass[info.weight/100-1].text);</span>
<span class="lineNum">    4863 </span>            :     else {
<span class="lineNum">    4864 </span><span class="lineNoCov">          0 :         sprintf( buffer, &quot;%d&quot;, info.weight );</span>
<span class="lineNum">    4865 </span><span class="lineNoCov">          0 :         GGadgetSetTitle8(GWidgetGetControl(d-&gt;gw,CID_WeightClass),buffer);</span>
<span class="lineNum">    4866 </span>            :     }
<span class="lineNum">    4867 </span><span class="lineNoCov">          0 :     GGadgetSelectOneListItem(GWidgetGetControl(d-&gt;gw,CID_WidthClass),info.width-1);</span>
<span class="lineNum">    4868 </span><span class="lineNoCov">          0 :     for ( i=0; pfmfamily[i].text!=NULL; ++i )</span>
<span class="lineNum">    4869 </span><span class="lineNoCov">          0 :         if ( (intpt) (pfmfamily[i].userdata)==info.pfmfamily ) {</span>
<span class="lineNum">    4870 </span><span class="lineNoCov">          0 :             GGadgetSelectOneListItem(GWidgetGetControl(d-&gt;gw,CID_PFMFamily),i);</span>
<span class="lineNum">    4871 </span><span class="lineNoCov">          0 :     break;</span>
<span class="lineNum">    4872 </span>            :         }
<span class="lineNum">    4873 </span>            : 
<span class="lineNum">    4874 </span><span class="lineNoCov">          0 :     if ( d-&gt;sf-&gt;os2_version&gt;=0 &amp;&amp; d-&gt;sf-&gt;os2_version&lt;=4 )</span>
<span class="lineNum">    4875 </span><span class="lineNoCov">          0 :         GGadgetSelectOneListItem(GWidgetGetControl(d-&gt;gw,CID_OS2Version),d-&gt;sf-&gt;os2_version);</span>
<span class="lineNum">    4876 </span>            :     else {
<span class="lineNum">    4877 </span><span class="lineNoCov">          0 :         sprintf( buffer,&quot;%d&quot;, d-&gt;sf-&gt;os2_version );</span>
<span class="lineNum">    4878 </span><span class="lineNoCov">          0 :         GGadgetSetTitle8(GWidgetGetControl(d-&gt;gw,CID_OS2Version),buffer);</span>
<span class="lineNum">    4879 </span>            :     }
<span class="lineNum">    4880 </span><span class="lineNoCov">          0 :     GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_UseTypoMetrics),d-&gt;sf-&gt;use_typo_metrics);</span>
<span class="lineNum">    4881 </span><span class="lineNoCov">          0 :     GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_WeightWidthSlopeOnly),d-&gt;sf-&gt;weight_width_slope_only);</span>
<span class="lineNum">    4882 </span>            : 
<span class="lineNum">    4883 </span><span class="lineNoCov">          0 :     for ( i=0; ibmfamily[i].text!=NULL; ++i )</span>
<span class="lineNum">    4884 </span><span class="lineNoCov">          0 :         if ( (intpt) (ibmfamily[i].userdata)==info.os2_family_class ) {</span>
<span class="lineNum">    4885 </span><span class="lineNoCov">          0 :             GGadgetSelectOneListItem(GWidgetGetControl(d-&gt;gw,CID_IBMFamily),i);</span>
<span class="lineNum">    4886 </span><span class="lineNoCov">          0 :     break;</span>
<span class="lineNum">    4887 </span>            :         }
<span class="lineNum">    4888 </span><span class="lineNoCov">          0 :     if ( info.os2_vendor[0]!='\0' ) {</span>
<span class="lineNum">    4889 </span><span class="lineNoCov">          0 :         ubuf[0] = info.os2_vendor[0];</span>
<span class="lineNum">    4890 </span><span class="lineNoCov">          0 :         ubuf[1] = info.os2_vendor[1];</span>
<span class="lineNum">    4891 </span><span class="lineNoCov">          0 :         ubuf[2] = info.os2_vendor[2];</span>
<span class="lineNum">    4892 </span><span class="lineNoCov">          0 :         ubuf[3] = info.os2_vendor[3];</span>
<span class="lineNum">    4893 </span><span class="lineNoCov">          0 :         ubuf[4] = 0;</span>
<span class="lineNum">    4894 </span><span class="lineNoCov">          0 :     } else if ( TTFFoundry!=NULL )</span>
<span class="lineNum">    4895 </span><span class="lineNoCov">          0 :         uc_strncpy(ubuf,TTFFoundry,4);</span>
<span class="lineNum">    4896 </span>            :     else
<span class="lineNum">    4897 </span><span class="lineNoCov">          0 :         uc_strcpy(ubuf,&quot;PfEd&quot;);</span>
<span class="lineNum">    4898 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_Vendor),ubuf);</span>
<span class="lineNum">    4899 </span>            : 
<span class="lineNum">    4900 </span><span class="lineNoCov">          0 :     GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_PanDefault),!info.panose_set);</span>
<span class="lineNum">    4901 </span><span class="lineNoCov">          0 :     _GFI_PanoseDefault(d);</span>
<span class="lineNum">    4902 </span><span class="lineNoCov">          0 :     if ( info.panose_set ) {</span>
<span class="lineNum">    4903 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;10; ++i ) {</span>
<span class="lineNum">    4904 </span><span class="lineNoCov">          0 :             int v = info.panose[i];</span>
<span class="lineNum">    4905 </span><span class="lineNoCov">          0 :             if ( v&gt;=16 &amp;&amp; (info.panose[0]!=4 || i!=5 )) v=15;</span>
<span class="lineNum">    4906 </span><span class="lineNoCov">          0 :             else if ( v&gt;16 ) v=16;   /* Sigh Decorative.SerifVar has 17 elements */</span>
<span class="lineNum">    4907 </span><span class="lineNoCov">          0 :             GGadgetSelectOneListItem(GWidgetGetControl(d-&gt;gw,CID_PanFamily+i),v);</span>
<span class="lineNum">    4908 </span><span class="lineNoCov">          0 :             if ( i==0 )</span>
<span class="lineNum">    4909 </span><span class="lineNoCov">          0 :                 GFI_SetPanoseLists(d);</span>
<span class="lineNum">    4910 </span>            :         }
<span class="lineNum">    4911 </span>            :     }
<span class="lineNum">    4912 </span>            : 
<span class="lineNum">    4913 </span><span class="lineNoCov">          0 :     GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_SubSuperDefault),!info.subsuper_set);</span>
<span class="lineNum">    4914 </span><span class="lineNoCov">          0 :     if ( info.subsuper_set )</span>
<span class="lineNum">    4915 </span><span class="lineNoCov">          0 :         GFI_SubSuperSet(d,&amp;info);</span>
<span class="lineNum">    4916 </span><span class="lineNoCov">          0 :     _GFI_SubSuperDefault(d);</span>
<span class="lineNum">    4917 </span>            : 
<span class="lineNum">    4918 </span><span class="lineNoCov">          0 :     d-&gt;ttf_set = true;</span>
<span class="lineNum">    4919 </span>            :     /* FSType is already set */
<span class="lineNum">    4920 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info.linegap );</span>
<span class="lineNum">    4921 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4922 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_LineGap),ubuf);</span>
<span class="lineNum">    4923 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info.vlinegap );</span>
<span class="lineNum">    4924 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4925 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_VLineGap),ubuf);</span>
<span class="lineNum">    4926 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info.os2_typolinegap );</span>
<span class="lineNum">    4927 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4928 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_TypoLineGap),ubuf);</span>
<span class="lineNum">    4929 </span>            : 
<span class="lineNum">    4930 </span><span class="lineNoCov">          0 :     GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_WinAscentIsOff),info.winascent_add);</span>
<span class="lineNum">    4931 </span><span class="lineNoCov">          0 :     GFI_AsDsLab(d,CID_WinAscentIsOff,true);</span>
<span class="lineNum">    4932 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info.os2_winascent );</span>
<span class="lineNum">    4933 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4934 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_WinAscent),ubuf);</span>
<span class="lineNum">    4935 </span><span class="lineNoCov">          0 :     GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_WinDescentIsOff),info.windescent_add);</span>
<span class="lineNum">    4936 </span><span class="lineNoCov">          0 :     GFI_AsDsLab(d,CID_WinDescentIsOff,true);</span>
<span class="lineNum">    4937 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info.os2_windescent );</span>
<span class="lineNum">    4938 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4939 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_WinDescent),ubuf);</span>
<span class="lineNum">    4940 </span>            : 
<span class="lineNum">    4941 </span><span class="lineNoCov">          0 :     GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_TypoAscentIsOff),info.typoascent_add);</span>
<span class="lineNum">    4942 </span><span class="lineNoCov">          0 :     GFI_AsDsLab(d,CID_TypoAscentIsOff,true);</span>
<span class="lineNum">    4943 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info.os2_typoascent );</span>
<span class="lineNum">    4944 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4945 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_TypoAscent),ubuf);</span>
<span class="lineNum">    4946 </span><span class="lineNoCov">          0 :     GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_TypoDescentIsOff),info.typodescent_add);</span>
<span class="lineNum">    4947 </span><span class="lineNoCov">          0 :     GFI_AsDsLab(d,CID_TypoDescentIsOff,true);</span>
<span class="lineNum">    4948 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info.os2_typodescent );</span>
<span class="lineNum">    4949 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4950 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_TypoDescent),ubuf);</span>
<span class="lineNum">    4951 </span>            : 
<span class="lineNum">    4952 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info.os2_capheight );</span>
<span class="lineNum">    4953 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4954 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_CapHeight),ubuf);</span>
<span class="lineNum">    4955 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info.os2_xheight );</span>
<span class="lineNum">    4956 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4957 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_XHeight),ubuf);</span>
<span class="lineNum">    4958 </span>            : 
<span class="lineNum">    4959 </span><span class="lineNoCov">          0 :     GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_HHeadAscentIsOff),info.hheadascent_add);</span>
<span class="lineNum">    4960 </span><span class="lineNoCov">          0 :     GFI_AsDsLab(d,CID_HHeadAscentIsOff,true);</span>
<span class="lineNum">    4961 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info.hhead_ascent );</span>
<span class="lineNum">    4962 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4963 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_HHeadAscent),ubuf);</span>
<span class="lineNum">    4964 </span><span class="lineNoCov">          0 :     GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_HHeadDescentIsOff),info.hheaddescent_add);</span>
<span class="lineNum">    4965 </span><span class="lineNoCov">          0 :     GFI_AsDsLab(d,CID_HHeadDescentIsOff,true);</span>
<span class="lineNum">    4966 </span><span class="lineNoCov">          0 :     sprintf( buffer, &quot;%d&quot;, info.hhead_descent );</span>
<span class="lineNum">    4967 </span><span class="lineNoCov">          0 :     uc_strcpy(ubuf,buffer);</span>
<span class="lineNum">    4968 </span><span class="lineNoCov">          0 :     GGadgetSetTitle(GWidgetGetControl(d-&gt;gw,CID_HHeadDescent),ubuf);</span>
<span class="lineNum">    4969 </span><span class="lineNoCov">          0 : }</span>
<span class="lineNum">    4970 </span>            : 
<span class="lineNum">    4971 </span>            : static char *mathparams[] = {
<span class="lineNum">    4972 </span>            : /* GT: TeX parameters for math fonts. &quot;Num&quot; means numerator, &quot;Denom&quot; */
<span class="lineNum">    4973 </span>            : /* GT: means denominator, &quot;Sup&quot; means superscript, &quot;Sub&quot; means subscript */
<span class="lineNum">    4974 </span>            :     N_(&quot;Num1:&quot;),
<span class="lineNum">    4975 </span>            :     N_(&quot;Num2:&quot;),  N_(&quot;Num3:&quot;), N_(&quot;Denom1:&quot;),
<span class="lineNum">    4976 </span>            :     N_(&quot;Denom2:&quot;), N_(&quot;Sup1:&quot;), N_(&quot;Sup2:&quot;), N_(&quot;Sup3:&quot;), N_(&quot;Sub1:&quot;), N_(&quot;Sub2:&quot;),
<span class="lineNum">    4977 </span>            :     N_(&quot;SupDrop:&quot;), N_(&quot;SubDrop:&quot;), N_(&quot;Delim1:&quot;), N_(&quot;Delim2:&quot;), N_(&quot;Axis Ht:&quot;),
<span class="lineNum">    4978 </span>            :     0 };
<span class="lineNum">    4979 </span>            : static char *mathpopups[] = { N_(&quot;Amount to raise baseline for numerators in display styles&quot;),
<span class="lineNum">    4980 </span>            :     N_(&quot;Amount to raise baseline for numerators in non-display styles&quot;),
<span class="lineNum">    4981 </span>            :     N_(&quot;Amount to raise baseline for numerators in non-display atop styles&quot;),
<span class="lineNum">    4982 </span>            :     N_(&quot;Amount to lower baseline for denominators in display styles&quot;),
<span class="lineNum">    4983 </span>            :     N_(&quot;Amount to lower baseline for denominators in non-display styles&quot;),
<span class="lineNum">    4984 </span>            :     N_(&quot;Amount to raise baseline for superscripts in display styles&quot;),
<span class="lineNum">    4985 </span>            :     N_(&quot;Amount to raise baseline for superscripts in non-display styles&quot;),
<span class="lineNum">    4986 </span>            :     N_(&quot;Amount to raise baseline for superscripts in modified styles&quot;),
<span class="lineNum">    4987 </span>            :     N_(&quot;Amount to lower baseline for subscripts in display styles&quot;),
<span class="lineNum">    4988 </span>            :     N_(&quot;Amount to lower baseline for subscripts in non-display styles&quot;),
<span class="lineNum">    4989 </span>            :     N_(&quot;Amount above top of large box to place baseline of superscripts&quot;),
<span class="lineNum">    4990 </span>            :     N_(&quot;Amount below bottom of large box to place baseline of subscripts&quot;),
<span class="lineNum">    4991 </span>            :     N_(&quot;Size of comb delimiters in display styles&quot;),
<span class="lineNum">    4992 </span>            :     N_(&quot;Size of comb delimiters in non-display styles&quot;),
<span class="lineNum">    4993 </span>            :     N_(&quot;Height of fraction bar above base line&quot;),
<span class="lineNum">    4994 </span>            :     0 };
<span class="lineNum">    4995 </span>            : /* GT: Default Rule Thickness. A rule being a typographic term for a straight */
<span class="lineNum">    4996 </span>            : /* GT: black line on a printed page. */
<span class="lineNum">    4997 </span>            : static char *extparams[] = { N_(&quot;Def Rule Thick:&quot;),
<span class="lineNum">    4998 </span>            : /* GT: I don't really understand these &quot;Big Op Space&quot; things. They have */
<span class="lineNum">    4999 </span>            : /* GT: something to do with TeX and are roughly defined a few strings down */
<span class="lineNum">    5000 </span>            :         N_(&quot;Big Op Space1:&quot;),
<span class="lineNum">    5001 </span>            :         N_(&quot;Big Op Space2:&quot;),
<span class="lineNum">    5002 </span>            :         N_(&quot;Big Op Space3:&quot;),
<span class="lineNum">    5003 </span>            :         N_(&quot;Big Op Space4:&quot;),
<span class="lineNum">    5004 </span>            :         N_(&quot;Big Op Space5:&quot;), 0 };
<span class="lineNum">    5005 </span>            : static char *extpopups[] = { N_(&quot;Default thickness of over and overline bars&quot;),
<span class="lineNum">    5006 </span>            :         N_(&quot;The minimum glue space above a large displayed operator&quot;),
<span class="lineNum">    5007 </span>            :         N_(&quot;The minimum glue space below a large displayed operator&quot;),
<span class="lineNum">    5008 </span>            :         N_(&quot;The minimum distance between a limit's baseline and a large displayed\noperator when the limit is above the operator&quot;),
<span class="lineNum">    5009 </span>            :         N_(&quot;The minimum distance between a limit's baseline and a large displayed\noperator when the limit is below the operator&quot;),
<span class="lineNum">    5010 </span>            :         N_(&quot;The extra glue place above and below displayed limits&quot;),
<a name="5011"><span class="lineNum">    5011 </span>            :         0 };</a>
<span class="lineNum">    5012 </span>            : 
<span class="lineNum">    5013 </span><span class="lineNoCov">          0 : static int mp_e_h(GWindow gw, GEvent *event) {</span>
<span class="lineNum">    5014 </span>            :     int i;
<span class="lineNum">    5015 </span>            : 
<span class="lineNum">    5016 </span><span class="lineNoCov">          0 :     if ( event-&gt;type==et_close ) {</span>
<span class="lineNum">    5017 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(gw);</span>
<span class="lineNum">    5018 </span><span class="lineNoCov">          0 :         d-&gt;mpdone = true;</span>
<span class="lineNum">    5019 </span><span class="lineNoCov">          0 :     } else if ( event-&gt;type == et_char ) {</span>
<span class="lineNum">    5020 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    5021 </span><span class="lineNoCov">          0 :     } else if ( event-&gt;type==et_controlevent &amp;&amp; event-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    5022 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(gw);</span>
<span class="lineNum">    5023 </span><span class="lineNoCov">          0 :         if ( GGadgetGetCid(event-&gt;u.control.g)) {</span>
<span class="lineNum">    5024 </span><span class="lineNoCov">          0 :             int err=false;</span>
<span class="lineNum">    5025 </span><span class="lineNoCov">          0 :             double em = (d-&gt;sf-&gt;ascent+d-&gt;sf-&gt;descent), val;</span>
<span class="lineNum">    5026 </span>            :             char **params;
<span class="lineNum">    5027 </span><span class="lineNoCov">          0 :             if ( GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_TeXMathSym)) )</span>
<span class="lineNum">    5028 </span><span class="lineNoCov">          0 :                 params = mathparams;</span>
<span class="lineNum">    5029 </span>            :             else
<span class="lineNum">    5030 </span><span class="lineNoCov">          0 :                 params = extparams;</span>
<span class="lineNum">    5031 </span><span class="lineNoCov">          0 :             for ( i=0; params[i]!=0 &amp;&amp; !err; ++i ) {</span>
<span class="lineNum">    5032 </span><span class="lineNoCov">          0 :                 val = GetReal8(gw,CID_TeX+i,params[i],&amp;err);</span>
<span class="lineNum">    5033 </span><span class="lineNoCov">          0 :                 if ( !err )</span>
<span class="lineNum">    5034 </span><span class="lineNoCov">          0 :                     d-&gt;texdata.params[i+7] = rint( val/em * (1&lt;&lt;20) );</span>
<span class="lineNum">    5035 </span>            :             }
<span class="lineNum">    5036 </span><span class="lineNoCov">          0 :             if ( !err )</span>
<span class="lineNum">    5037 </span><span class="lineNoCov">          0 :                 d-&gt;mpdone = true;</span>
<span class="lineNum">    5038 </span>            :         } else
<span class="lineNum">    5039 </span><span class="lineNoCov">          0 :             d-&gt;mpdone = true;</span>
<span class="lineNum">    5040 </span>            :     }
<span class="lineNum">    5041 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5042"><span class="lineNum">    5042 </span>            : }</a>
<span class="lineNum">    5043 </span>            : 
<span class="lineNum">    5044 </span><span class="lineNoCov">          0 : static int GFI_MoreParams(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5045 </span>            :     int tot;
<span class="lineNum">    5046 </span>            :     GRect pos;
<span class="lineNum">    5047 </span>            :     GWindow gw;
<span class="lineNum">    5048 </span>            :     GWindowAttrs wattrs;
<span class="lineNum">    5049 </span>            :     GGadgetCreateData txgcd[35], boxes[3], *txarray[18][3], *barray[9];
<span class="lineNum">    5050 </span>            :     GTextInfo txlabel[35];
<span class="lineNum">    5051 </span>            :     int i,y,k,j;
<span class="lineNum">    5052 </span>            :     char **params, **popups;
<span class="lineNum">    5053 </span>            :     char values[20][20];
<span class="lineNum">    5054 </span>            : 
<span class="lineNum">    5055 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    5056 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5057 </span><span class="lineNoCov">          0 :         if ( GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_TeXText)) )</span>
<span class="lineNum">    5058 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    5059 </span><span class="lineNoCov">          0 :         else if ( GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_TeXMathSym)) ) {</span>
<span class="lineNum">    5060 </span><span class="lineNoCov">          0 :             tot = 22-7;</span>
<span class="lineNum">    5061 </span><span class="lineNoCov">          0 :             params = mathparams;</span>
<span class="lineNum">    5062 </span><span class="lineNoCov">          0 :             popups = mathpopups;</span>
<span class="lineNum">    5063 </span>            :         } else {
<span class="lineNum">    5064 </span><span class="lineNoCov">          0 :             tot = 13-7;</span>
<span class="lineNum">    5065 </span><span class="lineNoCov">          0 :             params = extparams;</span>
<span class="lineNum">    5066 </span><span class="lineNoCov">          0 :             popups = extpopups;</span>
<span class="lineNum">    5067 </span>            :         }
<span class="lineNum">    5068 </span>            : 
<span class="lineNum">    5069 </span><span class="lineNoCov">          0 :         memset(&amp;wattrs,0,sizeof(wattrs));</span>
<span class="lineNum">    5070 </span><span class="lineNoCov">          0 :         wattrs.mask = wam_events|wam_cursor|wam_utf8_wtitle|wam_undercursor|wam_isdlg|wam_restrict;</span>
<span class="lineNum">    5071 </span><span class="lineNoCov">          0 :         wattrs.event_masks = ~(1&lt;&lt;et_charup);</span>
<span class="lineNum">    5072 </span><span class="lineNoCov">          0 :         wattrs.is_dlg = true;</span>
<span class="lineNum">    5073 </span><span class="lineNoCov">          0 :         wattrs.restrict_input_to_me = 1;</span>
<span class="lineNum">    5074 </span><span class="lineNoCov">          0 :         wattrs.undercursor = 1;</span>
<span class="lineNum">    5075 </span><span class="lineNoCov">          0 :         wattrs.cursor = ct_pointer;</span>
<span class="lineNum">    5076 </span>            : /* GT: More Parameters */
<span class="lineNum">    5077 </span><span class="lineNoCov">          0 :         wattrs.utf8_window_title = _(&quot;More Params&quot;);</span>
<span class="lineNum">    5078 </span><span class="lineNoCov">          0 :         pos.x = pos.y = 0;</span>
<span class="lineNum">    5079 </span><span class="lineNoCov">          0 :         pos.width =GDrawPointsToPixels(NULL,GGadgetScale(180));</span>
<span class="lineNum">    5080 </span><span class="lineNoCov">          0 :         pos.height = GDrawPointsToPixels(NULL,tot*26+60);</span>
<span class="lineNum">    5081 </span><span class="lineNoCov">          0 :         gw = GDrawCreateTopWindow(NULL,&amp;pos,mp_e_h,d,&amp;wattrs);</span>
<span class="lineNum">    5082 </span>            : 
<span class="lineNum">    5083 </span><span class="lineNoCov">          0 :         memset(&amp;txlabel,0,sizeof(txlabel));</span>
<span class="lineNum">    5084 </span><span class="lineNoCov">          0 :         memset(&amp;txgcd,0,sizeof(txgcd));</span>
<span class="lineNum">    5085 </span>            : 
<span class="lineNum">    5086 </span><span class="lineNoCov">          0 :         k=j=0; y = 10;</span>
<span class="lineNum">    5087 </span><span class="lineNoCov">          0 :         for ( i=0; params[i]!=0; ++i ) {</span>
<span class="lineNum">    5088 </span><span class="lineNoCov">          0 :             txlabel[k].text = (unichar_t *) params[i];</span>
<span class="lineNum">    5089 </span><span class="lineNoCov">          0 :             txlabel[k].text_is_1byte = true;</span>
<span class="lineNum">    5090 </span><span class="lineNoCov">          0 :             txgcd[k].gd.label = &amp;txlabel[k];</span>
<span class="lineNum">    5091 </span><span class="lineNoCov">          0 :             txgcd[k].gd.pos.x = 10; txgcd[k].gd.pos.y = y+4;</span>
<span class="lineNum">    5092 </span><span class="lineNoCov">          0 :             txgcd[k].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    5093 </span><span class="lineNoCov">          0 :             txgcd[k].gd.popup_msg = (unichar_t *) popups[i];</span>
<span class="lineNum">    5094 </span><span class="lineNoCov">          0 :             txgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">    5095 </span><span class="lineNoCov">          0 :             txarray[j][0] = &amp;txgcd[k-1];</span>
<span class="lineNum">    5096 </span>            : 
<span class="lineNum">    5097 </span><span class="lineNoCov">          0 :             sprintf( values[i], &quot;%g&quot;, d-&gt;texdata.params[i+7]*(double) (d-&gt;sf-&gt;ascent+d-&gt;sf-&gt;descent)/(double) (1&lt;&lt;20));</span>
<span class="lineNum">    5098 </span><span class="lineNoCov">          0 :             txlabel[k].text = (unichar_t *) values[i];</span>
<span class="lineNum">    5099 </span><span class="lineNoCov">          0 :             txlabel[k].text_is_1byte = true;</span>
<span class="lineNum">    5100 </span><span class="lineNoCov">          0 :             txgcd[k].gd.label = &amp;txlabel[k];</span>
<span class="lineNum">    5101 </span><span class="lineNoCov">          0 :             txgcd[k].gd.pos.x = 85; txgcd[k].gd.pos.y = y;</span>
<span class="lineNum">    5102 </span><span class="lineNoCov">          0 :             txgcd[k].gd.pos.width = 75;</span>
<span class="lineNum">    5103 </span><span class="lineNoCov">          0 :             txgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    5104 </span><span class="lineNoCov">          0 :             txgcd[k].gd.cid = CID_TeX + i;</span>
<span class="lineNum">    5105 </span><span class="lineNoCov">          0 :             txgcd[k++].creator = GTextFieldCreate;</span>
<span class="lineNum">    5106 </span><span class="lineNoCov">          0 :             txarray[j][1] = &amp;txgcd[k-1]; txarray[j++][2] = NULL;</span>
<span class="lineNum">    5107 </span><span class="lineNoCov">          0 :             y += 26;</span>
<span class="lineNum">    5108 </span>            :         }
<span class="lineNum">    5109 </span><span class="lineNoCov">          0 :         txarray[j][0] = GCD_Glue; txarray[j][1] = GCD_Glue; txarray[j++][2] = NULL;</span>
<span class="lineNum">    5110 </span>            : 
<span class="lineNum">    5111 </span><span class="lineNoCov">          0 :         txgcd[k].gd.pos.x = 30-3; txgcd[k].gd.pos.y = GDrawPixelsToPoints(NULL,pos.height)-35-3;</span>
<span class="lineNum">    5112 </span><span class="lineNoCov">          0 :         txgcd[k].gd.pos.width = -1; txgcd[k].gd.pos.height = 0;</span>
<span class="lineNum">    5113 </span><span class="lineNoCov">          0 :         txgcd[k].gd.flags = gg_visible | gg_enabled | gg_but_default;</span>
<span class="lineNum">    5114 </span><span class="lineNoCov">          0 :         txlabel[k].text = (unichar_t *) _(&quot;_OK&quot;);</span>
<span class="lineNum">    5115 </span><span class="lineNoCov">          0 :         txlabel[k].text_is_1byte = true;</span>
<span class="lineNum">    5116 </span><span class="lineNoCov">          0 :         txlabel[k].text_in_resource = true;</span>
<span class="lineNum">    5117 </span><span class="lineNoCov">          0 :         txgcd[k].gd.label = &amp;txlabel[k];</span>
<span class="lineNum">    5118 </span><span class="lineNoCov">          0 :         txgcd[k].gd.cid = true;</span>
<span class="lineNum">    5119 </span><span class="lineNoCov">          0 :         txgcd[k++].creator = GButtonCreate;</span>
<span class="lineNum">    5120 </span>            : 
<span class="lineNum">    5121 </span><span class="lineNoCov">          0 :         txgcd[k].gd.pos.x = -30; txgcd[k].gd.pos.y = txgcd[k-1].gd.pos.y+3;</span>
<span class="lineNum">    5122 </span><span class="lineNoCov">          0 :         txgcd[k].gd.pos.width = -1; txgcd[k].gd.pos.height = 0;</span>
<span class="lineNum">    5123 </span><span class="lineNoCov">          0 :         txgcd[k].gd.flags = gg_visible | gg_enabled | gg_but_cancel;</span>
<span class="lineNum">    5124 </span><span class="lineNoCov">          0 :         txlabel[k].text = (unichar_t *) _(&quot;_Cancel&quot;);</span>
<span class="lineNum">    5125 </span><span class="lineNoCov">          0 :         txlabel[k].text_is_1byte = true;</span>
<span class="lineNum">    5126 </span><span class="lineNoCov">          0 :         txlabel[k].text_in_resource = true;</span>
<span class="lineNum">    5127 </span><span class="lineNoCov">          0 :         txgcd[k].gd.label = &amp;txlabel[k];</span>
<span class="lineNum">    5128 </span><span class="lineNoCov">          0 :         txgcd[k].gd.cid = false;</span>
<span class="lineNum">    5129 </span><span class="lineNoCov">          0 :         txgcd[k++].creator = GButtonCreate;</span>
<span class="lineNum">    5130 </span>            : 
<span class="lineNum">    5131 </span><span class="lineNoCov">          0 :         barray[0] = barray[2] = barray[3] = barray[4] = barray[6] = GCD_Glue; barray[7] = NULL;</span>
<span class="lineNum">    5132 </span><span class="lineNoCov">          0 :         barray[1] = &amp;txgcd[k-2]; barray[5] = &amp;txgcd[k-1];</span>
<span class="lineNum">    5133 </span><span class="lineNoCov">          0 :         txarray[j][0] = &amp;boxes[2]; txarray[j][1] = GCD_ColSpan; txarray[j++][2] = NULL;</span>
<span class="lineNum">    5134 </span><span class="lineNoCov">          0 :         txarray[j][0] = NULL;</span>
<span class="lineNum">    5135 </span>            : 
<span class="lineNum">    5136 </span><span class="lineNoCov">          0 :         memset(boxes,0,sizeof(boxes));</span>
<span class="lineNum">    5137 </span><span class="lineNoCov">          0 :         boxes[0].gd.pos.x = boxes[0].gd.pos.y = 2;</span>
<span class="lineNum">    5138 </span><span class="lineNoCov">          0 :         boxes[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    5139 </span><span class="lineNoCov">          0 :         boxes[0].gd.u.boxelements = txarray[0];</span>
<span class="lineNum">    5140 </span><span class="lineNoCov">          0 :         boxes[0].creator = GHVGroupCreate;</span>
<span class="lineNum">    5141 </span>            : 
<span class="lineNum">    5142 </span><span class="lineNoCov">          0 :         boxes[2].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    5143 </span><span class="lineNoCov">          0 :         boxes[2].gd.u.boxelements = barray;</span>
<span class="lineNum">    5144 </span><span class="lineNoCov">          0 :         boxes[2].creator = GHBoxCreate;</span>
<span class="lineNum">    5145 </span>            : 
<span class="lineNum">    5146 </span><span class="lineNoCov">          0 :         GGadgetsCreate(gw,boxes);</span>
<span class="lineNum">    5147 </span><span class="lineNoCov">          0 :         GHVBoxSetExpandableCol(boxes[2].ret,gb_expandgluesame);</span>
<span class="lineNum">    5148 </span><span class="lineNoCov">          0 :         GHVBoxSetExpandableRow(boxes[0].ret,gb_expandglue);</span>
<span class="lineNum">    5149 </span><span class="lineNoCov">          0 :         GHVBoxFitWindow(boxes[0].ret);</span>
<span class="lineNum">    5150 </span><span class="lineNoCov">          0 :         d-&gt;mpdone = false;</span>
<span class="lineNum">    5151 </span><span class="lineNoCov">          0 :         GDrawSetVisible(gw,true);</span>
<span class="lineNum">    5152 </span>            : 
<span class="lineNum">    5153 </span><span class="lineNoCov">          0 :         while ( !d-&gt;mpdone )</span>
<span class="lineNum">    5154 </span><span class="lineNoCov">          0 :             GDrawProcessOneEvent(NULL);</span>
<span class="lineNum">    5155 </span><span class="lineNoCov">          0 :         GDrawDestroyWindow(gw);</span>
<span class="lineNum">    5156 </span>            :     }
<span class="lineNum">    5157 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5158"><span class="lineNum">    5158 </span>            : }</a>
<span class="lineNum">    5159 </span>            : 
<span class="lineNum">    5160 </span><span class="lineNoCov">          0 : static int GFI_TeXChanged(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5161 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    5162 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5163 </span><span class="lineNoCov">          0 :         GGadget *extrasp = GWidgetGetControl(d-&gt;gw,CID_TeXExtraSpLabel);</span>
<span class="lineNum">    5164 </span>            : 
<span class="lineNum">    5165 </span><span class="lineNoCov">          0 :         if ( GGadgetGetCid(g)==CID_TeXText ) {</span>
<span class="lineNum">    5166 </span><span class="lineNoCov">          0 :             GGadgetSetTitle8(extrasp,</span>
<span class="lineNum">    5167 </span>            : /* GT: Extra Space */
<span class="lineNum">    5168 </span><span class="lineNoCov">          0 :                     _(&quot;Extra Sp:&quot;));</span>
<span class="lineNum">    5169 </span><span class="lineNoCov">          0 :             GGadgetSetEnabled(GWidgetGetControl(d-&gt;gw,CID_MoreParams),false);</span>
<span class="lineNum">    5170 </span>            :         } else {
<span class="lineNum">    5171 </span><span class="lineNoCov">          0 :             GGadgetSetTitle8(extrasp, _(&quot;Math Sp:&quot;));</span>
<span class="lineNum">    5172 </span><span class="lineNoCov">          0 :             GGadgetSetEnabled(GWidgetGetControl(d-&gt;gw,CID_MoreParams),true);</span>
<span class="lineNum">    5173 </span>            :         }
<span class="lineNum">    5174 </span>            :         /* In Polish we need to reflow the text after changing the label */
<span class="lineNum">    5175 </span><span class="lineNoCov">          0 :         GHVBoxReflow(GWidgetGetControl(d-&gt;gw,CID_TeXBox));</span>
<span class="lineNum">    5176 </span>            :     }
<span class="lineNum">    5177 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5178"><span class="lineNum">    5178 </span>            : }</a>
<span class="lineNum">    5179 </span>            : 
<span class="lineNum">    5180 </span><span class="lineNoCov">          0 : static void DefaultTeX(struct gfi_data *d) {</span>
<span class="lineNum">    5181 </span>            :     char buffer[20];
<span class="lineNum">    5182 </span>            :     int i;
<span class="lineNum">    5183 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    5184 </span>            : 
<span class="lineNum">    5185 </span><span class="lineNoCov">          0 :     d-&gt;tex_set = true;</span>
<span class="lineNum">    5186 </span>            : 
<span class="lineNum">    5187 </span><span class="lineNoCov">          0 :     if ( sf-&gt;texdata.type==tex_unset ) {</span>
<span class="lineNum">    5188 </span><span class="lineNoCov">          0 :         TeXDefaultParams(sf);</span>
<span class="lineNum">    5189 </span><span class="lineNoCov">          0 :         d-&gt;texdata = sf-&gt;texdata;</span>
<span class="lineNum">    5190 </span>            :     }
<span class="lineNum">    5191 </span>            : 
<span class="lineNum">    5192 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;7; ++i ) {</span>
<span class="lineNum">    5193 </span><span class="lineNoCov">          0 :         sprintf( buffer,&quot;%g&quot;, d-&gt;texdata.params[i]*(sf-&gt;ascent+sf-&gt;descent)/(double) (1&lt;&lt;20));</span>
<span class="lineNum">    5194 </span><span class="lineNoCov">          0 :         GGadgetSetTitle8(GWidgetGetControl(d-&gt;gw,CID_TeX+i),buffer);</span>
<span class="lineNum">    5195 </span>            :     }
<span class="lineNum">    5196 </span><span class="lineNoCov">          0 :     if ( sf-&gt;texdata.type==tex_math )</span>
<span class="lineNum">    5197 </span><span class="lineNoCov">          0 :         GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_TeXMathSym), true);</span>
<span class="lineNum">    5198 </span><span class="lineNoCov">          0 :     else if ( sf-&gt;texdata.type == tex_mathext )</span>
<span class="lineNum">    5199 </span><span class="lineNoCov">          0 :         GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_TeXMathExt), true);</span>
<span class="lineNum">    5200 </span>            :     else {
<span class="lineNum">    5201 </span><span class="lineNoCov">          0 :         GGadgetSetChecked(GWidgetGetControl(d-&gt;gw,CID_TeXText), true);</span>
<span class="lineNum">    5202 </span><span class="lineNoCov">          0 :         GGadgetSetTitle8(GWidgetGetControl(d-&gt;gw,CID_TeXExtraSpLabel),</span>
<span class="lineNum">    5203 </span>            : /* GT: Extra Space */
<span class="lineNum">    5204 </span><span class="lineNoCov">          0 :                 _(&quot;Extra Sp:&quot;));</span>
<span class="lineNum">    5205 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(d-&gt;gw,CID_MoreParams),false);</span>
<span class="lineNum">    5206 </span>            :     }
<a name="5207"><span class="lineNum">    5207 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    5208 </span>            : 
<span class="lineNum">    5209 </span><span class="lineNoCov">          0 : static int GFI_MacAutomatic(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5210 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    5211 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5212 </span><span class="lineNoCov">          0 :         int autom = GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_MacAutomatic));</span>
<span class="lineNum">    5213 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(d-&gt;gw,CID_MacStyles),!autom);</span>
<span class="lineNum">    5214 </span>            :     }
<span class="lineNum">    5215 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5216"><span class="lineNum">    5216 </span>            : }</a>
<span class="lineNum">    5217 </span>            : 
<span class="lineNum">    5218 </span><span class="lineNoCov">          0 : static void FigureUnicode(struct gfi_data *d) {</span>
<span class="lineNum">    5219 </span><span class="lineNoCov">          0 :     int includeempties = GGadgetIsChecked(GWidgetGetControl(d-&gt;gw,CID_UnicodeEmpties));</span>
<span class="lineNum">    5220 </span><span class="lineNoCov">          0 :     GGadget *list = GWidgetGetControl(d-&gt;gw,CID_Unicode);</span>
<span class="lineNum">    5221 </span>            :     struct rangeinfo *ri;
<span class="lineNum">    5222 </span>            :     int cnt, i;
<span class="lineNum">    5223 </span>            :     GTextInfo **ti;
<span class="lineNum">    5224 </span>            :     char buffer[200];
<span class="lineNum">    5225 </span>            : 
<span class="lineNum">    5226 </span><span class="lineNoCov">          0 :     GGadgetClearList(list);</span>
<span class="lineNum">    5227 </span><span class="lineNoCov">          0 :     ri = SFUnicodeRanges(d-&gt;sf,(includeempties?ur_includeempty:0)|ur_sortbyunicode);</span>
<span class="lineNum">    5228 </span><span class="lineNoCov">          0 :     if ( ri==NULL ) cnt=0;</span>
<span class="lineNum">    5229 </span>            :     else
<span class="lineNum">    5230 </span><span class="lineNoCov">          0 :         for ( cnt=0; ri[cnt].range!=NULL; ++cnt );</span>
<span class="lineNum">    5231 </span>            : 
<span class="lineNum">    5232 </span><span class="lineNoCov">          0 :     ti = malloc((cnt+1) * sizeof( GTextInfo * ));</span>
<span class="lineNum">    5233 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;cnt; ++i ) {</span>
<span class="lineNum">    5234 </span><span class="lineNoCov">          0 :         if ( ri[i].range-&gt;first==-1 )</span>
<span class="lineNum">    5235 </span><span class="lineNoCov">          0 :             snprintf( buffer, sizeof(buffer),</span>
<span class="lineNum">    5236 </span><span class="lineNoCov">          0 :                     &quot;%s  %d/0&quot;, _(ri[i].range-&gt;name), ri[i].cnt);</span>
<span class="lineNum">    5237 </span>            :         else
<span class="lineNum">    5238 </span><span class="lineNoCov">          0 :             snprintf( buffer, sizeof(buffer),</span>
<span class="lineNum">    5239 </span>            :                     &quot;%s  U+%04X-U+%04X %d/%d&quot;,
<span class="lineNum">    5240 </span><span class="lineNoCov">          0 :                     _(ri[i].range-&gt;name),</span>
<span class="lineNum">    5241 </span><span class="lineNoCov">          0 :                     (int) ri[i].range-&gt;first, (int) ri[i].range-&gt;last,</span>
<span class="lineNum">    5242 </span><span class="lineNoCov">          0 :                     ri[i].cnt, ri[i].range-&gt;actual );</span>
<span class="lineNum">    5243 </span><span class="lineNoCov">          0 :         ti[i] = calloc(1,sizeof(GTextInfo));</span>
<span class="lineNum">    5244 </span><span class="lineNoCov">          0 :         ti[i]-&gt;fg = ti[i]-&gt;bg = COLOR_DEFAULT;</span>
<span class="lineNum">    5245 </span><span class="lineNoCov">          0 :         ti[i]-&gt;text = utf82u_copy(buffer);</span>
<span class="lineNum">    5246 </span><span class="lineNoCov">          0 :         ti[i]-&gt;userdata = ri[i].range;</span>
<span class="lineNum">    5247 </span>            :     }
<span class="lineNum">    5248 </span><span class="lineNoCov">          0 :     ti[i] = calloc(1,sizeof(GTextInfo));</span>
<span class="lineNum">    5249 </span><span class="lineNoCov">          0 :     GGadgetSetList(list,ti,false);</span>
<span class="lineNum">    5250 </span><span class="lineNoCov">          0 :     free(ri);</span>
<a name="5251"><span class="lineNum">    5251 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    5252 </span>            : 
<span class="lineNum">    5253 </span><span class="lineNoCov">          0 : static int GFI_UnicodeRangeChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5254 </span><span class="lineNoCov">          0 :     struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5255 </span><span class="lineNoCov">          0 :     GTextInfo *ti = GGadgetGetListItemSelected(g);</span>
<span class="lineNum">    5256 </span>            :     struct unicoderange *r;
<span class="lineNum">    5257 </span><span class="lineNoCov">          0 :     int gid, first=-1;</span>
<span class="lineNum">    5258 </span><span class="lineNoCov">          0 :     SplineFont *sf = d-&gt;sf;</span>
<span class="lineNum">    5259 </span><span class="lineNoCov">          0 :     FontView *fv = (FontView *) (sf-&gt;fv);</span>
<span class="lineNum">    5260 </span><span class="lineNoCov">          0 :     EncMap *map = fv-&gt;b.map;</span>
<span class="lineNum">    5261 </span>            :     int i, enc;
<span class="lineNum">    5262 </span>            : 
<span class="lineNum">    5263 </span><span class="lineNoCov">          0 :     if ( ti==NULL )</span>
<span class="lineNum">    5264 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    5265 </span><span class="lineNoCov">          0 :     if ( e-&gt;type!=et_controlevent ||</span>
<span class="lineNum">    5266 </span><span class="lineNoCov">          0 :             (e-&gt;u.control.subtype != et_listselected &amp;&amp;e-&gt;u.control.subtype != et_listdoubleclick))</span>
<span class="lineNum">    5267 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    5268 </span>            : 
<span class="lineNum">    5269 </span><span class="lineNoCov">          0 :     r = ti-&gt;userdata;</span>
<span class="lineNum">    5270 </span>            : 
<span class="lineNum">    5271 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;map-&gt;enccount; ++i )</span>
<span class="lineNum">    5272 </span><span class="lineNoCov">          0 :         fv-&gt;b.selected[i] = 0;</span>
<span class="lineNum">    5273 </span>            : 
<span class="lineNum">    5274 </span><span class="lineNoCov">          0 :     if ( e-&gt;u.control.subtype == et_listselected ) {</span>
<span class="lineNum">    5275 </span><span class="lineNoCov">          0 :         for ( gid=0; gid&lt;sf-&gt;glyphcnt; ++gid ) if ( sf-&gt;glyphs[gid]!=NULL ) {</span>
<span class="lineNum">    5276 </span><span class="lineNoCov">          0 :             enc = map-&gt;backmap[gid];</span>
<span class="lineNum">    5277 </span><span class="lineNoCov">          0 :             if ( sf-&gt;glyphs[gid]-&gt;unicodeenc&gt;=r-&gt;first &amp;&amp; sf-&gt;glyphs[gid]-&gt;unicodeenc&lt;=r-&gt;last &amp;&amp;</span>
<span class="lineNum">    5278 </span>            :                     enc!=-1 ) {
<span class="lineNum">    5279 </span><span class="lineNoCov">          0 :                 if ( first==-1 || enc&lt;first ) first = enc;</span>
<span class="lineNum">    5280 </span><span class="lineNoCov">          0 :                 fv-&gt;b.selected[enc] = true;</span>
<span class="lineNum">    5281 </span>            :             }
<span class="lineNum">    5282 </span>            :         }
<span class="lineNum">    5283 </span><span class="lineNoCov">          0 :     } else if ( e-&gt;u.control.subtype == et_listdoubleclick &amp;&amp; !r-&gt;unassigned ) {</span>
<span class="lineNum">    5284 </span><span class="lineNoCov">          0 :         char *found = calloc(r-&gt;last-r-&gt;first+1,1);</span>
<span class="lineNum">    5285 </span><span class="lineNoCov">          0 :         for ( gid=0; gid&lt;sf-&gt;glyphcnt; ++gid ) if ( sf-&gt;glyphs[gid]!=NULL ) {</span>
<span class="lineNum">    5286 </span><span class="lineNoCov">          0 :             int u = sf-&gt;glyphs[gid]-&gt;unicodeenc;</span>
<span class="lineNum">    5287 </span><span class="lineNoCov">          0 :             if ( u&gt;=r-&gt;first &amp;&amp; u&lt;=r-&gt;last ) {</span>
<span class="lineNum">    5288 </span><span class="lineNoCov">          0 :                 found[u-r-&gt;first] = true;</span>
<span class="lineNum">    5289 </span>            :             }
<span class="lineNum">    5290 </span>            :         }
<span class="lineNum">    5291 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;=r-&gt;last-r-&gt;first; ++i ) {</span>
<span class="lineNum">    5292 </span><span class="lineNoCov">          0 :             if ( isunicodepointassigned(i+r-&gt;first) &amp;&amp; !found[i] ) {</span>
<span class="lineNum">    5293 </span><span class="lineNoCov">          0 :                 enc = EncFromUni(i+r-&gt;first,map-&gt;enc);</span>
<span class="lineNum">    5294 </span><span class="lineNoCov">          0 :                 if ( enc!=-1 ) {</span>
<span class="lineNum">    5295 </span><span class="lineNoCov">          0 :                     if ( first==-1 || enc&lt;first ) first = enc;</span>
<span class="lineNum">    5296 </span><span class="lineNoCov">          0 :                     fv-&gt;b.selected[enc] = true;</span>
<span class="lineNum">    5297 </span>            :                 }
<span class="lineNum">    5298 </span>            :             }
<span class="lineNum">    5299 </span>            :         }
<span class="lineNum">    5300 </span><span class="lineNoCov">          0 :         free(found);</span>
<span class="lineNum">    5301 </span>            :     }
<span class="lineNum">    5302 </span><span class="lineNoCov">          0 :     if ( first==-1 ) {</span>
<span class="lineNum">    5303 </span><span class="lineNoCov">          0 :         GDrawBeep(NULL);</span>
<span class="lineNum">    5304 </span>            :     } else {
<span class="lineNum">    5305 </span><span class="lineNoCov">          0 :         FVScrollToChar(fv,first);</span>
<span class="lineNum">    5306 </span>            :     }
<span class="lineNum">    5307 </span><span class="lineNoCov">          0 :     GDrawRequestExpose(fv-&gt;v,NULL,false);</span>
<span class="lineNum">    5308 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5309"><span class="lineNum">    5309 </span>            : }</a>
<span class="lineNum">    5310 </span>            : 
<span class="lineNum">    5311 </span><span class="lineNoCov">          0 : static int GFI_UnicodeEmptiesChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5312 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    5313 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5314 </span><span class="lineNoCov">          0 :         FigureUnicode(d);</span>
<span class="lineNum">    5315 </span>            :     }
<span class="lineNum">    5316 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5317"><span class="lineNum">    5317 </span>            : }</a>
<span class="lineNum">    5318 </span>            : 
<span class="lineNum">    5319 </span><span class="lineNoCov">          0 : static int GFI_AspectChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5320 </span><span class="lineNoCov">          0 :     if ( e==NULL || (e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged )) {</span>
<span class="lineNum">    5321 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5322 </span><span class="lineNoCov">          0 :         int new_aspect = GTabSetGetSel(g);</span>
<span class="lineNum">    5323 </span>            :         int rows;
<span class="lineNum">    5324 </span>            : 
<span class="lineNum">    5325 </span><span class="lineNoCov">          0 :         if ( d-&gt;old_aspect == d-&gt;tn_aspect )</span>
<span class="lineNum">    5326 </span><span class="lineNoCov">          0 :             GMatrixEditGet(GWidgetGetControl(d-&gt;gw,CID_TNames), &amp;rows);</span>
<span class="lineNum">    5327 </span><span class="lineNoCov">          0 :         if ( !d-&gt;ttf_set &amp;&amp; new_aspect == d-&gt;ttfv_aspect )</span>
<span class="lineNum">    5328 </span><span class="lineNoCov">          0 :             TTFSetup(d);</span>
<span class="lineNum">    5329 </span><span class="lineNoCov">          0 :         else if ( !d-&gt;names_set &amp;&amp; new_aspect == d-&gt;tn_aspect ) {</span>
<span class="lineNum">    5330 </span><span class="lineNoCov">          0 :             TTFNames_Resort(d);</span>
<span class="lineNum">    5331 </span><span class="lineNoCov">          0 :             d-&gt;names_set = true;</span>
<span class="lineNum">    5332 </span><span class="lineNoCov">          0 :         } else if ( !d-&gt;tex_set &amp;&amp; new_aspect == d-&gt;tx_aspect )</span>
<span class="lineNum">    5333 </span><span class="lineNoCov">          0 :             DefaultTeX(d);</span>
<span class="lineNum">    5334 </span><span class="lineNoCov">          0 :         else if ( new_aspect == d-&gt;unicode_aspect )</span>
<span class="lineNum">    5335 </span><span class="lineNoCov">          0 :             FigureUnicode(d);</span>
<span class="lineNum">    5336 </span><span class="lineNoCov">          0 :         d-&gt;old_aspect = new_aspect;</span>
<span class="lineNum">    5337 </span>            :     }
<span class="lineNum">    5338 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5339"><span class="lineNum">    5339 </span>            : }</a>
<span class="lineNum">    5340 </span>            : 
<span class="lineNum">    5341 </span><span class="lineNoCov">          0 : static int GFI_URangeAspectChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5342 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    5343 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5344 </span><span class="lineNoCov">          0 :         GTabSetSetSel(GWidgetGetControl(d-&gt;gw,CID_Tabs),d-&gt;ttfv_aspect);</span>
<span class="lineNum">    5345 </span><span class="lineNoCov">          0 :         GFI_AspectChange(GWidgetGetControl(d-&gt;gw,CID_Tabs),NULL);</span>
<span class="lineNum">    5346 </span><span class="lineNoCov">          0 :         GTabSetSetSel(GWidgetGetControl(d-&gt;gw,CID_TTFTabs),4);</span>
<span class="lineNum">    5347 </span>            :     }
<span class="lineNum">    5348 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5349"><span class="lineNum">    5349 </span>            : }</a>
<span class="lineNum">    5350 </span>            : 
<span class="lineNum">    5351 </span><span class="lineNoCov">          0 : static int e_h(GWindow gw, GEvent *event) {</span>
<span class="lineNum">    5352 </span><span class="lineNoCov">          0 :     if ( event-&gt;type==et_close ) {</span>
<span class="lineNum">    5353 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(gw);</span>
<span class="lineNum">    5354 </span><span class="lineNoCov">          0 :         GFI_CancelClose(d);</span>
<span class="lineNum">    5355 </span><span class="lineNoCov">          0 :     } else if ( event-&gt;type==et_destroy ) {</span>
<span class="lineNum">    5356 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(gw);</span>
<span class="lineNum">    5357 </span><span class="lineNoCov">          0 :         free(d);</span>
<span class="lineNum">    5358 </span><span class="lineNoCov">          0 :     } else if ( event-&gt;type==et_char ) {</span>
<span class="lineNum">    5359 </span><span class="lineNoCov">          0 : return( GFI_Char(GDrawGetUserData(gw),event));</span>
<span class="lineNum">    5360 </span>            :     }
<span class="lineNum">    5361 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5362"><span class="lineNum">    5362 </span>            : }</a>
<span class="lineNum">    5363 </span>            : 
<span class="lineNum">    5364 </span><span class="lineNoCov">          0 : static int OS2_UnicodeChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5365 </span>            :     int32 flags[4];
<span class="lineNum">    5366 </span>            :     int len,i,bit,set;
<span class="lineNum">    5367 </span>            : 
<span class="lineNum">    5368 </span><span class="lineNoCov">          0 :     if ( e==NULL || (e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_textchanged )) {</span>
<span class="lineNum">    5369 </span>            :         const unichar_t *ret;
<span class="lineNum">    5370 </span>            :         unichar_t *end;
<span class="lineNum">    5371 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5372 </span><span class="lineNoCov">          0 :         GWindow gw = d-&gt;gw;</span>
<span class="lineNum">    5373 </span>            :         GGadget *list;
<span class="lineNum">    5374 </span>            : 
<span class="lineNum">    5375 </span><span class="lineNoCov">          0 :         ret = _GGadgetGetTitle(g);</span>
<span class="lineNum">    5376 </span><span class="lineNoCov">          0 :         flags[3] = u_strtoul(ret,&amp;end,16);</span>
<span class="lineNum">    5377 </span><span class="lineNoCov">          0 :         while ( !ishexdigit(*end) &amp;&amp; *end!='\0' ) ++end;</span>
<span class="lineNum">    5378 </span><span class="lineNoCov">          0 :         flags[2] = u_strtoul(end,&amp;end,16);</span>
<span class="lineNum">    5379 </span><span class="lineNoCov">          0 :         while ( !ishexdigit(*end) &amp;&amp; *end!='\0' ) ++end;</span>
<span class="lineNum">    5380 </span><span class="lineNoCov">          0 :         flags[1] = u_strtoul(end,&amp;end,16);</span>
<span class="lineNum">    5381 </span><span class="lineNoCov">          0 :         while ( !ishexdigit(*end) &amp;&amp; *end!='\0' ) ++end;</span>
<span class="lineNum">    5382 </span><span class="lineNoCov">          0 :         flags[0] = u_strtoul(end,&amp;end,16);</span>
<span class="lineNum">    5383 </span>            : 
<span class="lineNum">    5384 </span><span class="lineNoCov">          0 :         list = GWidgetGetControl(gw,CID_UnicodeList);</span>
<span class="lineNum">    5385 </span>            : 
<span class="lineNum">    5386 </span><span class="lineNoCov">          0 :         for ( i=0; unicoderangenames[i].text!=NULL; ++i ) {</span>
<span class="lineNum">    5387 </span><span class="lineNoCov">          0 :             bit = (intpt) (unicoderangenames[i].userdata);</span>
<span class="lineNum">    5388 </span><span class="lineNoCov">          0 :             set = (flags[bit&gt;&gt;5]&amp;(1&lt;&lt;(bit&amp;31)))?1 : 0;</span>
<span class="lineNum">    5389 </span><span class="lineNoCov">          0 :             GGadgetSelectListItem(list,i,set);</span>
<span class="lineNum">    5390 </span>            :         }
<span class="lineNum">    5391 </span><span class="lineNoCov">          0 :     } else if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_listselected ) {</span>
<span class="lineNum">    5392 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5393 </span><span class="lineNoCov">          0 :         GWindow gw = d-&gt;gw;</span>
<span class="lineNum">    5394 </span>            :         char ranges[40];
<span class="lineNum">    5395 </span><span class="lineNoCov">          0 :         GTextInfo **list = GGadgetGetList(g,&amp;len);</span>
<span class="lineNum">    5396 </span><span class="lineNoCov">          0 :         GGadget *field = GWidgetGetControl(gw,CID_UnicodeRanges);</span>
<span class="lineNum">    5397 </span>            : 
<span class="lineNum">    5398 </span><span class="lineNoCov">          0 :         flags[0] = flags[1] = flags[2] = flags[3] = 0;</span>
<span class="lineNum">    5399 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;len; ++i )</span>
<span class="lineNum">    5400 </span><span class="lineNoCov">          0 :             if ( list[i]-&gt;selected ) {</span>
<span class="lineNum">    5401 </span><span class="lineNoCov">          0 :                 bit = ((intpt) (list[i]-&gt;userdata));</span>
<span class="lineNum">    5402 </span><span class="lineNoCov">          0 :                 flags[bit&gt;&gt;5] |= (1&lt;&lt;(bit&amp;31));</span>
<span class="lineNum">    5403 </span>            :             }
<span class="lineNum">    5404 </span>            : 
<span class="lineNum">    5405 </span><span class="lineNoCov">          0 :         sprintf( ranges, &quot;%08x.%08x.%08x.%08x&quot;, flags[3], flags[2], flags[1], flags[0]);</span>
<span class="lineNum">    5406 </span><span class="lineNoCov">          0 :         GGadgetSetTitle8(field,ranges);</span>
<span class="lineNum">    5407 </span>            :     }
<span class="lineNum">    5408 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5409"><span class="lineNum">    5409 </span>            : }</a>
<span class="lineNum">    5410 </span>            : 
<span class="lineNum">    5411 </span><span class="lineNoCov">          0 : static int OS2_URangesDefault(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5412 </span>            : 
<span class="lineNum">    5413 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    5414 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5415 </span><span class="lineNoCov">          0 :         int def = GGadgetIsChecked(g);</span>
<span class="lineNum">    5416 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_UnicodeRanges),!def);</span>
<span class="lineNum">    5417 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_UnicodeList),!def);</span>
<span class="lineNum">    5418 </span><span class="lineNoCov">          0 :         if ( def ) {</span>
<span class="lineNum">    5419 </span><span class="lineNoCov">          0 :             SplineFont *sf = gfi-&gt;sf;</span>
<span class="lineNum">    5420 </span>            :             char ranges[40];
<span class="lineNum">    5421 </span><span class="lineNoCov">          0 :             OS2FigureUnicodeRanges(sf,sf-&gt;pfminfo.unicoderanges);</span>
<span class="lineNum">    5422 </span><span class="lineNoCov">          0 :             sprintf( ranges, &quot;%08x.%08x.%08x.%08x&quot;,</span>
<span class="lineNum">    5423 </span>            :                     sf-&gt;pfminfo.unicoderanges[3], sf-&gt;pfminfo.unicoderanges[2],
<span class="lineNum">    5424 </span>            :                     sf-&gt;pfminfo.unicoderanges[1], sf-&gt;pfminfo.unicoderanges[0]);
<span class="lineNum">    5425 </span><span class="lineNoCov">          0 :             GGadgetSetTitle8(GWidgetGetControl(gfi-&gt;gw,CID_UnicodeRanges),ranges);</span>
<span class="lineNum">    5426 </span><span class="lineNoCov">          0 :             OS2_UnicodeChange(GWidgetGetControl(gfi-&gt;gw,CID_UnicodeRanges),NULL);</span>
<span class="lineNum">    5427 </span>            :         }
<span class="lineNum">    5428 </span>            :     }
<span class="lineNum">    5429 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5430"><span class="lineNum">    5430 </span>            : }</a>
<span class="lineNum">    5431 </span>            : 
<span class="lineNum">    5432 </span><span class="lineNoCov">          0 : static int OS2_CodePageChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5433 </span>            :     int32 flags[2];
<span class="lineNum">    5434 </span>            :     int len,i,bit,set;
<span class="lineNum">    5435 </span>            : 
<span class="lineNum">    5436 </span><span class="lineNoCov">          0 :     if ( e==NULL || (e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_textchanged )) {</span>
<span class="lineNum">    5437 </span>            :         const unichar_t *ret;
<span class="lineNum">    5438 </span>            :         unichar_t *end;
<span class="lineNum">    5439 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5440 </span><span class="lineNoCov">          0 :         GWindow gw = d-&gt;gw;</span>
<span class="lineNum">    5441 </span>            :         GGadget *list;
<span class="lineNum">    5442 </span>            : 
<span class="lineNum">    5443 </span><span class="lineNoCov">          0 :         ret = _GGadgetGetTitle(g);</span>
<span class="lineNum">    5444 </span><span class="lineNoCov">          0 :         flags[1] = u_strtoul(ret,&amp;end,16);</span>
<span class="lineNum">    5445 </span><span class="lineNoCov">          0 :         while ( !ishexdigit(*end) &amp;&amp; *end!='\0' ) ++end;</span>
<span class="lineNum">    5446 </span><span class="lineNoCov">          0 :         flags[0] = u_strtoul(end,&amp;end,16);</span>
<span class="lineNum">    5447 </span>            : 
<span class="lineNum">    5448 </span><span class="lineNoCov">          0 :         list = GWidgetGetControl(gw,CID_CodePageList);</span>
<span class="lineNum">    5449 </span>            : 
<span class="lineNum">    5450 </span><span class="lineNoCov">          0 :         for ( i=0; codepagenames[i].text!=NULL; ++i ) {</span>
<span class="lineNum">    5451 </span><span class="lineNoCov">          0 :             bit = (intpt) (codepagenames[i].userdata);</span>
<span class="lineNum">    5452 </span><span class="lineNoCov">          0 :             set = (flags[bit&gt;&gt;5]&amp;(1&lt;&lt;(bit&amp;31)))?1 : 0;</span>
<span class="lineNum">    5453 </span><span class="lineNoCov">          0 :             GGadgetSelectListItem(list,i,set);</span>
<span class="lineNum">    5454 </span>            :         }
<span class="lineNum">    5455 </span><span class="lineNoCov">          0 :     } else if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_listselected ) {</span>
<span class="lineNum">    5456 </span><span class="lineNoCov">          0 :         struct gfi_data *d = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5457 </span><span class="lineNoCov">          0 :         GWindow gw = d-&gt;gw;</span>
<span class="lineNum">    5458 </span>            :         char ranges[40];
<span class="lineNum">    5459 </span><span class="lineNoCov">          0 :         GTextInfo **list = GGadgetGetList(g,&amp;len);</span>
<span class="lineNum">    5460 </span><span class="lineNoCov">          0 :         GGadget *field = GWidgetGetControl(gw,CID_CodePageRanges);</span>
<span class="lineNum">    5461 </span>            : 
<span class="lineNum">    5462 </span><span class="lineNoCov">          0 :         flags[0] = flags[1] = 0;</span>
<span class="lineNum">    5463 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;len; ++i )</span>
<span class="lineNum">    5464 </span><span class="lineNoCov">          0 :             if ( list[i]-&gt;selected ) {</span>
<span class="lineNum">    5465 </span><span class="lineNoCov">          0 :                 bit = ((intpt) (list[i]-&gt;userdata));</span>
<span class="lineNum">    5466 </span><span class="lineNoCov">          0 :                 flags[bit&gt;&gt;5] |= (1&lt;&lt;(bit&amp;31));</span>
<span class="lineNum">    5467 </span>            :             }
<span class="lineNum">    5468 </span>            : 
<span class="lineNum">    5469 </span><span class="lineNoCov">          0 :         sprintf( ranges, &quot;%08x.%08x&quot;, flags[1], flags[0]);</span>
<span class="lineNum">    5470 </span><span class="lineNoCov">          0 :         GGadgetSetTitle8(field,ranges);</span>
<span class="lineNum">    5471 </span>            :     }
<span class="lineNum">    5472 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5473"><span class="lineNum">    5473 </span>            : }</a>
<span class="lineNum">    5474 </span>            : 
<span class="lineNum">    5475 </span><span class="lineNoCov">          0 : static int OS2_CPageDefault(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5476 </span>            : 
<span class="lineNum">    5477 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    5478 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5479 </span><span class="lineNoCov">          0 :         int def = GGadgetIsChecked(g);</span>
<span class="lineNum">    5480 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_CodePageRanges),!def);</span>
<span class="lineNum">    5481 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_CodePageList),!def);</span>
<span class="lineNum">    5482 </span><span class="lineNoCov">          0 :         if ( def ) {</span>
<span class="lineNum">    5483 </span><span class="lineNoCov">          0 :             SplineFont *sf = gfi-&gt;sf;</span>
<span class="lineNum">    5484 </span>            :             char codepages[40];
<span class="lineNum">    5485 </span><span class="lineNoCov">          0 :             OS2FigureCodePages(sf,sf-&gt;pfminfo.codepages);</span>
<span class="lineNum">    5486 </span><span class="lineNoCov">          0 :             sprintf( codepages, &quot;%08x.%08x&quot;,</span>
<span class="lineNum">    5487 </span>            :                     sf-&gt;pfminfo.codepages[1], sf-&gt;pfminfo.codepages[0]);
<span class="lineNum">    5488 </span><span class="lineNoCov">          0 :             GGadgetSetTitle8(GWidgetGetControl(gfi-&gt;gw,CID_CodePageRanges),codepages);</span>
<span class="lineNum">    5489 </span><span class="lineNoCov">          0 :             OS2_CodePageChange(GWidgetGetControl(gfi-&gt;gw,CID_CodePageRanges),NULL);</span>
<span class="lineNum">    5490 </span>            :         }
<span class="lineNum">    5491 </span>            :     }
<span class="lineNum">    5492 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5493"><span class="lineNum">    5493 </span>            : }</a>
<span class="lineNum">    5494 </span>            : 
<span class="lineNum">    5495 </span><span class="lineNoCov">          0 : static int GFI_UseUniqueIDChanged(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5496 </span>            : 
<span class="lineNum">    5497 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    5498 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5499 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_UniqueID),</span>
<span class="lineNum">    5500 </span>            :                 GGadgetIsChecked(g));
<span class="lineNum">    5501 </span>            :     }
<span class="lineNum">    5502 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5503"><span class="lineNum">    5503 </span>            : }</a>
<span class="lineNum">    5504 </span>            : 
<span class="lineNum">    5505 </span><span class="lineNoCov">          0 : static int GFI_UseXUIDChanged(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5506 </span>            : 
<span class="lineNum">    5507 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    5508 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5509 </span><span class="lineNoCov">          0 :         GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_XUID),</span>
<span class="lineNum">    5510 </span>            :                 GGadgetIsChecked(g));
<span class="lineNum">    5511 </span>            :     }
<span class="lineNum">    5512 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5513"><span class="lineNum">    5513 </span>            : }</a>
<span class="lineNum">    5514 </span>            : 
<span class="lineNum">    5515 </span><span class="lineNoCov">          0 : static void LookupSetup(struct lkdata *lk,OTLookup *lookups) {</span>
<span class="lineNum">    5516 </span>            :     int cnt, subcnt;
<span class="lineNum">    5517 </span>            :     OTLookup *otl;
<span class="lineNum">    5518 </span>            :     struct lookup_subtable *sub;
<span class="lineNum">    5519 </span>            : 
<span class="lineNum">    5520 </span><span class="lineNoCov">          0 :     for ( cnt=0, otl=lookups; otl!=NULL; ++cnt, otl=otl-&gt;next );</span>
<span class="lineNum">    5521 </span><span class="lineNoCov">          0 :     lk-&gt;cnt = cnt; lk-&gt;max = cnt+10;</span>
<span class="lineNum">    5522 </span><span class="lineNoCov">          0 :     lk-&gt;all = calloc(lk-&gt;max,sizeof(struct lkinfo));</span>
<span class="lineNum">    5523 </span><span class="lineNoCov">          0 :     for ( cnt=0, otl=lookups; otl!=NULL; ++cnt, otl=otl-&gt;next ) {</span>
<span class="lineNum">    5524 </span><span class="lineNoCov">          0 :         lk-&gt;all[cnt].lookup = otl;</span>
<span class="lineNum">    5525 </span><span class="lineNoCov">          0 :         for ( subcnt=0, sub=otl-&gt;subtables; sub!=NULL; ++subcnt, sub=sub-&gt;next );</span>
<span class="lineNum">    5526 </span><span class="lineNoCov">          0 :         lk-&gt;all[cnt].subtable_cnt = subcnt; lk-&gt;all[cnt].subtable_max = subcnt+10;</span>
<span class="lineNum">    5527 </span><span class="lineNoCov">          0 :         lk-&gt;all[cnt].subtables = calloc(lk-&gt;all[cnt].subtable_max,sizeof(struct lksubinfo));</span>
<span class="lineNum">    5528 </span><span class="lineNoCov">          0 :         for ( subcnt=0, sub=otl-&gt;subtables; sub!=NULL; ++subcnt, sub=sub-&gt;next )</span>
<span class="lineNum">    5529 </span><span class="lineNoCov">          0 :             lk-&gt;all[cnt].subtables[subcnt].subtable = sub;</span>
<span class="lineNum">    5530 </span>            :     }
<a name="5531"><span class="lineNum">    5531 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    5532 </span>            : 
<span class="lineNum">    5533 </span><span class="lineNoCov">          0 : static void LookupInfoFree(struct lkdata *lk) {</span>
<span class="lineNum">    5534 </span>            :     int cnt;
<span class="lineNum">    5535 </span>            : 
<span class="lineNum">    5536 </span><span class="lineNoCov">          0 :     for ( cnt=0; cnt&lt;lk-&gt;cnt; ++cnt )</span>
<span class="lineNum">    5537 </span><span class="lineNoCov">          0 :         free(lk-&gt;all[cnt].subtables);</span>
<span class="lineNum">    5538 </span><span class="lineNoCov">          0 :     free(lk-&gt;all);</span>
<span class="lineNum">    5539 </span><span class="lineNoCov">          0 : }</span>
<span class="lineNum">    5540 </span>            : 
<span class="lineNum">    5541 </span>            : #define LK_MARGIN 2
<span class="lineNum">    5542 </span>            : 
<span class="lineNum">    5543 </span>            : struct selection_bits {
<span class="lineNum">    5544 </span>            :     int lookup_cnt, sub_cnt;    /* Number of selected lookups, and selected sub tables */
<span class="lineNum">    5545 </span>            :     int a_lookup, a_sub;        /* The index of one of those lookups, or subtables */
<span class="lineNum">    5546 </span>            :     int a_sub_lookup;           /*  the index of the lookup containing a_sub */
<span class="lineNum">    5547 </span>            :     int any_first, any_last;    /* Whether any of the selected items is first or last in its catagory */
<span class="lineNum">    5548 </span>            :     int sub_table_mergeable;    /* Can we merge the selected subtables? */
<span class="lineNum">    5549 </span>            :     int lookup_mergeable;       /* Can we merge the selected lookups? */
<a name="5550"><span class="lineNum">    5550 </span>            : };</a>
<span class="lineNum">    5551 </span>            : 
<span class="lineNum">    5552 </span><span class="lineNoCov">          0 : static void LookupParseSelection(struct lkdata *lk, struct selection_bits *sel) {</span>
<span class="lineNum">    5553 </span>            :     int lookup_cnt, sub_cnt, any_first, any_last, all_one_lookup;
<span class="lineNum">    5554 </span>            :     int a_lookup, a_sub, a_sub_lookup;
<span class="lineNum">    5555 </span>            :     int sub_mergeable, lookup_mergeable;
<span class="lineNum">    5556 </span>            :     int i,j;
<span class="lineNum">    5557 </span>            : 
<span class="lineNum">    5558 </span><span class="lineNoCov">          0 :     lookup_cnt = sub_cnt = any_first = any_last = 0;</span>
<span class="lineNum">    5559 </span><span class="lineNoCov">          0 :     all_one_lookup = a_lookup = a_sub = a_sub_lookup = -1;</span>
<span class="lineNum">    5560 </span><span class="lineNoCov">          0 :     sub_mergeable = lookup_mergeable = true;</span>
<span class="lineNum">    5561 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    5562 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    5563 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    5564 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].selected ) {</span>
<span class="lineNum">    5565 </span><span class="lineNoCov">          0 :             ++lookup_cnt;</span>
<span class="lineNum">    5566 </span><span class="lineNoCov">          0 :             if ( a_lookup==-1 )</span>
<span class="lineNum">    5567 </span><span class="lineNoCov">          0 :                 a_lookup = i;</span>
<span class="lineNum">    5568 </span><span class="lineNoCov">          0 :             else if ( lk-&gt;all[i].lookup-&gt;lookup_type!=lk-&gt;all[a_lookup].lookup-&gt;lookup_type ||</span>
<span class="lineNum">    5569 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i].lookup-&gt;lookup_flags!=lk-&gt;all[a_lookup].lookup-&gt;lookup_flags )</span>
<span class="lineNum">    5570 </span><span class="lineNoCov">          0 :                 lookup_mergeable = false;</span>
<span class="lineNum">    5571 </span><span class="lineNoCov">          0 :             if ( i==0 ) any_first=true;</span>
<span class="lineNum">    5572 </span><span class="lineNoCov">          0 :             if ( i==lk-&gt;cnt-1 ) any_last=true;</span>
<span class="lineNum">    5573 </span>            :         }
<span class="lineNum">    5574 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    5575 </span><span class="lineNoCov">          0 :             for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    5576 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    5577 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    5578 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].selected ) {</span>
<span class="lineNum">    5579 </span><span class="lineNoCov">          0 :                     ++sub_cnt;</span>
<span class="lineNum">    5580 </span><span class="lineNoCov">          0 :                     if ( a_sub==-1 ) {</span>
<span class="lineNum">    5581 </span><span class="lineNoCov">          0 :                         a_sub = j; a_sub_lookup = i;</span>
<span class="lineNum">    5582 </span>            :                     }
<span class="lineNum">    5583 </span><span class="lineNoCov">          0 :                     if ( j==0 ) any_first = true;</span>
<span class="lineNum">    5584 </span><span class="lineNoCov">          0 :                     if ( j==lk-&gt;all[i].subtable_cnt-1 ) any_last = true;</span>
<span class="lineNum">    5585 </span><span class="lineNoCov">          0 :                     if ( lk-&gt;all[i].subtables[j].subtable-&gt;kc!=NULL ||</span>
<span class="lineNum">    5586 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[j].subtable-&gt;fpst!=NULL ||</span>
<span class="lineNum">    5587 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[j].subtable-&gt;sm!=NULL )</span>
<span class="lineNum">    5588 </span><span class="lineNoCov">          0 :                         sub_mergeable = false;</span>
<span class="lineNum">    5589 </span><span class="lineNoCov">          0 :                     if ( all_one_lookup==-1 )</span>
<span class="lineNum">    5590 </span><span class="lineNoCov">          0 :                         all_one_lookup = i;</span>
<span class="lineNum">    5591 </span><span class="lineNoCov">          0 :                     else if ( all_one_lookup!=i )</span>
<span class="lineNum">    5592 </span><span class="lineNoCov">          0 :                         all_one_lookup = -2;</span>
<span class="lineNum">    5593 </span>            :                 }
<span class="lineNum">    5594 </span>            :             }
<span class="lineNum">    5595 </span>            :         }
<span class="lineNum">    5596 </span>            :     }
<span class="lineNum">    5597 </span>            : 
<span class="lineNum">    5598 </span><span class="lineNoCov">          0 :     sel-&gt;lookup_cnt = lookup_cnt;</span>
<span class="lineNum">    5599 </span><span class="lineNoCov">          0 :     sel-&gt;sub_cnt = sub_cnt;</span>
<span class="lineNum">    5600 </span><span class="lineNoCov">          0 :     sel-&gt;a_lookup = a_lookup;</span>
<span class="lineNum">    5601 </span><span class="lineNoCov">          0 :     sel-&gt;a_sub = a_sub;</span>
<span class="lineNum">    5602 </span><span class="lineNoCov">          0 :     sel-&gt;a_sub_lookup = a_sub_lookup;</span>
<span class="lineNum">    5603 </span><span class="lineNoCov">          0 :     sel-&gt;any_first = any_first;</span>
<span class="lineNum">    5604 </span><span class="lineNoCov">          0 :     sel-&gt;any_last = any_last;</span>
<span class="lineNum">    5605 </span><span class="lineNoCov">          0 :     sel-&gt;sub_table_mergeable = sub_mergeable &amp;&amp; all_one_lookup&gt;=0 &amp;&amp; sub_cnt&gt;=2 &amp;&amp; lookup_cnt==0;</span>
<span class="lineNum">    5606 </span><span class="lineNoCov">          0 :     sel-&gt;lookup_mergeable = lookup_mergeable &amp;&amp; lookup_cnt&gt;=2 &amp;&amp; sub_cnt==0;</span>
<a name="5607"><span class="lineNum">    5607 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    5608 </span>            : 
<span class="lineNum">    5609 </span><span class="lineNoCov">          0 : static int LookupsImportable(SplineFont *sf,int isgpos) {</span>
<span class="lineNum">    5610 </span>            :     FontView *ofv;
<span class="lineNum">    5611 </span>            : 
<span class="lineNum">    5612 </span><span class="lineNoCov">          0 :     for ( ofv=fv_list; ofv!=NULL; ofv = (FontView *) (ofv-&gt;b.next) ) {</span>
<span class="lineNum">    5613 </span><span class="lineNoCov">          0 :         SplineFont *osf = ofv-&gt;b.sf;</span>
<span class="lineNum">    5614 </span><span class="lineNoCov">          0 :         if ( osf-&gt;cidmaster ) osf = osf-&gt;cidmaster;</span>
<span class="lineNum">    5615 </span><span class="lineNoCov">          0 :         if ( osf==sf || sf-&gt;cidmaster==osf )</span>
<span class="lineNum">    5616 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    5617 </span><span class="lineNoCov">          0 :         if ( (isgpos &amp;&amp; osf-&gt;gpos_lookups!=NULL) || (!isgpos &amp;&amp; osf-&gt;gsub_lookups!=NULL) )</span>
<span class="lineNum">    5618 </span>            :     break;
<span class="lineNum">    5619 </span>            :     }
<span class="lineNum">    5620 </span><span class="lineNoCov">          0 : return( ofv!=NULL );</span>
<a name="5621"><span class="lineNum">    5621 </span>            : }</a>
<span class="lineNum">    5622 </span>            : 
<span class="lineNum">    5623 </span><span class="lineNoCov">          0 : void GFI_LookupEnableButtons(struct gfi_data *gfi, int isgpos) {</span>
<span class="lineNum">    5624 </span><span class="lineNoCov">          0 :     struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    5625 </span>            :     struct selection_bits sel;
<span class="lineNum">    5626 </span>            : 
<span class="lineNum">    5627 </span><span class="lineNoCov">          0 :     LookupParseSelection(lk,&amp;sel);</span>
<span class="lineNum">    5628 </span>            : 
<span class="lineNum">    5629 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_LookupTop),!sel.any_first &amp;&amp;</span>
<span class="lineNum">    5630 </span><span class="lineNoCov">          0 :             sel.lookup_cnt+sel.sub_cnt==1);</span>
<span class="lineNum">    5631 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_LookupUp),!sel.any_first &amp;&amp;</span>
<span class="lineNum">    5632 </span><span class="lineNoCov">          0 :             sel.lookup_cnt+sel.sub_cnt!=0);</span>
<span class="lineNum">    5633 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_LookupDown),!sel.any_last &amp;&amp;</span>
<span class="lineNum">    5634 </span><span class="lineNoCov">          0 :             sel.lookup_cnt+sel.sub_cnt!=0);</span>
<span class="lineNum">    5635 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_LookupBottom),!sel.any_last &amp;&amp;</span>
<span class="lineNum">    5636 </span><span class="lineNoCov">          0 :             sel.lookup_cnt+sel.sub_cnt==1);</span>
<span class="lineNum">    5637 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_AddLookup),</span>
<span class="lineNum">    5638 </span><span class="lineNoCov">          0 :             (sel.lookup_cnt+sel.sub_cnt&lt;=1));</span>
<span class="lineNum">    5639 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_AddSubtable),</span>
<span class="lineNum">    5640 </span><span class="lineNoCov">          0 :             (sel.lookup_cnt==1 &amp;&amp; sel.sub_cnt&lt;=1) || (sel.lookup_cnt==0 &amp;&amp; sel.sub_cnt==1));</span>
<span class="lineNum">    5641 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_EditMetadata),</span>
<span class="lineNum">    5642 </span><span class="lineNoCov">          0 :             (sel.lookup_cnt==1 &amp;&amp; sel.sub_cnt==0) ||</span>
<span class="lineNum">    5643 </span><span class="lineNoCov">          0 :             (sel.lookup_cnt==0 &amp;&amp; sel.sub_cnt==1));</span>
<span class="lineNum">    5644 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_EditSubtable),sel.lookup_cnt==0 &amp;&amp;</span>
<span class="lineNum">    5645 </span><span class="lineNoCov">          0 :             sel.sub_cnt==1);</span>
<span class="lineNum">    5646 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_DeleteLookup),sel.lookup_cnt!=0 ||</span>
<span class="lineNum">    5647 </span><span class="lineNoCov">          0 :             sel.sub_cnt!=0);</span>
<span class="lineNum">    5648 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_MergeLookup),</span>
<span class="lineNum">    5649 </span><span class="lineNoCov">          0 :             (sel.lookup_cnt&gt;=2 &amp;&amp; sel.sub_cnt==0 &amp;&amp; sel.lookup_mergeable) ||</span>
<span class="lineNum">    5650 </span><span class="lineNoCov">          0 :             (sel.lookup_cnt==0 &amp;&amp; sel.sub_cnt&gt;=2 &amp;&amp; sel.sub_table_mergeable));</span>
<span class="lineNum">    5651 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_RevertLookups),true);</span>
<span class="lineNum">    5652 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_LookupSort),lk-&gt;cnt&gt;1 );</span>
<span class="lineNum">    5653 </span>            : 
<span class="lineNum">    5654 </span><span class="lineNoCov">          0 :     GGadgetSetEnabled(GWidgetGetControl(gfi-&gt;gw,CID_ImportLookups),</span>
<span class="lineNum">    5655 </span>            :             LookupsImportable(gfi-&gt;sf,isgpos));
<a name="5656"><span class="lineNum">    5656 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    5657 </span>            : 
<span class="lineNum">    5658 </span><span class="lineNoCov">          0 : void GFI_LookupScrollbars(struct gfi_data *gfi, int isgpos, int refresh) {</span>
<span class="lineNum">    5659 </span>            :     int lcnt, i,j;
<span class="lineNum">    5660 </span><span class="lineNoCov">          0 :     int width=0, wmax;</span>
<span class="lineNum">    5661 </span><span class="lineNoCov">          0 :     GWindow gw = GDrawableGetWindow(GWidgetGetControl(gfi-&gt;gw,CID_LookupWin+isgpos));</span>
<span class="lineNum">    5662 </span><span class="lineNoCov">          0 :     struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    5663 </span><span class="lineNoCov">          0 :     GGadget *vsb = GWidgetGetControl(gfi-&gt;gw,CID_LookupVSB+isgpos);</span>
<span class="lineNum">    5664 </span><span class="lineNoCov">          0 :     GGadget *hsb = GWidgetGetControl(gfi-&gt;gw,CID_LookupHSB+isgpos);</span>
<span class="lineNum">    5665 </span>            :     int off_top, off_left;
<span class="lineNum">    5666 </span>            : 
<span class="lineNum">    5667 </span><span class="lineNoCov">          0 :     GDrawSetFont(gw,gfi-&gt;font);</span>
<span class="lineNum">    5668 </span><span class="lineNoCov">          0 :     lcnt = 0;</span>
<span class="lineNum">    5669 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    5670 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    5671 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    5672 </span><span class="lineNoCov">          0 :         ++lcnt;</span>
<span class="lineNum">    5673 </span><span class="lineNoCov">          0 :         wmax = GDrawGetText8Width(gw,lk-&gt;all[i].lookup-&gt;lookup_name,-1);</span>
<span class="lineNum">    5674 </span><span class="lineNoCov">          0 :         if ( wmax &gt; width ) width = wmax;</span>
<span class="lineNum">    5675 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    5676 </span><span class="lineNoCov">          0 :             for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    5677 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    5678 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    5679 </span><span class="lineNoCov">          0 :                 ++lcnt;</span>
<span class="lineNum">    5680 </span><span class="lineNoCov">          0 :                 wmax = gfi-&gt;fh+GDrawGetText8Width(gw,lk-&gt;all[i].subtables[j].subtable-&gt;subtable_name,-1);</span>
<span class="lineNum">    5681 </span><span class="lineNoCov">          0 :                 if ( wmax &gt; width ) width = wmax;</span>
<span class="lineNum">    5682 </span>            :             }
<span class="lineNum">    5683 </span>            :         }
<span class="lineNum">    5684 </span>            :     }
<span class="lineNum">    5685 </span><span class="lineNoCov">          0 :     width += gfi-&gt;fh;</span>
<span class="lineNum">    5686 </span><span class="lineNoCov">          0 :     GScrollBarSetBounds(vsb,0,lcnt,(gfi-&gt;lkheight-2*LK_MARGIN)/gfi-&gt;fh);</span>
<span class="lineNum">    5687 </span><span class="lineNoCov">          0 :     GScrollBarSetBounds(hsb,0,width,gfi-&gt;lkwidth-2*LK_MARGIN);</span>
<span class="lineNum">    5688 </span><span class="lineNoCov">          0 :     off_top = lk-&gt;off_top;</span>
<span class="lineNum">    5689 </span><span class="lineNoCov">          0 :     if ( off_top+((gfi-&gt;lkheight-2*LK_MARGIN)/gfi-&gt;fh) &gt; lcnt )</span>
<span class="lineNum">    5690 </span><span class="lineNoCov">          0 :         off_top = lcnt - (gfi-&gt;lkheight-2*LK_MARGIN)/gfi-&gt;fh;</span>
<span class="lineNum">    5691 </span><span class="lineNoCov">          0 :     if ( off_top&lt;0 )</span>
<span class="lineNum">    5692 </span><span class="lineNoCov">          0 :         off_top  = 0;</span>
<span class="lineNum">    5693 </span><span class="lineNoCov">          0 :     off_left = lk-&gt;off_left;</span>
<span class="lineNum">    5694 </span><span class="lineNoCov">          0 :     if ( off_left+gfi-&gt;lkwidth-2*LK_MARGIN &gt; width )</span>
<span class="lineNum">    5695 </span><span class="lineNoCov">          0 :         off_left = width-(gfi-&gt;lkwidth-2*LK_MARGIN);</span>
<span class="lineNum">    5696 </span><span class="lineNoCov">          0 :     if ( off_left&lt;0 )</span>
<span class="lineNum">    5697 </span><span class="lineNoCov">          0 :         off_left  = 0;</span>
<span class="lineNum">    5698 </span><span class="lineNoCov">          0 :     if ( off_top!=lk-&gt;off_top || off_left!=lk-&gt;off_left ) {</span>
<span class="lineNum">    5699 </span><span class="lineNoCov">          0 :         lk-&gt;off_top = off_top; lk-&gt;off_left = off_left;</span>
<span class="lineNum">    5700 </span><span class="lineNoCov">          0 :         GScrollBarSetPos(vsb,off_top);</span>
<span class="lineNum">    5701 </span><span class="lineNoCov">          0 :         GScrollBarSetPos(hsb,off_left);</span>
<span class="lineNum">    5702 </span><span class="lineNoCov">          0 :         refresh = true;</span>
<span class="lineNum">    5703 </span>            :     }
<span class="lineNum">    5704 </span><span class="lineNoCov">          0 :     if ( refresh )</span>
<span class="lineNum">    5705 </span><span class="lineNoCov">          0 :         GDrawRequestExpose(gw,NULL,false);</span>
<a name="5706"><span class="lineNum">    5706 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    5707 </span>            : 
<span class="lineNum">    5708 </span><span class="lineNoCov">          0 : static int LookupsHScroll(GGadget *g,GEvent *event) {</span>
<span class="lineNum">    5709 </span><span class="lineNoCov">          0 :     struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5710 </span><span class="lineNoCov">          0 :     int isgpos = GGadgetGetCid(g)-CID_LookupHSB;</span>
<span class="lineNum">    5711 </span><span class="lineNoCov">          0 :     struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    5712 </span><span class="lineNoCov">          0 :     int newpos = lk-&gt;off_left;</span>
<span class="lineNum">    5713 </span>            :     int32 sb_min, sb_max, sb_pagesize;
<span class="lineNum">    5714 </span>            : 
<span class="lineNum">    5715 </span><span class="lineNoCov">          0 :     if ( event-&gt;type!=et_controlevent || event-&gt;u.control.subtype != et_scrollbarchange )</span>
<span class="lineNum">    5716 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    5717 </span>            : 
<span class="lineNum">    5718 </span><span class="lineNoCov">          0 :     GScrollBarGetBounds(event-&gt;u.control.g,&amp;sb_min,&amp;sb_max,&amp;sb_pagesize);</span>
<span class="lineNum">    5719 </span><span class="lineNoCov">          0 :     switch( event-&gt;u.control.u.sb.type ) {</span>
<span class="lineNum">    5720 </span>            :       case et_sb_top:
<span class="lineNum">    5721 </span><span class="lineNoCov">          0 :         newpos = 0;</span>
<span class="lineNum">    5722 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5723 </span>            :       case et_sb_uppage:
<span class="lineNum">    5724 </span><span class="lineNoCov">          0 :         newpos -= 9*sb_pagesize/10;</span>
<span class="lineNum">    5725 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5726 </span>            :       case et_sb_up:
<span class="lineNum">    5727 </span><span class="lineNoCov">          0 :         newpos -= sb_pagesize/15;</span>
<span class="lineNum">    5728 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5729 </span>            :       case et_sb_down:
<span class="lineNum">    5730 </span><span class="lineNoCov">          0 :         newpos += sb_pagesize/15;</span>
<span class="lineNum">    5731 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5732 </span>            :       case et_sb_downpage:
<span class="lineNum">    5733 </span><span class="lineNoCov">          0 :         newpos += 9*sb_pagesize/10;</span>
<span class="lineNum">    5734 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5735 </span>            :       case et_sb_bottom:
<span class="lineNum">    5736 </span><span class="lineNoCov">          0 :         newpos = sb_max-sb_pagesize;</span>
<span class="lineNum">    5737 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5738 </span>            :       case et_sb_thumb:
<span class="lineNum">    5739 </span>            :       case et_sb_thumbrelease:
<span class="lineNum">    5740 </span><span class="lineNoCov">          0 :         newpos = event-&gt;u.control.u.sb.pos;</span>
<span class="lineNum">    5741 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5742 </span>            :       case et_sb_halfup:
<span class="lineNum">    5743 </span><span class="lineNoCov">          0 :         newpos -= sb_pagesize/30;</span>
<span class="lineNum">    5744 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5745 </span>            :       case et_sb_halfdown:
<span class="lineNum">    5746 </span><span class="lineNoCov">          0 :         newpos += sb_pagesize/30;</span>
<span class="lineNum">    5747 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5748 </span>            :     }
<span class="lineNum">    5749 </span><span class="lineNoCov">          0 :     if ( newpos&gt;sb_max-sb_pagesize )</span>
<span class="lineNum">    5750 </span><span class="lineNoCov">          0 :         newpos = sb_max-sb_pagesize;</span>
<span class="lineNum">    5751 </span><span class="lineNoCov">          0 :     if ( newpos&lt;0 ) newpos = 0;</span>
<span class="lineNum">    5752 </span><span class="lineNoCov">          0 :     if ( newpos!=lk-&gt;off_left ) {</span>
<span class="lineNum">    5753 </span><span class="lineNoCov">          0 :         lk-&gt;off_left = newpos;</span>
<span class="lineNum">    5754 </span><span class="lineNoCov">          0 :         GScrollBarSetPos(event-&gt;u.control.g,newpos);</span>
<span class="lineNum">    5755 </span><span class="lineNoCov">          0 :         GDrawRequestExpose(GDrawableGetWindow(GWidgetGetControl(gfi-&gt;gw,CID_LookupWin+isgpos)),NULL,false);</span>
<span class="lineNum">    5756 </span>            :     }
<span class="lineNum">    5757 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5758"><span class="lineNum">    5758 </span>            : }</a>
<span class="lineNum">    5759 </span>            : 
<span class="lineNum">    5760 </span><span class="lineNoCov">          0 : static int LookupsVScroll(GGadget *g,GEvent *event) {</span>
<span class="lineNum">    5761 </span><span class="lineNoCov">          0 :     struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5762 </span><span class="lineNoCov">          0 :     int isgpos = GGadgetGetCid(g)-CID_LookupVSB;</span>
<span class="lineNum">    5763 </span><span class="lineNoCov">          0 :     struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    5764 </span><span class="lineNoCov">          0 :     int newpos = lk-&gt;off_top;</span>
<span class="lineNum">    5765 </span>            :     int32 sb_min, sb_max, sb_pagesize;
<span class="lineNum">    5766 </span>            : 
<span class="lineNum">    5767 </span><span class="lineNoCov">          0 :     if ( event-&gt;type!=et_controlevent || event-&gt;u.control.subtype != et_scrollbarchange )</span>
<span class="lineNum">    5768 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    5769 </span>            : 
<span class="lineNum">    5770 </span><span class="lineNoCov">          0 :     GScrollBarGetBounds(event-&gt;u.control.g,&amp;sb_min,&amp;sb_max,&amp;sb_pagesize);</span>
<span class="lineNum">    5771 </span><span class="lineNoCov">          0 :     switch( event-&gt;u.control.u.sb.type ) {</span>
<span class="lineNum">    5772 </span>            :       case et_sb_top:
<span class="lineNum">    5773 </span><span class="lineNoCov">          0 :         newpos = 0;</span>
<span class="lineNum">    5774 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5775 </span>            :       case et_sb_uppage:
<span class="lineNum">    5776 </span><span class="lineNoCov">          0 :         newpos -= 9*sb_pagesize/10;</span>
<span class="lineNum">    5777 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5778 </span>            :       case et_sb_up:
<span class="lineNum">    5779 </span><span class="lineNoCov">          0 :         --newpos;</span>
<span class="lineNum">    5780 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5781 </span>            :       case et_sb_down:
<span class="lineNum">    5782 </span><span class="lineNoCov">          0 :         ++newpos;</span>
<span class="lineNum">    5783 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5784 </span>            :       case et_sb_downpage:
<span class="lineNum">    5785 </span><span class="lineNoCov">          0 :         newpos += 9*sb_pagesize/10;</span>
<span class="lineNum">    5786 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5787 </span>            :       case et_sb_bottom:
<span class="lineNum">    5788 </span><span class="lineNoCov">          0 :         newpos = (sb_max-sb_pagesize);</span>
<span class="lineNum">    5789 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5790 </span>            :       case et_sb_thumb:
<span class="lineNum">    5791 </span>            :       case et_sb_thumbrelease:
<span class="lineNum">    5792 </span><span class="lineNoCov">          0 :         newpos = event-&gt;u.control.u.sb.pos;</span>
<span class="lineNum">    5793 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    5794 </span>            :     }
<span class="lineNum">    5795 </span><span class="lineNoCov">          0 :     if ( newpos&gt;(sb_max-sb_pagesize) )</span>
<span class="lineNum">    5796 </span><span class="lineNoCov">          0 :         newpos = (sb_max-sb_pagesize);</span>
<span class="lineNum">    5797 </span><span class="lineNoCov">          0 :     if ( newpos&lt;0 ) newpos = 0;</span>
<span class="lineNum">    5798 </span><span class="lineNoCov">          0 :     if ( newpos!=lk-&gt;off_top ) {</span>
<span class="lineNum">    5799 </span>            :         /*int diff = newpos-lk-&gt;off_top;*/
<span class="lineNum">    5800 </span><span class="lineNoCov">          0 :         lk-&gt;off_top = newpos;</span>
<span class="lineNum">    5801 </span><span class="lineNoCov">          0 :         GScrollBarSetPos(event-&gt;u.control.g,newpos);</span>
<span class="lineNum">    5802 </span>            :         /*GDrawScroll(GDrawableGetWindow(GWidgetGetControl(gfi-&gt;gw,CID_LookupWin+isgpos)),NULL,0,diff*gfi-&gt;fh);*/
<span class="lineNum">    5803 </span><span class="lineNoCov">          0 :         GDrawRequestExpose(GDrawableGetWindow(GWidgetGetControl(gfi-&gt;gw,CID_LookupWin+isgpos)),NULL,false);</span>
<span class="lineNum">    5804 </span>            :     }
<span class="lineNum">    5805 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5806"><span class="lineNum">    5806 </span>            : }</a>
<span class="lineNum">    5807 </span>            : 
<span class="lineNum">    5808 </span><span class="lineNoCov">          0 : static int GFI_LookupOrder(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5809 </span>            : 
<span class="lineNum">    5810 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    5811 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5812 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    5813 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    5814 </span>            :         int i,j,k;
<span class="lineNum">    5815 </span>            :         struct lkinfo temp;
<span class="lineNum">    5816 </span>            :         struct lksubinfo temp2;
<span class="lineNum">    5817 </span><span class="lineNoCov">          0 :         int cid = GGadgetGetCid(g);</span>
<span class="lineNum">    5818 </span><span class="lineNoCov">          0 :         GWindow gw = GDrawableGetWindow(GWidgetGetControl(gfi-&gt;gw,CID_LookupWin+isgpos));</span>
<span class="lineNum">    5819 </span>            : 
<span class="lineNum">    5820 </span><span class="lineNoCov">          0 :         if ( cid==CID_LookupTop ) {</span>
<span class="lineNum">    5821 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    5822 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    5823 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    5824 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].selected ) {</span>
<span class="lineNum">    5825 </span><span class="lineNoCov">          0 :                     temp = lk-&gt;all[i];</span>
<span class="lineNum">    5826 </span><span class="lineNoCov">          0 :                     for ( k=i-1; k&gt;=0; --k )</span>
<span class="lineNum">    5827 </span><span class="lineNoCov">          0 :                         lk-&gt;all[k+1] = lk-&gt;all[k];</span>
<span class="lineNum">    5828 </span><span class="lineNoCov">          0 :                     lk-&gt;all[0] = temp;</span>
<span class="lineNum">    5829 </span><span class="lineNoCov">          0 :     goto done;</span>
<span class="lineNum">    5830 </span>            :                 }
<span class="lineNum">    5831 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    5832 </span><span class="lineNoCov">          0 :                     for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    5833 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    5834 </span><span class="lineNoCov">          0 :                     continue;</span>
<span class="lineNum">    5835 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].subtables[j].selected ) {</span>
<span class="lineNum">    5836 </span><span class="lineNoCov">          0 :                             temp2 = lk-&gt;all[i].subtables[j];</span>
<span class="lineNum">    5837 </span><span class="lineNoCov">          0 :                             for ( k=j-1; k&gt;=0; --k )</span>
<span class="lineNum">    5838 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[i].subtables[k+1] = lk-&gt;all[i].subtables[k];</span>
<span class="lineNum">    5839 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[0] = temp2;</span>
<span class="lineNum">    5840 </span><span class="lineNoCov">          0 :     goto done;</span>
<span class="lineNum">    5841 </span>            :                         }
<span class="lineNum">    5842 </span>            :                     }
<span class="lineNum">    5843 </span>            :                 }
<span class="lineNum">    5844 </span>            :             }
<span class="lineNum">    5845 </span><span class="lineNoCov">          0 :         } else if ( cid==CID_LookupBottom ) {</span>
<span class="lineNum">    5846 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    5847 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    5848 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    5849 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].selected ) {</span>
<span class="lineNum">    5850 </span><span class="lineNoCov">          0 :                     temp = lk-&gt;all[i];</span>
<span class="lineNum">    5851 </span><span class="lineNoCov">          0 :                     for ( k=i; k&lt;lk-&gt;cnt-1; ++k )</span>
<span class="lineNum">    5852 </span><span class="lineNoCov">          0 :                         lk-&gt;all[k] = lk-&gt;all[k+1];</span>
<span class="lineNum">    5853 </span><span class="lineNoCov">          0 :                     lk-&gt;all[lk-&gt;cnt-1] = temp;</span>
<span class="lineNum">    5854 </span><span class="lineNoCov">          0 :     goto done;</span>
<span class="lineNum">    5855 </span>            :                 }
<span class="lineNum">    5856 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    5857 </span><span class="lineNoCov">          0 :                     for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    5858 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    5859 </span><span class="lineNoCov">          0 :                     continue;</span>
<span class="lineNum">    5860 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].subtables[j].selected ) {</span>
<span class="lineNum">    5861 </span><span class="lineNoCov">          0 :                             temp2 = lk-&gt;all[i].subtables[j];</span>
<span class="lineNum">    5862 </span><span class="lineNoCov">          0 :                             for ( k=j; k&lt;lk-&gt;all[i].subtable_cnt-1; ++k )</span>
<span class="lineNum">    5863 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[i].subtables[k] = lk-&gt;all[i].subtables[k+1];</span>
<span class="lineNum">    5864 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[lk-&gt;all[i].subtable_cnt-1] = temp2;</span>
<span class="lineNum">    5865 </span><span class="lineNoCov">          0 :     goto done;</span>
<span class="lineNum">    5866 </span>            :                         }
<span class="lineNum">    5867 </span>            :                     }
<span class="lineNum">    5868 </span>            :                 }
<span class="lineNum">    5869 </span>            :             }
<span class="lineNum">    5870 </span><span class="lineNoCov">          0 :         } else if ( cid==CID_LookupUp ) {</span>
<span class="lineNum">    5871 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    5872 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    5873 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    5874 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].selected &amp;&amp; i!=0 ) {</span>
<span class="lineNum">    5875 </span><span class="lineNoCov">          0 :                     temp = lk-&gt;all[i];</span>
<span class="lineNum">    5876 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i] = lk-&gt;all[i-1];</span>
<span class="lineNum">    5877 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i-1] = temp;</span>
<span class="lineNum">    5878 </span>            :                 }
<span class="lineNum">    5879 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    5880 </span><span class="lineNoCov">          0 :                     for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    5881 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    5882 </span><span class="lineNoCov">          0 :                     continue;</span>
<span class="lineNum">    5883 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].subtables[j].selected &amp;&amp; j!=0 ) {</span>
<span class="lineNum">    5884 </span><span class="lineNoCov">          0 :                             temp2 = lk-&gt;all[i].subtables[j];</span>
<span class="lineNum">    5885 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[j] = lk-&gt;all[i].subtables[j-1];</span>
<span class="lineNum">    5886 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[j-1] = temp2;</span>
<span class="lineNum">    5887 </span>            :                         }
<span class="lineNum">    5888 </span>            :                     }
<span class="lineNum">    5889 </span>            :                 }
<span class="lineNum">    5890 </span>            :             }
<span class="lineNum">    5891 </span><span class="lineNoCov">          0 :         } else if ( cid==CID_LookupDown ) {</span>
<span class="lineNum">    5892 </span><span class="lineNoCov">          0 :             for ( i=lk-&gt;cnt-1; i&gt;=0; --i ) {</span>
<span class="lineNum">    5893 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    5894 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    5895 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].selected &amp;&amp; i!=lk-&gt;cnt-1 ) {</span>
<span class="lineNum">    5896 </span><span class="lineNoCov">          0 :                     temp = lk-&gt;all[i];</span>
<span class="lineNum">    5897 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i] = lk-&gt;all[i+1];</span>
<span class="lineNum">    5898 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i+1] = temp;</span>
<span class="lineNum">    5899 </span>            :                 }
<span class="lineNum">    5900 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    5901 </span><span class="lineNoCov">          0 :                     for ( j=lk-&gt;all[i].subtable_cnt-1; j&gt;=0; --j ) {</span>
<span class="lineNum">    5902 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    5903 </span><span class="lineNoCov">          0 :                     continue;</span>
<span class="lineNum">    5904 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].subtables[j].selected &amp;&amp; j!=lk-&gt;all[i].subtable_cnt-1 ) {</span>
<span class="lineNum">    5905 </span><span class="lineNoCov">          0 :                             temp2 = lk-&gt;all[i].subtables[j];</span>
<span class="lineNum">    5906 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[j] = lk-&gt;all[i].subtables[j+1];</span>
<span class="lineNum">    5907 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[j+1] = temp2;</span>
<span class="lineNum">    5908 </span>            :                         }
<span class="lineNum">    5909 </span>            :                     }
<span class="lineNum">    5910 </span>            :                 }
<span class="lineNum">    5911 </span>            :             }
<span class="lineNum">    5912 </span>            :         }
<span class="lineNum">    5913 </span>            :     done:
<span class="lineNum">    5914 </span><span class="lineNoCov">          0 :         GFI_LookupEnableButtons(gfi,isgpos);</span>
<span class="lineNum">    5915 </span><span class="lineNoCov">          0 :         GDrawRequestExpose(gw,NULL,false);</span>
<span class="lineNum">    5916 </span>            :     }
<span class="lineNum">    5917 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="5918"><span class="lineNum">    5918 </span>            : }</a>
<span class="lineNum">    5919 </span>            : 
<span class="lineNum">    5920 </span><span class="lineNoCov">          0 : static int GFI_LookupSort(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    5921 </span>            : 
<span class="lineNum">    5922 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    5923 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    5924 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    5925 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    5926 </span>            :         struct lkinfo temp;
<span class="lineNum">    5927 </span>            :         int i,j;
<span class="lineNum">    5928 </span>            : 
<span class="lineNum">    5929 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    5930 </span><span class="lineNoCov">          0 :             int order = FeatureOrderId(isgpos,lk-&gt;all[i].lookup-&gt;features);</span>
<span class="lineNum">    5931 </span><span class="lineNoCov">          0 :             for ( j=i+1; j&lt;lk-&gt;cnt; ++j ) {</span>
<span class="lineNum">    5932 </span><span class="lineNoCov">          0 :                 int jorder = FeatureOrderId(isgpos,lk-&gt;all[j].lookup-&gt;features);</span>
<span class="lineNum">    5933 </span><span class="lineNoCov">          0 :                 if ( order&gt;jorder) {</span>
<span class="lineNum">    5934 </span><span class="lineNoCov">          0 :                     temp = lk-&gt;all[i];</span>
<span class="lineNum">    5935 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i] = lk-&gt;all[j];</span>
<span class="lineNum">    5936 </span><span class="lineNoCov">          0 :                     lk-&gt;all[j] = temp;</span>
<span class="lineNum">    5937 </span><span class="lineNoCov">          0 :                     order = jorder;</span>
<span class="lineNum">    5938 </span>            :                 }
<span class="lineNum">    5939 </span>            :             }
<span class="lineNum">    5940 </span>            :         }
<span class="lineNum">    5941 </span><span class="lineNoCov">          0 :         GDrawRequestExpose(GDrawableGetWindow(GWidgetGetControl(gfi-&gt;gw,CID_LookupWin+isgpos)),NULL,false);</span>
<span class="lineNum">    5942 </span><span class="lineNoCov">          0 :         GFI_LookupEnableButtons(gfi,isgpos);</span>
<span class="lineNum">    5943 </span>            :     }
<span class="lineNum">    5944 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    5945 </span>            : }
<span class="lineNum">    5946 </span>            : 
<a name="5947"><span class="lineNum">    5947 </span>            : /* ??? *//* How about a series of buttons to show only by lookup_type, feat-tag, script-tag */</a>
<span class="lineNum">    5948 </span>            : 
<span class="lineNum">    5949 </span><span class="lineNoCov">          0 : void GFI_FinishContextNew(struct gfi_data *d,FPST *fpst, int success) {</span>
<span class="lineNum">    5950 </span>            :     OTLookup *otl;
<span class="lineNum">    5951 </span>            :     struct lookup_subtable *sub, *prev;
<span class="lineNum">    5952 </span>            :     FPST *ftest, *fprev;
<span class="lineNum">    5953 </span>            : 
<span class="lineNum">    5954 </span><span class="lineNoCov">          0 :     if ( !success ) {</span>
<span class="lineNum">    5955 </span>            :         /* We can't allow incomplete FPSTs to float around */
<span class="lineNum">    5956 </span>            :         /* If they didn't fill it in, delete it */
<span class="lineNum">    5957 </span><span class="lineNoCov">          0 :         otl = fpst-&gt;subtable-&gt;lookup;</span>
<span class="lineNum">    5958 </span><span class="lineNoCov">          0 :         prev = NULL;</span>
<span class="lineNum">    5959 </span><span class="lineNoCov">          0 :         for ( sub=otl-&gt;subtables; sub!=NULL &amp;&amp; sub!=fpst-&gt;subtable; prev = sub, sub=sub-&gt;next );</span>
<span class="lineNum">    5960 </span><span class="lineNoCov">          0 :         if ( sub!=NULL ) {</span>
<span class="lineNum">    5961 </span><span class="lineNoCov">          0 :             if ( prev==NULL )</span>
<span class="lineNum">    5962 </span><span class="lineNoCov">          0 :                 otl-&gt;subtables = sub-&gt;next;</span>
<span class="lineNum">    5963 </span>            :             else
<span class="lineNum">    5964 </span><span class="lineNoCov">          0 :                 prev-&gt;next = sub-&gt;next;</span>
<span class="lineNum">    5965 </span><span class="lineNoCov">          0 :             free(sub-&gt;subtable_name);</span>
<span class="lineNum">    5966 </span><span class="lineNoCov">          0 :             chunkfree(sub,sizeof(struct lookup_subtable));</span>
<span class="lineNum">    5967 </span>            :         }
<span class="lineNum">    5968 </span><span class="lineNoCov">          0 :         fprev = NULL;</span>
<span class="lineNum">    5969 </span><span class="lineNoCov">          0 :         for ( ftest=d-&gt;sf-&gt;possub; ftest!=NULL &amp;&amp; ftest!=fpst; fprev = ftest, ftest=ftest-&gt;next );</span>
<span class="lineNum">    5970 </span><span class="lineNoCov">          0 :         if ( ftest!=NULL ) {</span>
<span class="lineNum">    5971 </span><span class="lineNoCov">          0 :             if ( fprev==NULL )</span>
<span class="lineNum">    5972 </span><span class="lineNoCov">          0 :                 d-&gt;sf-&gt;possub = fpst-&gt;next;</span>
<span class="lineNum">    5973 </span>            :             else
<span class="lineNum">    5974 </span><span class="lineNoCov">          0 :                 fprev-&gt;next = fpst-&gt;next;</span>
<span class="lineNum">    5975 </span>            :         }
<span class="lineNum">    5976 </span>            : 
<span class="lineNum">    5977 </span><span class="lineNoCov">          0 :         chunkfree(fpst,sizeof(FPST));</span>
<span class="lineNum">    5978 </span>            :     }
<a name="5979"><span class="lineNum">    5979 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    5980 </span>            : 
<span class="lineNum">    5981 </span><span class="lineNoCov">          0 : void GFI_FinishSMNew(struct gfi_data *d,ASM *sm, int success, int isnew) {</span>
<span class="lineNum">    5982 </span>            :     OTLookup *otl;
<span class="lineNum">    5983 </span>            :     struct lookup_subtable *sub, *prev;
<span class="lineNum">    5984 </span>            :     ASM *smtest, *smprev;
<span class="lineNum">    5985 </span>            : 
<span class="lineNum">    5986 </span><span class="lineNoCov">          0 :     if ( !success &amp;&amp; isnew ) {</span>
<span class="lineNum">    5987 </span>            :         /* We can't allow incomplete state machines floating around */
<span class="lineNum">    5988 </span>            :         /* If they didn't fill it in, delete it */
<span class="lineNum">    5989 </span><span class="lineNoCov">          0 :         otl = sm-&gt;subtable-&gt;lookup;</span>
<span class="lineNum">    5990 </span><span class="lineNoCov">          0 :         prev = NULL;</span>
<span class="lineNum">    5991 </span><span class="lineNoCov">          0 :         for ( sub=otl-&gt;subtables; sub!=NULL &amp;&amp; sub!=sm-&gt;subtable; prev = sub, sub=sub-&gt;next );</span>
<span class="lineNum">    5992 </span><span class="lineNoCov">          0 :         if ( sub!=NULL ) {</span>
<span class="lineNum">    5993 </span><span class="lineNoCov">          0 :             if ( prev==NULL )</span>
<span class="lineNum">    5994 </span><span class="lineNoCov">          0 :                 otl-&gt;subtables = sub-&gt;next;</span>
<span class="lineNum">    5995 </span>            :             else
<span class="lineNum">    5996 </span><span class="lineNoCov">          0 :                 prev-&gt;next = sub-&gt;next;</span>
<span class="lineNum">    5997 </span><span class="lineNoCov">          0 :             free(sub-&gt;subtable_name);</span>
<span class="lineNum">    5998 </span><span class="lineNoCov">          0 :             chunkfree(sub,sizeof(struct lookup_subtable));</span>
<span class="lineNum">    5999 </span>            :         }
<span class="lineNum">    6000 </span><span class="lineNoCov">          0 :         smprev = NULL;</span>
<span class="lineNum">    6001 </span><span class="lineNoCov">          0 :         for ( smtest=d-&gt;sf-&gt;sm; smtest!=NULL &amp;&amp; smtest!=sm; smprev = smtest, smtest=smtest-&gt;next );</span>
<span class="lineNum">    6002 </span><span class="lineNoCov">          0 :         if ( smtest!=NULL ) {</span>
<span class="lineNum">    6003 </span><span class="lineNoCov">          0 :             if ( smprev==NULL )</span>
<span class="lineNum">    6004 </span><span class="lineNoCov">          0 :                 d-&gt;sf-&gt;sm = sm-&gt;next;</span>
<span class="lineNum">    6005 </span>            :             else
<span class="lineNum">    6006 </span><span class="lineNoCov">          0 :                 smprev-&gt;next = sm-&gt;next;</span>
<span class="lineNum">    6007 </span>            :         }
<span class="lineNum">    6008 </span><span class="lineNoCov">          0 :         chunkfree(sm,sizeof(ASM));</span>
<span class="lineNum">    6009 </span>            :     }
<a name="6010"><span class="lineNum">    6010 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    6011 </span>            : 
<span class="lineNum">    6012 </span><span class="lineNoCov">          0 : static void LookupSubtableContents(struct gfi_data *gfi,int isgpos) {</span>
<span class="lineNum">    6013 </span><span class="lineNoCov">          0 :     struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6014 </span>            :     int i,j;
<span class="lineNum">    6015 </span>            : 
<span class="lineNum">    6016 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6017 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    6018 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    6019 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    6020 </span><span class="lineNoCov">          0 :             for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    6021 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    6022 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    6023 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].selected ) {</span>
<span class="lineNum">    6024 </span><span class="lineNoCov">          0 :                     _LookupSubtableContents(gfi-&gt;sf,lk-&gt;all[i].subtables[j].subtable,NULL,gfi-&gt;def_layer);</span>
<span class="lineNum">    6025 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    6026 </span>            :                 }
<span class="lineNum">    6027 </span>            :             }
<span class="lineNum">    6028 </span>            :         }
<span class="lineNum">    6029 </span>            :     }
<a name="6030"><span class="lineNum">    6030 </span>            : }</a>
<span class="lineNum">    6031 </span>            : 
<span class="lineNum">    6032 </span><span class="lineNoCov">          0 : static int GFI_LookupEditSubtableContents(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    6033 </span>            : 
<span class="lineNum">    6034 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    6035 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    6036 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6037 </span><span class="lineNoCov">          0 :         LookupSubtableContents(gfi,isgpos);</span>
<span class="lineNum">    6038 </span>            :     }
<span class="lineNum">    6039 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="6040"><span class="lineNum">    6040 </span>            : }</a>
<span class="lineNum">    6041 </span>            : 
<span class="lineNum">    6042 </span><span class="lineNoCov">          0 : static int GFI_LookupAddLookup(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    6043 </span>            : 
<span class="lineNum">    6044 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    6045 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    6046 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6047 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6048 </span>            :         int i,j,k,lcnt;
<span class="lineNum">    6049 </span><span class="lineNoCov">          0 :         OTLookup *otl = chunkalloc(sizeof(OTLookup)), *test;</span>
<span class="lineNum">    6050 </span>            : 
<span class="lineNum">    6051 </span><span class="lineNoCov">          0 :         k = 0;</span>
<span class="lineNum">    6052 </span><span class="lineNoCov">          0 :         for ( test = isgpos ? gfi-&gt;sf-&gt;gpos_lookups : gfi-&gt;sf-&gt;gsub_lookups;</span>
<span class="lineNum">    6053 </span><span class="lineNoCov">          0 :                 test!=NULL; test = test-&gt;next )</span>
<span class="lineNum">    6054 </span><span class="lineNoCov">          0 :             ++k;</span>
<span class="lineNum">    6055 </span><span class="lineNoCov">          0 :         otl-&gt;lookup_index = k;</span>
<span class="lineNum">    6056 </span>            : 
<span class="lineNum">    6057 </span><span class="lineNoCov">          0 :         if ( !EditLookup(otl,isgpos,gfi-&gt;sf)) {</span>
<span class="lineNum">    6058 </span><span class="lineNoCov">          0 :             chunkfree(otl,sizeof(OTLookup));</span>
<span class="lineNum">    6059 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    6060 </span>            :         }
<span class="lineNum">    6061 </span><span class="lineNoCov">          0 :         for ( i=lk-&gt;cnt-1; i&gt;=0; --i ) {</span>
<span class="lineNum">    6062 </span><span class="lineNoCov">          0 :             if ( !lk-&gt;all[i].deleted &amp;&amp; lk-&gt;all[i].selected ) {</span>
<span class="lineNum">    6063 </span><span class="lineNoCov">          0 :                 lk-&gt;all[i].selected = false;</span>
<span class="lineNum">    6064 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    6065 </span>            :             }
<span class="lineNum">    6066 </span><span class="lineNoCov">          0 :             if ( !lk-&gt;all[i].deleted &amp;&amp; lk-&gt;all[i].open ) {</span>
<span class="lineNum">    6067 </span><span class="lineNoCov">          0 :                 for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j )</span>
<span class="lineNum">    6068 </span><span class="lineNoCov">          0 :                     if ( !lk-&gt;all[i].subtables[j].deleted &amp;&amp;</span>
<span class="lineNum">    6069 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[j].selected ) {</span>
<span class="lineNum">    6070 </span><span class="lineNoCov">          0 :                         lk-&gt;all[i].subtables[j].selected = false;</span>
<span class="lineNum">    6071 </span><span class="lineNoCov">          0 :                 break;</span>
<span class="lineNum">    6072 </span>            :                     }
<span class="lineNum">    6073 </span><span class="lineNoCov">          0 :                 if ( j&lt;lk-&gt;all[i].subtable_cnt )</span>
<span class="lineNum">    6074 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    6075 </span>            :             }
<span class="lineNum">    6076 </span>            :         }
<span class="lineNum">    6077 </span><span class="lineNoCov">          0 :         if ( lk-&gt;cnt&gt;=lk-&gt;max )</span>
<span class="lineNum">    6078 </span><span class="lineNoCov">          0 :             lk-&gt;all = realloc(lk-&gt;all,(lk-&gt;max+=10)*sizeof(struct lkinfo));</span>
<span class="lineNum">    6079 </span><span class="lineNoCov">          0 :         for ( k=lk-&gt;cnt; k&gt;i+1; --k )</span>
<span class="lineNum">    6080 </span><span class="lineNoCov">          0 :             lk-&gt;all[k] = lk-&gt;all[k-1];</span>
<span class="lineNum">    6081 </span><span class="lineNoCov">          0 :         memset(&amp;lk-&gt;all[k],0,sizeof(struct lkinfo));</span>
<span class="lineNum">    6082 </span><span class="lineNoCov">          0 :         lk-&gt;all[k].lookup = otl;</span>
<span class="lineNum">    6083 </span><span class="lineNoCov">          0 :         lk-&gt;all[k].new = true;</span>
<span class="lineNum">    6084 </span><span class="lineNoCov">          0 :         lk-&gt;all[k].selected = true;</span>
<span class="lineNum">    6085 </span><span class="lineNoCov">          0 :         ++lk-&gt;cnt;</span>
<span class="lineNum">    6086 </span><span class="lineNoCov">          0 :         if ( isgpos ) {</span>
<span class="lineNum">    6087 </span><span class="lineNoCov">          0 :             otl-&gt;next = gfi-&gt;sf-&gt;gpos_lookups;</span>
<span class="lineNum">    6088 </span><span class="lineNoCov">          0 :             gfi-&gt;sf-&gt;gpos_lookups = otl;</span>
<span class="lineNum">    6089 </span>            :         } else {
<span class="lineNum">    6090 </span><span class="lineNoCov">          0 :             otl-&gt;next = gfi-&gt;sf-&gt;gsub_lookups;</span>
<span class="lineNum">    6091 </span><span class="lineNoCov">          0 :             gfi-&gt;sf-&gt;gsub_lookups = otl;</span>
<span class="lineNum">    6092 </span>            :         }
<span class="lineNum">    6093 </span>            : 
<span class="lineNum">    6094 </span>            :         /* Make sure the window is scrolled to display the new lookup */
<span class="lineNum">    6095 </span><span class="lineNoCov">          0 :         lcnt=0;</span>
<span class="lineNum">    6096 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6097 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    6098 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    6099 </span><span class="lineNoCov">          0 :             if ( i==k )</span>
<span class="lineNum">    6100 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    6101 </span><span class="lineNoCov">          0 :             ++lcnt;</span>
<span class="lineNum">    6102 </span><span class="lineNoCov">          0 :             for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    6103 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    6104 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    6105 </span><span class="lineNoCov">          0 :                 ++lcnt;</span>
<span class="lineNum">    6106 </span>            :             }
<span class="lineNum">    6107 </span>            :         }
<span class="lineNum">    6108 </span><span class="lineNoCov">          0 :         if ( lcnt&lt;lk-&gt;off_top || lcnt&gt;=lk-&gt;off_top+(gfi-&gt;lkheight-2*LK_MARGIN)/gfi-&gt;fh )</span>
<span class="lineNum">    6109 </span><span class="lineNoCov">          0 :             lk-&gt;off_top = lcnt;</span>
<span class="lineNum">    6110 </span>            : 
<span class="lineNum">    6111 </span><span class="lineNoCov">          0 :         GFI_LookupScrollbars(gfi,isgpos, true);</span>
<span class="lineNum">    6112 </span><span class="lineNoCov">          0 :         GFI_LookupEnableButtons(gfi,isgpos);</span>
<span class="lineNum">    6113 </span>            :     }
<span class="lineNum">    6114 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="6115"><span class="lineNum">    6115 </span>            : }</a>
<span class="lineNum">    6116 </span>            : 
<span class="lineNum">    6117 </span><span class="lineNoCov">          0 : static int GFI_LookupAddSubtable(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    6118 </span>            : 
<span class="lineNum">    6119 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    6120 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    6121 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6122 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6123 </span>            :         int i,j,k,lcnt;
<span class="lineNum">    6124 </span>            :         struct lookup_subtable *sub;
<span class="lineNum">    6125 </span>            : 
<span class="lineNum">    6126 </span><span class="lineNoCov">          0 :         lcnt = 0;</span>
<span class="lineNum">    6127 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6128 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    6129 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    6130 </span><span class="lineNoCov">          0 :             j = -1;</span>
<span class="lineNum">    6131 </span><span class="lineNoCov">          0 :             ++lcnt;</span>
<span class="lineNum">    6132 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].selected )</span>
<span class="lineNum">    6133 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    6134 </span><span class="lineNoCov">          0 :             for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    6135 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    6136 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    6137 </span><span class="lineNoCov">          0 :                 ++lcnt;</span>
<span class="lineNum">    6138 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].selected )</span>
<span class="lineNum">    6139 </span><span class="lineNoCov">          0 :         goto break_2_loops;</span>
<span class="lineNum">    6140 </span>            :             }
<span class="lineNum">    6141 </span>            :         }
<span class="lineNum">    6142 </span>            :         break_2_loops:
<span class="lineNum">    6143 </span><span class="lineNoCov">          0 :         if ( i==lk-&gt;cnt )</span>
<span class="lineNum">    6144 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    6145 </span>            : 
<span class="lineNum">    6146 </span><span class="lineNoCov">          0 :         sub = chunkalloc(sizeof(struct lookup_subtable));</span>
<span class="lineNum">    6147 </span><span class="lineNoCov">          0 :         sub-&gt;lookup = lk-&gt;all[i].lookup;</span>
<span class="lineNum">    6148 </span><span class="lineNoCov">          0 :         if ( !EditSubtable(sub,isgpos,gfi-&gt;sf,NULL,gfi-&gt;def_layer)) {</span>
<span class="lineNum">    6149 </span><span class="lineNoCov">          0 :             chunkfree(sub,sizeof(struct lookup_subtable));</span>
<span class="lineNum">    6150 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    6151 </span>            :         }
<span class="lineNum">    6152 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].subtable_cnt&gt;=lk-&gt;all[i].subtable_max )</span>
<span class="lineNum">    6153 </span><span class="lineNoCov">          0 :             lk-&gt;all[i].subtables = realloc(lk-&gt;all[i].subtables,(lk-&gt;all[i].subtable_max+=10)*sizeof(struct lksubinfo));</span>
<span class="lineNum">    6154 </span><span class="lineNoCov">          0 :         for ( k=lk-&gt;all[i].subtable_cnt; k&gt;j+1; --k )</span>
<span class="lineNum">    6155 </span><span class="lineNoCov">          0 :             lk-&gt;all[i].subtables[k] = lk-&gt;all[i].subtables[k-1];</span>
<span class="lineNum">    6156 </span><span class="lineNoCov">          0 :         memset(&amp;lk-&gt;all[i].subtables[k],0,sizeof(struct lksubinfo));</span>
<span class="lineNum">    6157 </span><span class="lineNoCov">          0 :         lk-&gt;all[i].subtables[k].subtable = sub;</span>
<span class="lineNum">    6158 </span><span class="lineNoCov">          0 :         lk-&gt;all[i].subtables[k].new = true;</span>
<span class="lineNum">    6159 </span><span class="lineNoCov">          0 :         sub-&gt;next = lk-&gt;all[i].lookup-&gt;subtables;</span>
<span class="lineNum">    6160 </span><span class="lineNoCov">          0 :         lk-&gt;all[i].lookup-&gt;subtables = sub;</span>
<span class="lineNum">    6161 </span><span class="lineNoCov">          0 :         ++lk-&gt;all[i].subtable_cnt;</span>
<span class="lineNum">    6162 </span>            : 
<span class="lineNum">    6163 </span>            :         /* Make sure the window is scrolled to display the new subtable */
<span class="lineNum">    6164 </span><span class="lineNoCov">          0 :         if ( lcnt&lt;lk-&gt;off_top || lcnt&gt;=lk-&gt;off_top+(gfi-&gt;lkheight-2*LK_MARGIN)/gfi-&gt;fh )</span>
<span class="lineNum">    6165 </span><span class="lineNoCov">          0 :             lk-&gt;off_top = lcnt;</span>
<span class="lineNum">    6166 </span>            : 
<span class="lineNum">    6167 </span><span class="lineNoCov">          0 :         GFI_LookupScrollbars(gfi,isgpos, true);</span>
<span class="lineNum">    6168 </span><span class="lineNoCov">          0 :         GFI_LookupEnableButtons(gfi,isgpos);</span>
<span class="lineNum">    6169 </span>            :     }
<span class="lineNum">    6170 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="6171"><span class="lineNum">    6171 </span>            : }</a>
<span class="lineNum">    6172 </span>            : 
<span class="lineNum">    6173 </span><span class="lineNoCov">          0 : static int GFI_LookupEditMetadata(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    6174 </span>            : 
<span class="lineNum">    6175 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    6176 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    6177 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6178 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6179 </span>            :         int i,j;
<span class="lineNum">    6180 </span>            : 
<span class="lineNum">    6181 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6182 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    6183 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    6184 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].selected ) {</span>
<span class="lineNum">    6185 </span><span class="lineNoCov">          0 :                 EditLookup(lk-&gt;all[i].lookup,isgpos,gfi-&gt;sf);</span>
<span class="lineNum">    6186 </span><span class="lineNoCov">          0 :                 GDrawRequestExpose(GDrawableGetWindow(GWidgetGetControl(gfi-&gt;gw,CID_LookupWin+isgpos)),NULL,false);</span>
<span class="lineNum">    6187 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    6188 </span><span class="lineNoCov">          0 :             } else if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    6189 </span><span class="lineNoCov">          0 :                 for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    6190 </span><span class="lineNoCov">          0 :                     if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    6191 </span><span class="lineNoCov">          0 :                 continue;</span>
<span class="lineNum">    6192 </span><span class="lineNoCov">          0 :                     if ( lk-&gt;all[i].subtables[j].selected ) {</span>
<span class="lineNum">    6193 </span><span class="lineNoCov">          0 :                         EditSubtable(lk-&gt;all[i].subtables[j].subtable,isgpos,gfi-&gt;sf,NULL,gfi-&gt;def_layer);</span>
<span class="lineNum">    6194 </span><span class="lineNoCov">          0 :                         GDrawRequestExpose(GDrawableGetWindow(GWidgetGetControl(gfi-&gt;gw,CID_LookupWin+isgpos)),NULL,false);</span>
<span class="lineNum">    6195 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    6196 </span>            :                     }
<span class="lineNum">    6197 </span>            :                 }
<span class="lineNum">    6198 </span>            :             }
<span class="lineNum">    6199 </span>            :         }
<span class="lineNum">    6200 </span>            :     }
<span class="lineNum">    6201 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="6202"><span class="lineNum">    6202 </span>            : }</a>
<span class="lineNum">    6203 </span>            : 
<span class="lineNum">    6204 </span><span class="lineNoCov">          0 : static int GFI_LookupMergeLookup(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    6205 </span>            : 
<span class="lineNum">    6206 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    6207 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    6208 </span>            :         char *buts[3];
<span class="lineNum">    6209 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6210 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6211 </span>            :         struct selection_bits sel;
<span class="lineNum">    6212 </span>            :         int i,j;
<span class="lineNum">    6213 </span>            :         struct lkinfo *lkfirst;
<span class="lineNum">    6214 </span>            :         struct lksubinfo *sbfirst;
<span class="lineNum">    6215 </span>            :         struct lookup_subtable *sub;
<span class="lineNum">    6216 </span>            : 
<span class="lineNum">    6217 </span><span class="lineNoCov">          0 :         LookupParseSelection(lk,&amp;sel);</span>
<span class="lineNum">    6218 </span><span class="lineNoCov">          0 :         if ( !sel.sub_table_mergeable &amp;&amp; !sel.lookup_mergeable )</span>
<span class="lineNum">    6219 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    6220 </span>            : 
<span class="lineNum">    6221 </span><span class="lineNoCov">          0 :         buts[0] = _(&quot;Do it&quot;);</span>
<span class="lineNum">    6222 </span><span class="lineNoCov">          0 :         buts[1] = _(&quot;_Cancel&quot;);</span>
<span class="lineNum">    6223 </span><span class="lineNoCov">          0 :         buts[2] = NULL;</span>
<span class="lineNum">    6224 </span><span class="lineNoCov">          0 :         if ( gwwv_ask(_(&quot;Cannot be Undone&quot;),(const char **) buts,0,1,_(&quot;The Merge operation cannot be reverted.\nDo it anyway?&quot;))==1 )</span>
<span class="lineNum">    6225 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    6226 </span><span class="lineNoCov">          0 :         if ( sel.lookup_mergeable ) {</span>
<span class="lineNum">    6227 </span><span class="lineNoCov">          0 :             lkfirst = NULL;</span>
<span class="lineNum">    6228 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6229 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].selected &amp;&amp; !lk-&gt;all[i].deleted ) {</span>
<span class="lineNum">    6230 </span><span class="lineNoCov">          0 :                     if ( lkfirst==NULL )</span>
<span class="lineNum">    6231 </span><span class="lineNoCov">          0 :                         lkfirst = &amp;lk-&gt;all[i];</span>
<span class="lineNum">    6232 </span>            :                     else {
<span class="lineNum">    6233 </span><span class="lineNoCov">          0 :                         FLMerge(lkfirst-&gt;lookup,lk-&gt;all[i].lookup);</span>
<span class="lineNum">    6234 </span><span class="lineNoCov">          0 :                         if ( lkfirst-&gt;subtable_cnt+lk-&gt;all[i].subtable_cnt &gt;= lkfirst-&gt;subtable_max )</span>
<span class="lineNum">    6235 </span><span class="lineNoCov">          0 :                             lkfirst-&gt;subtables = realloc(lkfirst-&gt;subtables,(lkfirst-&gt;subtable_max+=lk-&gt;all[i].subtable_cnt)*sizeof(struct lksubinfo));</span>
<span class="lineNum">    6236 </span><span class="lineNoCov">          0 :                         memcpy(lkfirst-&gt;subtables+lkfirst-&gt;subtable_cnt,</span>
<span class="lineNum">    6237 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[i].subtables,lk-&gt;all[i].subtable_cnt*sizeof(struct lksubinfo));</span>
<span class="lineNum">    6238 </span><span class="lineNoCov">          0 :                         lkfirst-&gt;subtable_cnt += lk-&gt;all[i].subtable_cnt;</span>
<span class="lineNum">    6239 </span><span class="lineNoCov">          0 :                         for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j )</span>
<span class="lineNum">    6240 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[j].subtable-&gt;lookup = lkfirst-&gt;lookup;</span>
<span class="lineNum">    6241 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].lookup-&gt;subtables!=NULL ) {</span>
<span class="lineNum">    6242 </span><span class="lineNoCov">          0 :                             for ( sub = lk-&gt;all[i].lookup-&gt;subtables; sub-&gt;next!=NULL; sub = sub-&gt;next );</span>
<span class="lineNum">    6243 </span><span class="lineNoCov">          0 :                             sub-&gt;next = lkfirst-&gt;lookup-&gt;subtables;</span>
<span class="lineNum">    6244 </span><span class="lineNoCov">          0 :                             lkfirst-&gt;lookup-&gt;subtables = lk-&gt;all[i].lookup-&gt;subtables;</span>
<span class="lineNum">    6245 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].lookup-&gt;subtables = NULL;</span>
<span class="lineNum">    6246 </span>            :                         }
<span class="lineNum">    6247 </span><span class="lineNoCov">          0 :                         lk-&gt;all[i].subtable_cnt = 0;</span>
<span class="lineNum">    6248 </span><span class="lineNoCov">          0 :                         lk-&gt;all[i].deleted = true;</span>
<span class="lineNum">    6249 </span><span class="lineNoCov">          0 :                         lk-&gt;all[i].open = false;</span>
<span class="lineNum">    6250 </span><span class="lineNoCov">          0 :                         lk-&gt;all[i].selected = false;</span>
<span class="lineNum">    6251 </span>            :                     }
<span class="lineNum">    6252 </span>            :                 }
<span class="lineNum">    6253 </span>            :             }
<span class="lineNum">    6254 </span><span class="lineNoCov">          0 :         } else if ( sel.sub_table_mergeable ) {</span>
<span class="lineNum">    6255 </span><span class="lineNoCov">          0 :             sbfirst = NULL;</span>
<span class="lineNum">    6256 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;lk-&gt;cnt; ++i ) if ( !lk-&gt;all[i].deleted &amp;&amp; lk-&gt;all[i].open ) {</span>
<span class="lineNum">    6257 </span><span class="lineNoCov">          0 :                 for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) if ( !lk-&gt;all[i].subtables[j].deleted ) {</span>
<span class="lineNum">    6258 </span><span class="lineNoCov">          0 :                     if ( lk-&gt;all[i].subtables[j].selected ) {</span>
<span class="lineNum">    6259 </span><span class="lineNoCov">          0 :                         if ( sbfirst == NULL )</span>
<span class="lineNum">    6260 </span><span class="lineNoCov">          0 :                             sbfirst = &amp;lk-&gt;all[i].subtables[j];</span>
<span class="lineNum">    6261 </span>            :                         else {
<span class="lineNum">    6262 </span><span class="lineNoCov">          0 :                             SFSubTablesMerge(gfi-&gt;sf,sbfirst-&gt;subtable,lk-&gt;all[i].subtables[j].subtable);</span>
<span class="lineNum">    6263 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[j].deleted = true;</span>
<span class="lineNum">    6264 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[j].selected = false;</span>
<span class="lineNum">    6265 </span>            :                         }
<span class="lineNum">    6266 </span>            :                     }
<span class="lineNum">    6267 </span>            :                 }
<span class="lineNum">    6268 </span><span class="lineNoCov">          0 :                 if ( sbfirst!=NULL )    /* Can only merge subtables within a lookup, so if we found anything, in a lookup that's everything */</span>
<span class="lineNum">    6269 </span><span class="lineNoCov">          0 :             break;</span>
<span class="lineNum">    6270 </span>            :             }
<span class="lineNum">    6271 </span>            :         }
<span class="lineNum">    6272 </span><span class="lineNoCov">          0 :         GFI_LookupScrollbars(gfi,isgpos, true);</span>
<span class="lineNum">    6273 </span><span class="lineNoCov">          0 :         GFI_LookupEnableButtons(gfi,isgpos);</span>
<span class="lineNum">    6274 </span>            :     }
<span class="lineNum">    6275 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="6276"><span class="lineNum">    6276 </span>            : }</a>
<span class="lineNum">    6277 </span>            : 
<span class="lineNum">    6278 </span><span class="lineNoCov">          0 : static int GFI_LookupDeleteLookup(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    6279 </span>            : 
<span class="lineNum">    6280 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    6281 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    6282 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6283 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6284 </span>            :         int i,j;
<span class="lineNum">    6285 </span>            : 
<span class="lineNum">    6286 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6287 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    6288 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    6289 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].selected )</span>
<span class="lineNum">    6290 </span><span class="lineNoCov">          0 :                 lk-&gt;all[i].deleted = true;</span>
<span class="lineNum">    6291 </span><span class="lineNoCov">          0 :             else if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    6292 </span><span class="lineNoCov">          0 :                 for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    6293 </span><span class="lineNoCov">          0 :                     if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    6294 </span><span class="lineNoCov">          0 :                 continue;</span>
<span class="lineNum">    6295 </span><span class="lineNoCov">          0 :                     if ( lk-&gt;all[i].subtables[j].selected )</span>
<span class="lineNum">    6296 </span><span class="lineNoCov">          0 :                         lk-&gt;all[i].subtables[j].deleted = true;</span>
<span class="lineNum">    6297 </span>            :                 }
<span class="lineNum">    6298 </span>            :             }
<span class="lineNum">    6299 </span>            :         }
<span class="lineNum">    6300 </span>            : 
<span class="lineNum">    6301 </span><span class="lineNoCov">          0 :         GFI_LookupScrollbars(gfi,isgpos, true);</span>
<span class="lineNum">    6302 </span><span class="lineNoCov">          0 :         GFI_LookupEnableButtons(gfi,isgpos);</span>
<span class="lineNum">    6303 </span>            :     }
<span class="lineNum">    6304 </span>            : 
<span class="lineNum">    6305 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="6306"><span class="lineNum">    6306 </span>            : }</a>
<span class="lineNum">    6307 </span>            : 
<span class="lineNum">    6308 </span><span class="lineNoCov">          0 : static int GFI_LookupRevertLookup(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    6309 </span>            : 
<span class="lineNum">    6310 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    6311 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    6312 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6313 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6314 </span>            :         int i,j;
<span class="lineNum">    6315 </span>            : 
<span class="lineNum">    6316 </span>            :         /* First remove any new lookups, subtables */
<span class="lineNum">    6317 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6318 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].new )</span>
<span class="lineNum">    6319 </span><span class="lineNoCov">          0 :                 SFRemoveLookup(gfi-&gt;sf,lk-&gt;all[i].lookup,0);</span>
<span class="lineNum">    6320 </span>            :             else {
<span class="lineNum">    6321 </span><span class="lineNoCov">          0 :                 for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j )</span>
<span class="lineNum">    6322 </span><span class="lineNoCov">          0 :                     if ( lk-&gt;all[i].subtables[j].new )</span>
<span class="lineNum">    6323 </span><span class="lineNoCov">          0 :                         SFRemoveLookupSubTable(gfi-&gt;sf,lk-&gt;all[i].subtables[j].subtable,0);</span>
<span class="lineNum">    6324 </span>            :             }
<span class="lineNum">    6325 </span>            :         }
<span class="lineNum">    6326 </span>            : 
<span class="lineNum">    6327 </span>            :         /* Now since we didn't actually delete anything we don't need to do */
<span class="lineNum">    6328 </span>            :         /*  anything to resurrect them */
<span class="lineNum">    6329 </span>            : 
<span class="lineNum">    6330 </span>            :         /* Finally we need to restore the original order. */
<span class="lineNum">    6331 </span>            :         /* But that just means regenerating the lk structure. So free it and */
<span class="lineNum">    6332 </span>            :         /*  regenerate it */
<span class="lineNum">    6333 </span>            : 
<span class="lineNum">    6334 </span><span class="lineNoCov">          0 :         LookupInfoFree(lk);</span>
<span class="lineNum">    6335 </span><span class="lineNoCov">          0 :         LookupSetup(lk,isgpos?gfi-&gt;sf-&gt;gpos_lookups:gfi-&gt;sf-&gt;gsub_lookups);</span>
<span class="lineNum">    6336 </span>            : 
<span class="lineNum">    6337 </span><span class="lineNoCov">          0 :         GFI_LookupScrollbars(gfi,isgpos, true);</span>
<span class="lineNum">    6338 </span><span class="lineNoCov">          0 :         GFI_LookupEnableButtons(gfi,isgpos);</span>
<span class="lineNum">    6339 </span>            :     }
<span class="lineNum">    6340 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="6341"><span class="lineNum">    6341 </span>            : }</a>
<span class="lineNum">    6342 </span>            : 
<span class="lineNum">    6343 </span><span class="lineNoCov">          0 : static int import_e_h(GWindow gw, GEvent *event) {</span>
<span class="lineNum">    6344 </span><span class="lineNoCov">          0 :     int *done = GDrawGetUserData(gw);</span>
<span class="lineNum">    6345 </span>            : 
<span class="lineNum">    6346 </span><span class="lineNoCov">          0 :     if ( event-&gt;type==et_close ) {</span>
<span class="lineNum">    6347 </span><span class="lineNoCov">          0 :         *done = true;</span>
<span class="lineNum">    6348 </span><span class="lineNoCov">          0 :     } else if ( event-&gt;type==et_char ) {</span>
<span class="lineNum">    6349 </span><span class="lineNoCov">          0 :         if ( event-&gt;u.chr.keysym == GK_F1 || event-&gt;u.chr.keysym == GK_Help ) {</span>
<span class="lineNum">    6350 </span><span class="lineNoCov">          0 :             help(&quot;fontinfo.html#Lookups&quot;);</span>
<span class="lineNum">    6351 </span><span class="lineNoCov">          0 : return( true );</span>
<span class="lineNum">    6352 </span>            :         }
<span class="lineNum">    6353 </span><span class="lineNoCov">          0 : return( false );</span>
<span class="lineNum">    6354 </span><span class="lineNoCov">          0 :     } else if ( event-&gt;type==et_controlevent ) {</span>
<span class="lineNum">    6355 </span><span class="lineNoCov">          0 :         if ( event-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    6356 </span><span class="lineNoCov">          0 :             switch ( GGadgetGetCid(event-&gt;u.control.g)) {</span>
<span class="lineNum">    6357 </span>            :               case CID_OK:
<span class="lineNum">    6358 </span><span class="lineNoCov">          0 :                 *done = 2;</span>
<span class="lineNum">    6359 </span><span class="lineNoCov">          0 :               break;</span>
<span class="lineNum">    6360 </span>            :               case CID_Cancel:
<span class="lineNum">    6361 </span><span class="lineNoCov">          0 :                 *done = true;</span>
<span class="lineNum">    6362 </span><span class="lineNoCov">          0 :               break;</span>
<span class="lineNum">    6363 </span>            :             }
<span class="lineNum">    6364 </span><span class="lineNoCov">          0 :         } else if ( event-&gt;u.control.subtype == et_listdoubleclick )</span>
<span class="lineNum">    6365 </span><span class="lineNoCov">          0 :             *done = 2;</span>
<span class="lineNum">    6366 </span>            :     }
<span class="lineNum">    6367 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="6368"><span class="lineNum">    6368 </span>            : }</a>
<span class="lineNum">    6369 </span>            : 
<span class="lineNum">    6370 </span><span class="lineNoCov">          0 : static int GFI_LookupImportLookup(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    6371 </span>            : 
<span class="lineNum">    6372 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_buttonactivate ) {</span>
<span class="lineNum">    6373 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    6374 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6375 </span>            :         FontView *ofv;
<span class="lineNum">    6376 </span>            :         SplineFont *osf;
<span class="lineNum">    6377 </span>            :         OTLookup *otl;
<span class="lineNum">    6378 </span>            :         int i, j, cnt;
<span class="lineNum">    6379 </span>            :         GTextInfo *ti;
<span class="lineNum">    6380 </span>            :         GGadgetCreateData gcd[7], *varray[8], *harray[7];
<span class="lineNum">    6381 </span>            :         GTextInfo label[7];
<span class="lineNum">    6382 </span>            :         GWindowAttrs wattrs;
<span class="lineNum">    6383 </span>            :         GRect pos;
<span class="lineNum">    6384 </span>            :         GWindow gw;
<span class="lineNum">    6385 </span><span class="lineNoCov">          0 :         int done = 0;</span>
<span class="lineNum">    6386 </span>            : 
<span class="lineNum">    6387 </span>            :         /* Figure out what lookups can be imported from which (open) fonts */
<span class="lineNum">    6388 </span><span class="lineNoCov">          0 :         ti = NULL;</span>
<span class="lineNum">    6389 </span><span class="lineNoCov">          0 :         for ( j=0; j&lt;2; ++j ) {</span>
<span class="lineNum">    6390 </span><span class="lineNoCov">          0 :             for ( ofv=fv_list; ofv!=NULL; ofv=(FontView *) (ofv-&gt;b.next) ) {</span>
<span class="lineNum">    6391 </span><span class="lineNoCov">          0 :                 osf = ofv-&gt;b.sf;</span>
<span class="lineNum">    6392 </span><span class="lineNoCov">          0 :                 if ( osf-&gt;cidmaster ) osf = osf-&gt;cidmaster;</span>
<span class="lineNum">    6393 </span><span class="lineNoCov">          0 :                 osf-&gt;ticked = false;</span>
<span class="lineNum">    6394 </span>            :             }
<span class="lineNum">    6395 </span><span class="lineNoCov">          0 :             cnt = 0;</span>
<span class="lineNum">    6396 </span><span class="lineNoCov">          0 :             for ( ofv=fv_list; ofv!=NULL; ofv=(FontView *) (ofv-&gt;b.next) ) {</span>
<span class="lineNum">    6397 </span><span class="lineNoCov">          0 :                 osf = ofv-&gt;b.sf;</span>
<span class="lineNum">    6398 </span><span class="lineNoCov">          0 :                 if ( osf-&gt;cidmaster ) osf = osf-&gt;cidmaster;</span>
<span class="lineNum">    6399 </span><span class="lineNoCov">          0 :                 if ( osf-&gt;ticked || osf==gfi-&gt;sf || osf==gfi-&gt;sf-&gt;cidmaster ||</span>
<span class="lineNum">    6400 </span><span class="lineNoCov">          0 :                         ( isgpos &amp;&amp; osf-&gt;gpos_lookups==NULL) ||</span>
<span class="lineNum">    6401 </span><span class="lineNoCov">          0 :                         (!isgpos &amp;&amp; osf-&gt;gsub_lookups==NULL) )</span>
<span class="lineNum">    6402 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    6403 </span><span class="lineNoCov">          0 :                 osf-&gt;ticked = true;</span>
<span class="lineNum">    6404 </span><span class="lineNoCov">          0 :                 if ( cnt!=0 ) {</span>
<span class="lineNum">    6405 </span><span class="lineNoCov">          0 :                     if ( ti )</span>
<span class="lineNum">    6406 </span><span class="lineNoCov">          0 :                         ti[cnt].line = true;</span>
<span class="lineNum">    6407 </span><span class="lineNoCov">          0 :                     ++cnt;</span>
<span class="lineNum">    6408 </span>            :                 }
<span class="lineNum">    6409 </span><span class="lineNoCov">          0 :                 if ( ti ) {</span>
<span class="lineNum">    6410 </span><span class="lineNoCov">          0 :                     ti[cnt].text = (unichar_t *) copy( osf-&gt;fontname );</span>
<span class="lineNum">    6411 </span><span class="lineNoCov">          0 :                     ti[cnt].text_is_1byte = true;</span>
<span class="lineNum">    6412 </span><span class="lineNoCov">          0 :                     ti[cnt].disabled = true;</span>
<span class="lineNum">    6413 </span><span class="lineNoCov">          0 :                     ti[cnt].userdata = osf;</span>
<span class="lineNum">    6414 </span>            :                 }
<span class="lineNum">    6415 </span><span class="lineNoCov">          0 :                 ++cnt;</span>
<span class="lineNum">    6416 </span><span class="lineNoCov">          0 :                 for ( otl = isgpos ? osf-&gt;gpos_lookups : osf-&gt;gsub_lookups; otl!=NULL; otl=otl-&gt;next ) {</span>
<span class="lineNum">    6417 </span><span class="lineNoCov">          0 :                     if ( ti ) {</span>
<span class="lineNum">    6418 </span><span class="lineNoCov">          0 :                         ti[cnt].text = (unichar_t *) strconcat( &quot; &quot;, otl-&gt;lookup_name );</span>
<span class="lineNum">    6419 </span><span class="lineNoCov">          0 :                         ti[cnt].text_is_1byte = true;</span>
<span class="lineNum">    6420 </span><span class="lineNoCov">          0 :                         ti[cnt].userdata = otl;</span>
<span class="lineNum">    6421 </span>            :                     }
<span class="lineNum">    6422 </span><span class="lineNoCov">          0 :                     ++cnt;</span>
<span class="lineNum">    6423 </span>            :                 }
<span class="lineNum">    6424 </span>            :             }
<span class="lineNum">    6425 </span><span class="lineNoCov">          0 :             if ( ti==NULL )</span>
<span class="lineNum">    6426 </span><span class="lineNoCov">          0 :                 ti = calloc((cnt+1),sizeof(GTextInfo));</span>
<span class="lineNum">    6427 </span>            :         }
<span class="lineNum">    6428 </span>            : 
<span class="lineNum">    6429 </span><span class="lineNoCov">          0 :         memset(gcd,0,sizeof(gcd));</span>
<span class="lineNum">    6430 </span><span class="lineNoCov">          0 :         memset(label,0,sizeof(label));</span>
<span class="lineNum">    6431 </span>            : 
<span class="lineNum">    6432 </span><span class="lineNoCov">          0 :         i = 0;</span>
<span class="lineNum">    6433 </span><span class="lineNoCov">          0 :         label[i].text = (unichar_t *) _(&quot;Select lookups from other fonts&quot;);</span>
<span class="lineNum">    6434 </span><span class="lineNoCov">          0 :         label[i].text_is_1byte = true;</span>
<span class="lineNum">    6435 </span><span class="lineNoCov">          0 :         label[i].text_in_resource = true;</span>
<span class="lineNum">    6436 </span><span class="lineNoCov">          0 :         gcd[i].gd.label = &amp;label[i];</span>
<span class="lineNum">    6437 </span><span class="lineNoCov">          0 :         gcd[i].gd.pos.x = 12; gcd[i].gd.pos.y = 6+6;</span>
<span class="lineNum">    6438 </span><span class="lineNoCov">          0 :         gcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    6439 </span><span class="lineNoCov">          0 :         gcd[i].creator = GLabelCreate;</span>
<span class="lineNum">    6440 </span><span class="lineNoCov">          0 :         varray[0] = &amp;gcd[i++]; varray[1] = NULL;</span>
<span class="lineNum">    6441 </span>            : 
<span class="lineNum">    6442 </span><span class="lineNoCov">          0 :         gcd[i].gd.pos.height = 12*12+6;</span>
<span class="lineNum">    6443 </span><span class="lineNoCov">          0 :         gcd[i].gd.flags = gg_enabled|gg_visible|gg_list_multiplesel|gg_utf8_popup;</span>
<span class="lineNum">    6444 </span><span class="lineNoCov">          0 :         gcd[i].gd.u.list = ti;</span>
<span class="lineNum">    6445 </span><span class="lineNoCov">          0 :         gcd[i].creator = GListCreate;</span>
<span class="lineNum">    6446 </span><span class="lineNoCov">          0 :         varray[2] = &amp;gcd[i++]; varray[3] = NULL;</span>
<span class="lineNum">    6447 </span>            : 
<span class="lineNum">    6448 </span><span class="lineNoCov">          0 :         gcd[i].gd.flags = gg_visible | gg_enabled | gg_but_default;</span>
<span class="lineNum">    6449 </span><span class="lineNoCov">          0 :         label[i].text = (unichar_t *) _(&quot;_Import&quot;);</span>
<span class="lineNum">    6450 </span><span class="lineNoCov">          0 :         label[i].text_is_1byte = true;</span>
<span class="lineNum">    6451 </span><span class="lineNoCov">          0 :         label[i].text_in_resource = true;</span>
<span class="lineNum">    6452 </span><span class="lineNoCov">          0 :         gcd[i].gd.label = &amp;label[i];</span>
<span class="lineNum">    6453 </span><span class="lineNoCov">          0 :         gcd[i].gd.cid = CID_OK;</span>
<span class="lineNum">    6454 </span><span class="lineNoCov">          0 :         harray[0] = GCD_Glue; harray[1] = &amp;gcd[i]; harray[2] = GCD_Glue;</span>
<span class="lineNum">    6455 </span><span class="lineNoCov">          0 :         gcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">    6456 </span>            : 
<span class="lineNum">    6457 </span><span class="lineNoCov">          0 :         gcd[i].gd.flags = gg_visible | gg_enabled | gg_but_cancel;</span>
<span class="lineNum">    6458 </span><span class="lineNoCov">          0 :         label[i].text = (unichar_t *) _(&quot;_Cancel&quot;);</span>
<span class="lineNum">    6459 </span><span class="lineNoCov">          0 :         label[i].text_is_1byte = true;</span>
<span class="lineNum">    6460 </span><span class="lineNoCov">          0 :         label[i].text_in_resource = true;</span>
<span class="lineNum">    6461 </span><span class="lineNoCov">          0 :         gcd[i].gd.label = &amp;label[i];</span>
<span class="lineNum">    6462 </span><span class="lineNoCov">          0 :         gcd[i].gd.cid = CID_Cancel;</span>
<span class="lineNum">    6463 </span><span class="lineNoCov">          0 :         harray[3] = GCD_Glue; harray[4] = &amp;gcd[i]; harray[5] = GCD_Glue; harray[6] = NULL;</span>
<span class="lineNum">    6464 </span><span class="lineNoCov">          0 :         gcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">    6465 </span>            : 
<span class="lineNum">    6466 </span><span class="lineNoCov">          0 :         gcd[i].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    6467 </span><span class="lineNoCov">          0 :         gcd[i].gd.u.boxelements = harray;</span>
<span class="lineNum">    6468 </span><span class="lineNoCov">          0 :         gcd[i].creator = GHBoxCreate;</span>
<span class="lineNum">    6469 </span><span class="lineNoCov">          0 :         varray[4] = &amp;gcd[i++]; varray[5] = NULL; varray[6] = NULL;</span>
<span class="lineNum">    6470 </span>            : 
<span class="lineNum">    6471 </span><span class="lineNoCov">          0 :         gcd[i].gd.pos.x = gcd[i].gd.pos.y = 2;</span>
<span class="lineNum">    6472 </span><span class="lineNoCov">          0 :         gcd[i].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    6473 </span><span class="lineNoCov">          0 :         gcd[i].gd.u.boxelements = varray;</span>
<span class="lineNum">    6474 </span><span class="lineNoCov">          0 :         gcd[i].creator = GHVGroupCreate;</span>
<span class="lineNum">    6475 </span>            : 
<span class="lineNum">    6476 </span><span class="lineNoCov">          0 :         memset(&amp;wattrs,0,sizeof(wattrs));</span>
<span class="lineNum">    6477 </span><span class="lineNoCov">          0 :         wattrs.mask = wam_events|wam_cursor|wam_utf8_wtitle|wam_undercursor|wam_isdlg|wam_restrict;</span>
<span class="lineNum">    6478 </span><span class="lineNoCov">          0 :         wattrs.event_masks = ~(1&lt;&lt;et_charup);</span>
<span class="lineNum">    6479 </span><span class="lineNoCov">          0 :         wattrs.restrict_input_to_me = 1;</span>
<span class="lineNum">    6480 </span><span class="lineNoCov">          0 :         wattrs.undercursor = 1;</span>
<span class="lineNum">    6481 </span><span class="lineNoCov">          0 :         wattrs.cursor = ct_pointer;</span>
<span class="lineNum">    6482 </span><span class="lineNoCov">          0 :         wattrs.utf8_window_title =  _(&quot;Import Lookup&quot;);</span>
<span class="lineNum">    6483 </span><span class="lineNoCov">          0 :         wattrs.is_dlg = true;</span>
<span class="lineNum">    6484 </span><span class="lineNoCov">          0 :         pos.x = pos.y = 0;</span>
<span class="lineNum">    6485 </span><span class="lineNoCov">          0 :         pos.width = GGadgetScale(GDrawPointsToPixels(NULL,150));</span>
<span class="lineNum">    6486 </span><span class="lineNoCov">          0 :         pos.height = GDrawPointsToPixels(NULL,193);</span>
<span class="lineNum">    6487 </span><span class="lineNoCov">          0 :         gw = GDrawCreateTopWindow(NULL,&amp;pos,import_e_h,&amp;done,&amp;wattrs);</span>
<span class="lineNum">    6488 </span>            : 
<span class="lineNum">    6489 </span><span class="lineNoCov">          0 :         GGadgetsCreate(gw,&amp;gcd[i]);</span>
<span class="lineNum">    6490 </span><span class="lineNoCov">          0 :         GHVBoxSetExpandableRow(gcd[i].ret,1);</span>
<span class="lineNum">    6491 </span><span class="lineNoCov">          0 :         GHVBoxSetExpandableCol(gcd[i-1].ret,gb_expandgluesame);</span>
<span class="lineNum">    6492 </span><span class="lineNoCov">          0 :         GHVBoxFitWindow(gcd[i].ret);</span>
<span class="lineNum">    6493 </span><span class="lineNoCov">          0 :         GTextInfoListFree(ti);</span>
<span class="lineNum">    6494 </span><span class="lineNoCov">          0 :         GDrawSetVisible(gw,true);</span>
<span class="lineNum">    6495 </span>            : 
<span class="lineNum">    6496 </span><span class="lineNoCov">          0 :         while ( !done )</span>
<span class="lineNum">    6497 </span><span class="lineNoCov">          0 :             GDrawProcessOneEvent(NULL);</span>
<span class="lineNum">    6498 </span><span class="lineNoCov">          0 :         if ( done==2 ) {</span>
<span class="lineNum">    6499 </span>            :             int32 len;
<span class="lineNum">    6500 </span><span class="lineNoCov">          0 :             GTextInfo **ti = GGadgetGetList(gcd[1].ret,&amp;len);</span>
<span class="lineNum">    6501 </span><span class="lineNoCov">          0 :             OTLookup **list = malloc((len+1)*sizeof(OTLookup*));</span>
<span class="lineNum">    6502 </span><span class="lineNoCov">          0 :             struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6503 </span><span class="lineNoCov">          0 :             OTLookup *before = NULL;</span>
<span class="lineNum">    6504 </span>            : 
<span class="lineNum">    6505 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6506 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    6507 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    6508 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].selected ) {</span>
<span class="lineNum">    6509 </span><span class="lineNoCov">          0 :                     before = lk-&gt;all[i].lookup;</span>
<span class="lineNum">    6510 </span><span class="lineNoCov">          0 :             break;</span>
<span class="lineNum">    6511 </span>            :                 }
<span class="lineNum">    6512 </span>            :             }
<span class="lineNum">    6513 </span><span class="lineNoCov">          0 :             osf = NULL;</span>
<span class="lineNum">    6514 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;len; ++i ) {</span>
<span class="lineNum">    6515 </span><span class="lineNoCov">          0 :                 if ( ti[i]-&gt;disabled )</span>
<span class="lineNum">    6516 </span><span class="lineNoCov">          0 :                     osf = ti[i]-&gt;userdata;</span>
<span class="lineNum">    6517 </span><span class="lineNoCov">          0 :                 else if ( ti[i]-&gt;selected &amp;&amp; ti[i]-&gt;text!=NULL ) {</span>
<span class="lineNum">    6518 </span><span class="lineNoCov">          0 :                     for ( j=0; i+j&lt;len &amp;&amp; !ti[i+j]-&gt;disabled &amp;&amp;</span>
<span class="lineNum">    6519 </span><span class="lineNoCov">          0 :                             ti[i+j]-&gt;selected &amp;&amp; ti[i+j]-&gt;text; ++j )</span>
<span class="lineNum">    6520 </span><span class="lineNoCov">          0 :                         list[j] = (OTLookup *) ti[i+j]-&gt;userdata;</span>
<span class="lineNum">    6521 </span><span class="lineNoCov">          0 :                     list[j] = NULL;</span>
<span class="lineNum">    6522 </span><span class="lineNoCov">          0 :                     OTLookupsCopyInto(gfi-&gt;sf,osf,list,before);</span>
<span class="lineNum">    6523 </span><span class="lineNoCov">          0 :                     i += j-1;</span>
<span class="lineNum">    6524 </span>            :                 }
<span class="lineNum">    6525 </span>            :             }
<span class="lineNum">    6526 </span><span class="lineNoCov">          0 :             free(list);</span>
<span class="lineNum">    6527 </span>            :         }
<span class="lineNum">    6528 </span><span class="lineNoCov">          0 :         GDrawDestroyWindow(gw);</span>
<span class="lineNum">    6529 </span>            : 
<span class="lineNum">    6530 </span><span class="lineNoCov">          0 :         GFI_LookupScrollbars(gfi,isgpos, true);</span>
<span class="lineNum">    6531 </span><span class="lineNoCov">          0 :         GFI_LookupEnableButtons(gfi,isgpos);</span>
<span class="lineNum">    6532 </span>            :     }
<span class="lineNum">    6533 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="6534"><span class="lineNum">    6534 </span>            : }</a>
<span class="lineNum">    6535 </span>            : 
<span class="lineNum">    6536 </span><span class="lineNoCov">          0 : static int GFI_LookupAspectChange(GGadget *g, GEvent *e) {</span>
<span class="lineNum">    6537 </span>            : 
<span class="lineNum">    6538 </span><span class="lineNoCov">          0 :     if ( e-&gt;type==et_controlevent &amp;&amp; e-&gt;u.control.subtype == et_radiochanged ) {</span>
<span class="lineNum">    6539 </span><span class="lineNoCov">          0 :         struct gfi_data *gfi = GDrawGetUserData(GGadgetGetWindow(g));</span>
<span class="lineNum">    6540 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6541 </span><span class="lineNoCov">          0 :         GFI_LookupEnableButtons(gfi,isgpos);</span>
<span class="lineNum">    6542 </span>            :     }
<span class="lineNum">    6543 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="6544"><span class="lineNum">    6544 </span>            : }</a>
<span class="lineNum">    6545 </span>            : 
<span class="lineNum">    6546 </span><span class="lineNoCov">          0 : static void LookupExpose(GWindow pixmap, struct gfi_data *gfi, int isgpos) {</span>
<span class="lineNum">    6547 </span>            :     int lcnt, i,j;
<span class="lineNum">    6548 </span><span class="lineNoCov">          0 :     struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6549 </span>            :     GRect r, old;
<span class="lineNum">    6550 </span>            :     extern GBox _ggadget_Default_Box;
<span class="lineNum">    6551 </span>            : 
<span class="lineNum">    6552 </span><span class="lineNoCov">          0 :     r.x = LK_MARGIN; r.width = gfi-&gt;lkwidth-2*LK_MARGIN;</span>
<span class="lineNum">    6553 </span><span class="lineNoCov">          0 :     r.y = LK_MARGIN; r.height = gfi-&gt;lkheight-2*LK_MARGIN;</span>
<span class="lineNum">    6554 </span><span class="lineNoCov">          0 :     GDrawPushClip(pixmap,&amp;r,&amp;old);</span>
<span class="lineNum">    6555 </span><span class="lineNoCov">          0 :     GDrawSetFont(pixmap,gfi-&gt;font);</span>
<span class="lineNum">    6556 </span>            : 
<span class="lineNum">    6557 </span><span class="lineNoCov">          0 :     lcnt = 0;</span>
<span class="lineNum">    6558 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6559 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    6560 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    6561 </span><span class="lineNoCov">          0 :         if ( lcnt&gt;=lk-&gt;off_top ) {</span>
<span class="lineNum">    6562 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].selected ) {</span>
<span class="lineNum">    6563 </span><span class="lineNoCov">          0 :                 r.x = LK_MARGIN; r.width = gfi-&gt;lkwidth-2*LK_MARGIN;</span>
<span class="lineNum">    6564 </span><span class="lineNoCov">          0 :                 r.y = (lcnt-lk-&gt;off_top)*gfi-&gt;fh; r.height = gfi-&gt;fh;</span>
<span class="lineNum">    6565 </span><span class="lineNoCov">          0 :                 GDrawFillRect(pixmap,&amp;r,ACTIVE_BORDER);</span>
<span class="lineNum">    6566 </span>            :             }
<span class="lineNum">    6567 </span><span class="lineNoCov">          0 :             r.x = LK_MARGIN-lk-&gt;off_left; r.width = (gfi-&gt;as&amp;~1);</span>
<span class="lineNum">    6568 </span><span class="lineNoCov">          0 :             r.y = LK_MARGIN+(lcnt-lk-&gt;off_top)*gfi-&gt;fh; r.height = r.width;</span>
<span class="lineNum">    6569 </span><span class="lineNoCov">          0 :             GDrawDrawRect(pixmap,&amp;r,0x000000);</span>
<span class="lineNum">    6570 </span><span class="lineNoCov">          0 :             GDrawDrawLine(pixmap,r.x+2,r.y+(r.height/2), r.x+r.width-2,r.y+(r.height/2), 0x000000);</span>
<span class="lineNum">    6571 </span><span class="lineNoCov">          0 :             if ( !lk-&gt;all[i].open )</span>
<span class="lineNum">    6572 </span><span class="lineNoCov">          0 :                 GDrawDrawLine(pixmap,r.x+(r.width/2),r.y+2, r.x+(r.width/2),r.y+r.height-2, 0x000000);</span>
<span class="lineNum">    6573 </span><span class="lineNoCov">          0 :             GDrawDrawText8(pixmap,r.x+gfi-&gt;fh, r.y+gfi-&gt;as,</span>
<span class="lineNum">    6574 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i].lookup-&gt;lookup_name,-1,MAIN_FOREGROUND);</span>
<span class="lineNum">    6575 </span>            :         }
<span class="lineNum">    6576 </span><span class="lineNoCov">          0 :         ++lcnt;</span>
<span class="lineNum">    6577 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    6578 </span><span class="lineNoCov">          0 :             for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    6579 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    6580 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    6581 </span><span class="lineNoCov">          0 :                 if ( lcnt&gt;=lk-&gt;off_top ) {</span>
<span class="lineNum">    6582 </span><span class="lineNoCov">          0 :                     if ( lk-&gt;all[i].subtables[j].selected ) {</span>
<span class="lineNum">    6583 </span><span class="lineNoCov">          0 :                         r.x = LK_MARGIN; r.width = gfi-&gt;lkwidth-2*LK_MARGIN;</span>
<span class="lineNum">    6584 </span><span class="lineNoCov">          0 :                         r.y = LK_MARGIN+(lcnt-lk-&gt;off_top)*gfi-&gt;fh; r.height = gfi-&gt;fh;</span>
<span class="lineNum">    6585 </span><span class="lineNoCov">          0 :                         GDrawFillRect(pixmap,&amp;r,ACTIVE_BORDER);</span>
<span class="lineNum">    6586 </span>            :                     }
<span class="lineNum">    6587 </span><span class="lineNoCov">          0 :                     r.x = LK_MARGIN+2*gfi-&gt;fh-lk-&gt;off_left;</span>
<span class="lineNum">    6588 </span><span class="lineNoCov">          0 :                     r.y = LK_MARGIN+(lcnt-lk-&gt;off_top)*gfi-&gt;fh;</span>
<span class="lineNum">    6589 </span><span class="lineNoCov">          0 :                     GDrawDrawText8(pixmap,r.x, r.y+gfi-&gt;as,</span>
<span class="lineNum">    6590 </span><span class="lineNoCov">          0 :                             lk-&gt;all[i].subtables[j].subtable-&gt;subtable_name,-1,MAIN_FOREGROUND);</span>
<span class="lineNum">    6591 </span>            :                 }
<span class="lineNum">    6592 </span><span class="lineNoCov">          0 :                 ++lcnt;</span>
<span class="lineNum">    6593 </span>            :             }
<span class="lineNum">    6594 </span>            :         }
<span class="lineNum">    6595 </span>            :     }
<span class="lineNum">    6596 </span><span class="lineNoCov">          0 :     GDrawPopClip(pixmap,&amp;old);</span>
<a name="6597"><span class="lineNum">    6597 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    6598 </span>            : 
<span class="lineNum">    6599 </span><span class="lineNoCov">          0 : static void LookupDeselect(struct lkdata *lk) {</span>
<span class="lineNum">    6600 </span>            :     int i,j;
<span class="lineNum">    6601 </span>            : 
<span class="lineNum">    6602 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6603 </span><span class="lineNoCov">          0 :         lk-&gt;all[i].selected = false;</span>
<span class="lineNum">    6604 </span><span class="lineNoCov">          0 :         for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j )</span>
<span class="lineNum">    6605 </span><span class="lineNoCov">          0 :             lk-&gt;all[i].subtables[j].selected = false;</span>
<span class="lineNum">    6606 </span>            :     }
<a name="6607"><span class="lineNum">    6607 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    6608 </span>            : 
<span class="lineNum">    6609 </span><span class="lineNoCov">          0 : static void LookupPopup(GWindow gw,OTLookup *otl,struct lookup_subtable *sub,</span>
<span class="lineNum">    6610 </span>            :         struct lkdata *lk) {
<span class="lineNum">    6611 </span>            :     static char popup_msg[600];
<span class="lineNum">    6612 </span>            :     int pos;
<span class="lineNum">    6613 </span>            :     char *lookuptype;
<span class="lineNum">    6614 </span>            :     FeatureScriptLangList *fl;
<span class="lineNum">    6615 </span>            :     struct scriptlanglist *sl;
<span class="lineNum">    6616 </span>            :     int l;
<span class="lineNum">    6617 </span>            : 
<span class="lineNum">    6618 </span><span class="lineNoCov">          0 :     if ( (otl-&gt;lookup_type&amp;0xff)&gt;= 0xf0 ) {</span>
<span class="lineNum">    6619 </span><span class="lineNoCov">          0 :         if ( otl-&gt;lookup_type==kern_statemachine )</span>
<span class="lineNum">    6620 </span><span class="lineNoCov">          0 :             lookuptype = _(&quot;Kerning State Machine&quot;);</span>
<span class="lineNum">    6621 </span><span class="lineNoCov">          0 :         else if ( otl-&gt;lookup_type==morx_indic )</span>
<span class="lineNum">    6622 </span><span class="lineNoCov">          0 :             lookuptype = _(&quot;Indic State Machine&quot;);</span>
<span class="lineNum">    6623 </span><span class="lineNoCov">          0 :         else if ( otl-&gt;lookup_type==morx_context )</span>
<span class="lineNum">    6624 </span><span class="lineNoCov">          0 :             lookuptype = _(&quot;Contextual State Machine&quot;);</span>
<span class="lineNum">    6625 </span>            :         else
<span class="lineNum">    6626 </span><span class="lineNoCov">          0 :             lookuptype = _(&quot;Contextual State Machine&quot;);</span>
<span class="lineNum">    6627 </span><span class="lineNoCov">          0 :     } else if ( (otl-&gt;lookup_type&gt;&gt;8)&lt;2 &amp;&amp; (otl-&gt;lookup_type&amp;0xff)&lt;10 )</span>
<span class="lineNum">    6628 </span><span class="lineNoCov">          0 :         lookuptype = _(lookup_type_names[otl-&gt;lookup_type&gt;&gt;8][otl-&gt;lookup_type&amp;0xff]);</span>
<span class="lineNum">    6629 </span>            :     else
<span class="lineNum">    6630 </span><span class="lineNoCov">          0 :         lookuptype = S_(&quot;LookupType|Unknown&quot;);</span>
<span class="lineNum">    6631 </span><span class="lineNoCov">          0 :     snprintf(popup_msg,sizeof(popup_msg), &quot;%s\n&quot;, lookuptype);</span>
<span class="lineNum">    6632 </span><span class="lineNoCov">          0 :     pos = strlen(popup_msg);</span>
<span class="lineNum">    6633 </span>            : 
<span class="lineNum">    6634 </span><span class="lineNoCov">          0 :     if ( sub!=NULL &amp;&amp; otl-&gt;lookup_type==gpos_pair &amp;&amp; sub-&gt;kc!=NULL ) {</span>
<span class="lineNum">    6635 </span><span class="lineNoCov">          0 :         snprintf(popup_msg+pos,sizeof(popup_msg)-pos,&quot;%s&quot;,_(&quot;(kerning class)\n&quot;) );</span>
<span class="lineNum">    6636 </span><span class="lineNoCov">          0 :         pos += strlen( popup_msg+pos );</span>
<span class="lineNum">    6637 </span>            :     }
<span class="lineNum">    6638 </span>            : 
<span class="lineNum">    6639 </span><span class="lineNoCov">          0 :     if ( otl-&gt;features==NULL )</span>
<span class="lineNum">    6640 </span><span class="lineNoCov">          0 :         snprintf(popup_msg+pos,sizeof(popup_msg)-pos,&quot;%s&quot;,_(&quot;Not attached to a feature&quot;));</span>
<span class="lineNum">    6641 </span>            :     else {
<span class="lineNum">    6642 </span><span class="lineNoCov">          0 :         for ( fl=otl-&gt;features; fl!=NULL &amp;&amp; pos&lt;sizeof(popup_msg)-2; fl=fl-&gt;next ) {</span>
<span class="lineNum">    6643 </span><span class="lineNoCov">          0 :             snprintf(popup_msg+pos,sizeof(popup_msg)-pos,&quot;%c%c%c%c: &quot;,</span>
<span class="lineNum">    6644 </span><span class="lineNoCov">          0 :                     fl-&gt;featuretag&gt;&gt;24, fl-&gt;featuretag&gt;&gt;16,</span>
<span class="lineNum">    6645 </span><span class="lineNoCov">          0 :                     fl-&gt;featuretag&gt;&gt;8, fl-&gt;featuretag&amp;0xff );</span>
<span class="lineNum">    6646 </span><span class="lineNoCov">          0 :             pos += strlen( popup_msg+pos );</span>
<span class="lineNum">    6647 </span><span class="lineNoCov">          0 :             for ( sl=fl-&gt;scripts; sl!=NULL; sl=sl-&gt;next ) {</span>
<span class="lineNum">    6648 </span><span class="lineNoCov">          0 :                 snprintf(popup_msg+pos,sizeof(popup_msg)-pos,&quot;%c%c%c%c{&quot;,</span>
<span class="lineNum">    6649 </span><span class="lineNoCov">          0 :                         sl-&gt;script&gt;&gt;24, sl-&gt;script&gt;&gt;16,</span>
<span class="lineNum">    6650 </span><span class="lineNoCov">          0 :                         sl-&gt;script&gt;&gt;8, sl-&gt;script&amp;0xff );</span>
<span class="lineNum">    6651 </span><span class="lineNoCov">          0 :                 pos += strlen( popup_msg+pos );</span>
<span class="lineNum">    6652 </span><span class="lineNoCov">          0 :                 for ( l=0; l&lt;sl-&gt;lang_cnt; ++l ) {</span>
<span class="lineNum">    6653 </span><span class="lineNoCov">          0 :                     uint32 lang = l&lt;MAX_LANG ? sl-&gt;langs[l] : sl-&gt;morelangs[l-MAX_LANG];</span>
<span class="lineNum">    6654 </span><span class="lineNoCov">          0 :                     snprintf(popup_msg+pos,sizeof(popup_msg)-pos,&quot;%c%c%c%c,&quot;,</span>
<span class="lineNum">    6655 </span>            :                             lang&gt;&gt;24, lang&gt;&gt;16,
<span class="lineNum">    6656 </span>            :                             lang&gt;&gt;8, lang&amp;0xff );
<span class="lineNum">    6657 </span><span class="lineNoCov">          0 :                     pos += strlen( popup_msg+pos );</span>
<span class="lineNum">    6658 </span>            :                 }
<span class="lineNum">    6659 </span><span class="lineNoCov">          0 :                 if ( popup_msg[pos-1]==',' )</span>
<span class="lineNum">    6660 </span><span class="lineNoCov">          0 :                     popup_msg[pos-1] = '}';</span>
<span class="lineNum">    6661 </span><span class="lineNoCov">          0 :                 else if ( pos&lt;sizeof(popup_msg)-2 )</span>
<span class="lineNum">    6662 </span><span class="lineNoCov">          0 :                     popup_msg[pos++] = '}';</span>
<span class="lineNum">    6663 </span><span class="lineNoCov">          0 :                 if ( pos&lt;sizeof(popup_msg)-2 )</span>
<span class="lineNum">    6664 </span><span class="lineNoCov">          0 :                     popup_msg[pos++] = ' ';</span>
<span class="lineNum">    6665 </span>            :             }
<span class="lineNum">    6666 </span><span class="lineNoCov">          0 :             if ( pos&lt;sizeof(popup_msg)-2 )</span>
<span class="lineNum">    6667 </span><span class="lineNoCov">          0 :                 popup_msg[pos++] = '\n';</span>
<span class="lineNum">    6668 </span>            :         }
<span class="lineNum">    6669 </span>            :     }
<span class="lineNum">    6670 </span>            : 
<span class="lineNum">    6671 </span>            :     /* Find out if any other lookups invoke it (ie. a context lookup invokes */
<span class="lineNum">    6672 </span>            :     /*  does it invoke ME?) */
<span class="lineNum">    6673 </span><span class="lineNoCov">          0 :     for ( l=0; l&lt;lk-&gt;cnt; ++l ) {</span>
<span class="lineNum">    6674 </span><span class="lineNoCov">          0 :         int j, r, used = false;</span>
<span class="lineNum">    6675 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[l].deleted )</span>
<span class="lineNum">    6676 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    6677 </span><span class="lineNoCov">          0 :         for ( j=0; j&lt;lk-&gt;all[l].subtable_cnt &amp;&amp; !used; ++j ) {</span>
<span class="lineNum">    6678 </span><span class="lineNoCov">          0 :             struct lookup_subtable *sub = lk-&gt;all[l].subtables[j].subtable;</span>
<span class="lineNum">    6679 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[l].subtables[j].deleted )</span>
<span class="lineNum">    6680 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    6681 </span><span class="lineNoCov">          0 :             if ( sub-&gt;fpst!=NULL ) {</span>
<span class="lineNum">    6682 </span><span class="lineNoCov">          0 :                 for ( r=0; r&lt;sub-&gt;fpst-&gt;rule_cnt &amp;&amp; !used; ++r ) {</span>
<span class="lineNum">    6683 </span><span class="lineNoCov">          0 :                     struct fpst_rule *rule = &amp;sub-&gt;fpst-&gt;rules[r];</span>
<span class="lineNum">    6684 </span>            :                     int ls;
<span class="lineNum">    6685 </span><span class="lineNoCov">          0 :                     for ( ls = 0; ls&lt;rule-&gt;lookup_cnt; ++ls ) {</span>
<span class="lineNum">    6686 </span><span class="lineNoCov">          0 :                         if ( rule-&gt;lookups[ls].lookup == otl ) {</span>
<span class="lineNum">    6687 </span><span class="lineNoCov">          0 :                             used = true;</span>
<span class="lineNum">    6688 </span><span class="lineNoCov">          0 :                     break;</span>
<span class="lineNum">    6689 </span>            :                         }
<span class="lineNum">    6690 </span>            :                     }
<span class="lineNum">    6691 </span>            :                 }
<span class="lineNum">    6692 </span>            :             }
<span class="lineNum">    6693 </span>            :         }
<span class="lineNum">    6694 </span><span class="lineNoCov">          0 :         if ( used ) {</span>
<span class="lineNum">    6695 </span><span class="lineNoCov">          0 :             snprintf(popup_msg+pos,sizeof(popup_msg)-pos,_(&quot; Used in %s\n&quot;),</span>
<span class="lineNum">    6696 </span><span class="lineNoCov">          0 :                     lk-&gt;all[l].lookup-&gt;lookup_name );</span>
<span class="lineNum">    6697 </span><span class="lineNoCov">          0 :             pos += strlen( popup_msg+pos );</span>
<span class="lineNum">    6698 </span>            :         }
<span class="lineNum">    6699 </span>            :     }
<span class="lineNum">    6700 </span>            : 
<span class="lineNum">    6701 </span><span class="lineNoCov">          0 :     if ( pos&gt;=sizeof(popup_msg) )</span>
<span class="lineNum">    6702 </span><span class="lineNoCov">          0 :         pos = sizeof(popup_msg)-1;</span>
<span class="lineNum">    6703 </span><span class="lineNoCov">          0 :     popup_msg[pos]='\0';</span>
<span class="lineNum">    6704 </span><span class="lineNoCov">          0 :     GGadgetPreparePopup8(gw,popup_msg);</span>
<a name="6705"><span class="lineNum">    6705 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    6706 </span>            : 
<span class="lineNum">    6707 </span><span class="lineNoCov">          0 : static void AddDFLT(OTLookup *otl) {</span>
<span class="lineNum">    6708 </span>            :     FeatureScriptLangList *fl;
<span class="lineNum">    6709 </span>            :     struct scriptlanglist *sl;
<span class="lineNum">    6710 </span>            :     int l;
<span class="lineNum">    6711 </span>            : 
<span class="lineNum">    6712 </span><span class="lineNoCov">          0 :     for ( fl = otl-&gt;features; fl!=NULL; fl=fl-&gt;next ) {</span>
<span class="lineNum">    6713 </span><span class="lineNoCov">          0 :         int hasDFLT = false, hasdflt=false;</span>
<span class="lineNum">    6714 </span><span class="lineNoCov">          0 :         for ( sl=fl-&gt;scripts; sl!=NULL; sl=sl-&gt;next ) {</span>
<span class="lineNum">    6715 </span><span class="lineNoCov">          0 :             if ( sl-&gt;script == DEFAULT_SCRIPT )</span>
<span class="lineNum">    6716 </span><span class="lineNoCov">          0 :                 hasDFLT = true;</span>
<span class="lineNum">    6717 </span><span class="lineNoCov">          0 :             for ( l=0; l&lt;sl-&gt;lang_cnt; ++l ) {</span>
<span class="lineNum">    6718 </span><span class="lineNoCov">          0 :                 uint32 lang = l&lt;MAX_LANG ? sl-&gt;langs[l] : sl-&gt;morelangs[l-MAX_LANG];</span>
<span class="lineNum">    6719 </span><span class="lineNoCov">          0 :                 if ( lang==DEFAULT_LANG ) {</span>
<span class="lineNum">    6720 </span><span class="lineNoCov">          0 :                     hasdflt = true;</span>
<span class="lineNum">    6721 </span><span class="lineNoCov">          0 :             break;</span>
<span class="lineNum">    6722 </span>            :                 }
<span class="lineNum">    6723 </span>            :             }
<span class="lineNum">    6724 </span><span class="lineNoCov">          0 :             if ( hasdflt &amp;&amp; hasDFLT )</span>
<span class="lineNum">    6725 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    6726 </span>            :         }
<span class="lineNum">    6727 </span><span class="lineNoCov">          0 :         if ( hasDFLT    /* Already there */ ||</span>
<span class="lineNum">    6728 </span>            :                 !hasdflt /* Shouldn't add it */ )
<span class="lineNum">    6729 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    6730 </span><span class="lineNoCov">          0 :         sl = chunkalloc(sizeof(struct scriptlanglist));</span>
<span class="lineNum">    6731 </span><span class="lineNoCov">          0 :         sl-&gt;script = DEFAULT_SCRIPT;</span>
<span class="lineNum">    6732 </span><span class="lineNoCov">          0 :         sl-&gt;lang_cnt = 1;</span>
<span class="lineNum">    6733 </span><span class="lineNoCov">          0 :         sl-&gt;langs[0] = DEFAULT_LANG;</span>
<span class="lineNum">    6734 </span><span class="lineNoCov">          0 :         sl-&gt;next = fl-&gt;scripts;</span>
<span class="lineNum">    6735 </span><span class="lineNoCov">          0 :         fl-&gt;scripts = sl;</span>
<span class="lineNum">    6736 </span>            :     }
<a name="6737"><span class="lineNum">    6737 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    6738 </span>            : 
<span class="lineNum">    6739 </span><span class="lineNoCov">          0 : static void AALTRemoveOld(SplineFont *sf,struct lkdata *lk) {</span>
<span class="lineNum">    6740 </span>            :     int i;
<span class="lineNum">    6741 </span>            :     FeatureScriptLangList *fl, *prev;
<span class="lineNum">    6742 </span>            : 
<span class="lineNum">    6743 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6744 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    6745 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    6746 </span><span class="lineNoCov">          0 :         prev = NULL;</span>
<span class="lineNum">    6747 </span><span class="lineNoCov">          0 :         for ( fl = lk-&gt;all[i].lookup-&gt;features; fl!=NULL; prev=fl, fl=fl-&gt;next ) {</span>
<span class="lineNum">    6748 </span><span class="lineNoCov">          0 :             if ( fl-&gt;featuretag==CHR('a','a','l','t') ) {</span>
<span class="lineNum">    6749 </span><span class="lineNoCov">          0 :                 if ( fl==lk-&gt;all[i].lookup-&gt;features &amp;&amp; fl-&gt;next==NULL &amp;&amp; !LookupUsedNested(sf,lk-&gt;all[i].lookup) )</span>
<span class="lineNum">    6750 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i].deleted = true;</span>
<span class="lineNum">    6751 </span>            :                 else {
<span class="lineNum">    6752 </span><span class="lineNoCov">          0 :                     if ( prev==NULL )</span>
<span class="lineNum">    6753 </span><span class="lineNoCov">          0 :                         lk-&gt;all[i].lookup-&gt;features = fl-&gt;next;</span>
<span class="lineNum">    6754 </span>            :                     else
<span class="lineNum">    6755 </span><span class="lineNoCov">          0 :                         prev-&gt;next = fl-&gt;next;</span>
<span class="lineNum">    6756 </span><span class="lineNoCov">          0 :                     fl-&gt;next = NULL;</span>
<span class="lineNum">    6757 </span><span class="lineNoCov">          0 :                     FeatureScriptLangListFree(fl);</span>
<span class="lineNum">    6758 </span>            :                 }
<span class="lineNum">    6759 </span><span class="lineNoCov">          0 :         break;</span>
<span class="lineNum">    6760 </span>            :             }
<span class="lineNum">    6761 </span>            :         }
<span class="lineNum">    6762 </span>            :     }
<a name="6763"><span class="lineNum">    6763 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    6764 </span>            : 
<span class="lineNum">    6765 </span><span class="lineNoCov">          0 : static void AALTCreateNew(SplineFont *sf, struct lkdata *lk) {</span>
<span class="lineNum">    6766 </span>            :     /* different script/lang combinations may need different 'aalt' lookups */
<span class="lineNum">    6767 </span>            :     /*  well, let's just say different script combinations */
<span class="lineNum">    6768 </span>            :     /* for each script/lang combo find all single/alternate subs for each */
<span class="lineNum">    6769 </span>            :     /*  glyph. Merge those choices and create new lookup with that info */
<span class="lineNum">    6770 </span><span class="lineNoCov">          0 :     struct sllk *sllk = NULL;</span>
<span class="lineNum">    6771 </span><span class="lineNoCov">          0 :     int sllk_cnt=0, sllk_max = 0;</span>
<span class="lineNum">    6772 </span>            :     int i,k;
<span class="lineNum">    6773 </span>            :     OTLookup *otl;
<span class="lineNum">    6774 </span>            : 
<span class="lineNum">    6775 </span>            :     /* Find all scripts, and all the single/alternate lookups for each */
<span class="lineNum">    6776 </span>            :     /*  and all the languages used for these in each script */
<span class="lineNum">    6777 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6778 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    6779 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    6780 </span><span class="lineNoCov">          0 :         sllk = AddOTLToSllks( lk-&gt;all[i].lookup, sllk, &amp;sllk_cnt, &amp;sllk_max );</span>
<span class="lineNum">    6781 </span>            :     }
<span class="lineNum">    6782 </span>            :     /* Each of these gets its own gsub_alternate lookup which gets inserted */
<span class="lineNum">    6783 </span>            :     /*  at the head of the lookup list. Each lookup has one subtable */
<span class="lineNum">    6784 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;sllk_cnt; ++i ) {</span>
<span class="lineNum">    6785 </span><span class="lineNoCov">          0 :         if ( sllk[i].cnt==0 )           /* Script used, but provides no alternates */</span>
<span class="lineNum">    6786 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    6787 </span><span class="lineNoCov">          0 :         otl = NewAALTLookup(sf,sllk,sllk_cnt,i);</span>
<span class="lineNum">    6788 </span><span class="lineNoCov">          0 :         if ( lk-&gt;cnt&gt;=lk-&gt;max )</span>
<span class="lineNum">    6789 </span><span class="lineNoCov">          0 :             lk-&gt;all = realloc(lk-&gt;all,(lk-&gt;max+=10)*sizeof(struct lkinfo));</span>
<span class="lineNum">    6790 </span><span class="lineNoCov">          0 :         for ( k=lk-&gt;cnt; k&gt;0; --k )</span>
<span class="lineNum">    6791 </span><span class="lineNoCov">          0 :             lk-&gt;all[k] = lk-&gt;all[k-1];</span>
<span class="lineNum">    6792 </span><span class="lineNoCov">          0 :         memset(&amp;lk-&gt;all[0],0,sizeof(struct lkinfo));</span>
<span class="lineNum">    6793 </span><span class="lineNoCov">          0 :         lk-&gt;all[0].lookup = otl;</span>
<span class="lineNum">    6794 </span><span class="lineNoCov">          0 :         lk-&gt;all[0].new = true;</span>
<span class="lineNum">    6795 </span><span class="lineNoCov">          0 :         ++lk-&gt;cnt;</span>
<span class="lineNum">    6796 </span>            : 
<span class="lineNum">    6797 </span>            :         /* Now add the new subtable */
<span class="lineNum">    6798 </span><span class="lineNoCov">          0 :         lk-&gt;all[0].subtables = calloc(1,sizeof(struct lksubinfo));</span>
<span class="lineNum">    6799 </span><span class="lineNoCov">          0 :         lk-&gt;all[0].subtable_cnt = lk-&gt;all[0].subtable_max = 1;</span>
<span class="lineNum">    6800 </span><span class="lineNoCov">          0 :         lk-&gt;all[0].subtables[0].subtable = otl-&gt;subtables;</span>
<span class="lineNum">    6801 </span><span class="lineNoCov">          0 :         lk-&gt;all[0].subtables[0].new = true;</span>
<span class="lineNum">    6802 </span>            :     }
<span class="lineNum">    6803 </span>            : 
<span class="lineNum">    6804 </span><span class="lineNoCov">          0 :     SllkFree(sllk,sllk_cnt);</span>
<a name="6805"><span class="lineNum">    6805 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">    6806 </span>            : 
<span class="lineNum">    6807 </span><span class="lineNoCov">          0 : static void lookupmenu_dispatch(GWindow v, GMenuItem *mi, GEvent *e) {</span>
<span class="lineNum">    6808 </span>            :     GEvent dummy;
<span class="lineNum">    6809 </span><span class="lineNoCov">          0 :     struct gfi_data *gfi = GDrawGetUserData(v);</span>
<span class="lineNum">    6810 </span>            :     int i;
<span class="lineNum">    6811 </span>            :     char *buts[4];
<span class="lineNum">    6812 </span>            : 
<span class="lineNum">    6813 </span><span class="lineNoCov">          0 :     if ( mi-&gt;mid==CID_SaveFeat || mi-&gt;mid==CID_SaveLookup ) {</span>
<span class="lineNum">    6814 </span>            :         char *filename, *defname;
<span class="lineNum">    6815 </span>            :         FILE *out;
<span class="lineNum">    6816 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6817 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6818 </span><span class="lineNoCov">          0 :         OTLookup *otl = NULL;</span>
<span class="lineNum">    6819 </span>            : 
<span class="lineNum">    6820 </span><span class="lineNoCov">          0 :         if ( mi-&gt;mid==CID_SaveLookup ) {</span>
<span class="lineNum">    6821 </span><span class="lineNoCov">          0 :             for ( i=0; i&lt;lk-&gt;cnt &amp;&amp; (!lk-&gt;all[i].selected || lk-&gt;all[i].deleted); ++i );</span>
<span class="lineNum">    6822 </span><span class="lineNoCov">          0 :             if ( i==lk-&gt;cnt )</span>
<span class="lineNum">    6823 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    6824 </span><span class="lineNoCov">          0 :             otl = lk-&gt;all[i].lookup;</span>
<span class="lineNum">    6825 </span><span class="lineNoCov">          0 :             SFFindUnusedLookups(gfi-&gt;sf);</span>
<span class="lineNum">    6826 </span><span class="lineNoCov">          0 :             if ( otl-&gt;unused ) {</span>
<span class="lineNum">    6827 </span><span class="lineNoCov">          0 :                 ff_post_error(_(&quot;No data&quot;), _(&quot;This lookup contains no data&quot;));</span>
<span class="lineNum">    6828 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    6829 </span>            :             }
<span class="lineNum">    6830 </span>            :         }
<span class="lineNum">    6831 </span><span class="lineNoCov">          0 :         defname = strconcat(gfi-&gt;sf-&gt;fontname,&quot;.fea&quot;);</span>
<span class="lineNum">    6832 </span><span class="lineNoCov">          0 :         filename = gwwv_save_filename(_(&quot;Feature file?&quot;),defname,&quot;*.fea&quot;);</span>
<span class="lineNum">    6833 </span><span class="lineNoCov">          0 :         free(defname);</span>
<span class="lineNum">    6834 </span><span class="lineNoCov">          0 :         if ( filename==NULL )</span>
<span class="lineNum">    6835 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    6836 </span>            :         /* Convert to def encoding !!! */
<span class="lineNum">    6837 </span><span class="lineNoCov">          0 :         out = fopen(filename,&quot;w&quot;);</span>
<span class="lineNum">    6838 </span><span class="lineNoCov">          0 :         if ( out==NULL ) {</span>
<span class="lineNum">    6839 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Cannot open file&quot;),_(&quot;Cannot open %s&quot;), filename );</span>
<span class="lineNum">    6840 </span><span class="lineNoCov">          0 :             free(filename);</span>
<span class="lineNum">    6841 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    6842 </span>            :         }
<span class="lineNum">    6843 </span><span class="lineNoCov">          0 :         if ( otl!=NULL )</span>
<span class="lineNum">    6844 </span><span class="lineNoCov">          0 :             FeatDumpOneLookup( out,gfi-&gt;sf,otl );</span>
<span class="lineNum">    6845 </span>            :         else
<span class="lineNum">    6846 </span><span class="lineNoCov">          0 :             FeatDumpFontLookups( out,gfi-&gt;sf );</span>
<span class="lineNum">    6847 </span><span class="lineNoCov">          0 :         if ( ferror(out)) {</span>
<span class="lineNum">    6848 </span><span class="lineNoCov">          0 :             ff_post_error(_(&quot;Output error&quot;),_(&quot;An error occurred writing %s&quot;), filename );</span>
<span class="lineNum">    6849 </span><span class="lineNoCov">          0 :             free(filename);</span>
<span class="lineNum">    6850 </span><span class="lineNoCov">          0 :             fclose(out);</span>
<span class="lineNum">    6851 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    6852 </span>            :         }
<span class="lineNum">    6853 </span><span class="lineNoCov">          0 :         free(filename);</span>
<span class="lineNum">    6854 </span><span class="lineNoCov">          0 :         fclose(out);</span>
<span class="lineNum">    6855 </span><span class="lineNoCov">          0 :     } else if ( mi-&gt;mid==CID_AddAllAlternates ) {</span>
<span class="lineNum">    6856 </span>            :         /* First we want to remove any old aalt-only lookups */
<span class="lineNum">    6857 </span>            :         /*  (and remove the 'aalt' tag from any lookups with multiple features) */
<span class="lineNum">    6858 </span>            :         /* Then add the new ones */
<span class="lineNum">    6859 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[0];             /* GSUB */</span>
<span class="lineNum">    6860 </span><span class="lineNoCov">          0 :         int has_aalt_only=false, has_aalt_mixed = false;</span>
<span class="lineNum">    6861 </span>            :         int i, ret;
<span class="lineNum">    6862 </span>            :         FeatureScriptLangList *fl;
<span class="lineNum">    6863 </span>            : 
<span class="lineNum">    6864 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6865 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    6866 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    6867 </span><span class="lineNoCov">          0 :             for ( fl = lk-&gt;all[i].lookup-&gt;features; fl!=NULL; fl=fl-&gt;next ) {</span>
<span class="lineNum">    6868 </span><span class="lineNoCov">          0 :                 if ( fl-&gt;featuretag==CHR('a','a','l','t') ) {</span>
<span class="lineNum">    6869 </span><span class="lineNoCov">          0 :                     if ( fl==lk-&gt;all[i].lookup-&gt;features &amp;&amp; fl-&gt;next==NULL )</span>
<span class="lineNum">    6870 </span><span class="lineNoCov">          0 :                         has_aalt_only = true;</span>
<span class="lineNum">    6871 </span>            :                     else
<span class="lineNum">    6872 </span><span class="lineNoCov">          0 :                         has_aalt_mixed = true;</span>
<span class="lineNum">    6873 </span><span class="lineNoCov">          0 :             break;</span>
<span class="lineNum">    6874 </span>            :                 }
<span class="lineNum">    6875 </span>            :             }
<span class="lineNum">    6876 </span>            :         }
<span class="lineNum">    6877 </span><span class="lineNoCov">          0 :         if ( has_aalt_only || has_aalt_mixed ) {</span>
<span class="lineNum">    6878 </span><span class="lineNoCov">          0 :             buts[0] = _(&quot;_OK&quot;); buts[1] = _(&quot;_Cancel&quot;); buts[2] = NULL;</span>
<span class="lineNum">    6879 </span><span class="lineNoCov">          0 :             ret = gwwv_ask(has_aalt_only?_(&quot;Lookups will be removed&quot;):_(&quot;Feature tags will be removed&quot;),</span>
<span class="lineNum">    6880 </span>            :                     (const char **) buts,0,1,
<span class="lineNum">    6881 </span>            :                     !has_aalt_mixed ?
<span class="lineNum">    6882 </span>            :                     _(&quot;Warning: There are already some 'aalt' lookups in\n&quot;
<span class="lineNum">    6883 </span>            :                       &quot;the font. If you proceed with this command those\n&quot;
<span class="lineNum">    6884 </span>            :                       &quot;lookups will be removed and new lookups will be\n&quot;
<span class="lineNum">    6885 </span>            :                       &quot;generated. The old information will be LOST.\n&quot;
<span class="lineNum">    6886 </span>            :                       &quot; Is that what you want?&quot;) :
<span class="lineNum">    6887 </span>            :                     !has_aalt_only ?
<span class="lineNum">    6888 </span>            :                     _(&quot;Warning: There are already some 'aalt' lookups in\n&quot;
<span class="lineNum">    6889 </span>            :                       &quot;the font but there are other feature tags associated\n&quot;
<span class="lineNum">    6890 </span>            :                       &quot;with these lookups. If you proceed with this command\n&quot;
<span class="lineNum">    6891 </span>            :                       &quot;the 'aalt' tag will be removed from those lookups,\n&quot;
<span class="lineNum">    6892 </span>            :                       &quot;and new lookups will be generate which will NOT be\n&quot;
<span class="lineNum">    6893 </span>            :                       &quot;associated with the other feature tag(s).\n&quot;
<span class="lineNum">    6894 </span>            :                       &quot; Is that what you want?&quot;) :
<span class="lineNum">    6895 </span>            :                     _(&quot;Warning: There are already some 'aalt' lookups in\n&quot;
<span class="lineNum">    6896 </span>            :                       &quot;the font, some have no other feature tags associated\n&quot;
<span class="lineNum">    6897 </span>            :                       &quot;with them and these will be removed, others have other\n&quot;
<span class="lineNum">    6898 </span>            :                       &quot;tags associated and these will remain while the 'aalt'\n&quot;
<span class="lineNum">    6899 </span>            :                       &quot;tag will be removed from the lookup -- a new lookup\n&quot;
<span class="lineNum">    6900 </span>            :                       &quot;will be generated which is not associated with any\n&quot;
<span class="lineNum">    6901 </span>            :                       &quot;other feature tags.\n&quot;
<span class="lineNum">    6902 </span>            :                       &quot; Is that what you want?&quot;) );
<span class="lineNum">    6903 </span><span class="lineNoCov">          0 :             if ( ret==1 )</span>
<span class="lineNum">    6904 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    6905 </span><span class="lineNoCov">          0 :             AALTRemoveOld(gfi-&gt;sf,lk);</span>
<span class="lineNum">    6906 </span>            :         }
<span class="lineNum">    6907 </span><span class="lineNoCov">          0 :         AALTCreateNew(gfi-&gt;sf,lk);</span>
<span class="lineNum">    6908 </span><span class="lineNoCov">          0 :         GDrawRequestExpose(GDrawableGetWindow(GWidgetGetControl(gfi-&gt;gw,CID_LookupWin+0)),NULL,false);</span>
<span class="lineNum">    6909 </span><span class="lineNoCov">          0 :     } else if ( mi-&gt;mid==CID_AddDFLT ) {</span>
<span class="lineNum">    6910 </span>            :         struct selection_bits sel;
<span class="lineNum">    6911 </span>            :         int toall, ret, i;
<span class="lineNum">    6912 </span>            :         char *buts[4];
<span class="lineNum">    6913 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6914 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6915 </span>            : 
<span class="lineNum">    6916 </span><span class="lineNoCov">          0 :         LookupParseSelection(lk,&amp;sel);</span>
<span class="lineNum">    6917 </span><span class="lineNoCov">          0 :         if ( sel.lookup_cnt==0 ) {</span>
<span class="lineNum">    6918 </span><span class="lineNoCov">          0 :             buts[0] = _(&quot;_Apply to All&quot;); buts[1] = _(&quot;_Cancel&quot;); buts[2]=NULL;</span>
<span class="lineNum">    6919 </span>            :         } else {
<span class="lineNum">    6920 </span><span class="lineNoCov">          0 :             buts[0] = _(&quot;_Apply to All&quot;); buts[1] = _(&quot;_Apply to Selection&quot;); buts[2] = _(&quot;_Cancel&quot;); buts[3]=NULL;</span>
<span class="lineNum">    6921 </span>            :         }
<span class="lineNum">    6922 </span><span class="lineNoCov">          0 :         ret = gwwv_ask(_(&quot;Apply to:&quot;),(const char **) buts,0,sel.lookup_cnt==0?1:2,_(&quot;Apply change to which lookups?&quot;));</span>
<span class="lineNum">    6923 </span><span class="lineNoCov">          0 :         toall = false;</span>
<span class="lineNum">    6924 </span><span class="lineNoCov">          0 :         if ( ret==0 )</span>
<span class="lineNum">    6925 </span><span class="lineNoCov">          0 :             toall = true;</span>
<span class="lineNum">    6926 </span><span class="lineNoCov">          0 :         else if ( (ret==1 &amp;&amp; sel.lookup_cnt==0) || (ret==2 &amp;&amp; sel.lookup_cnt!=0))</span>
<span class="lineNum">    6927 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    6928 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    6929 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    6930 </span><span class="lineNoCov">          0 :         continue;</span>
<span class="lineNum">    6931 </span><span class="lineNoCov">          0 :             if ( lk-&gt;all[i].selected || toall ) {</span>
<span class="lineNum">    6932 </span><span class="lineNoCov">          0 :                 AddDFLT(lk-&gt;all[i].lookup);</span>
<span class="lineNum">    6933 </span>            :             }
<span class="lineNum">    6934 </span>            :         }
<span class="lineNum">    6935 </span><span class="lineNoCov">          0 :     } else if ( mi-&gt;mid==CID_AddLanguage || mi-&gt;mid==CID_RmLanguage ) {</span>
<span class="lineNum">    6936 </span><span class="lineNoCov">          0 :         int isgpos = GTabSetGetSel(GWidgetGetControl(gfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    6937 </span><span class="lineNoCov">          0 :         struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    6938 </span>            : 
<span class="lineNum">    6939 </span><span class="lineNoCov">          0 :         AddRmLang(gfi-&gt;sf,lk,mi-&gt;mid==CID_AddLanguage);</span>
<span class="lineNum">    6940 </span>            :     } else {
<span class="lineNum">    6941 </span><span class="lineNoCov">          0 :         memset(&amp;dummy,0,sizeof(dummy));</span>
<span class="lineNum">    6942 </span><span class="lineNoCov">          0 :         dummy.type = et_controlevent;</span>
<span class="lineNum">    6943 </span><span class="lineNoCov">          0 :         dummy.u.control.subtype = et_buttonactivate;</span>
<span class="lineNum">    6944 </span><span class="lineNoCov">          0 :         dummy.u.control.g = GWidgetGetControl(gfi-&gt;gw,mi-&gt;mid);</span>
<span class="lineNum">    6945 </span><span class="lineNoCov">          0 :         dummy.w = GGadgetGetWindow(dummy.u.control.g);</span>
<span class="lineNum">    6946 </span><span class="lineNoCov">          0 :         dummy.u.control.u.button.button = e-&gt;u.mouse.button;</span>
<span class="lineNum">    6947 </span><span class="lineNoCov">          0 :         GGadgetDispatchEvent(dummy.u.control.g,&amp;dummy);</span>
<span class="lineNum">    6948 </span>            :     }
<span class="lineNum">    6949 </span>            : }
<span class="lineNum">    6950 </span>            : 
<span class="lineNum">    6951 </span>            : static GMenuItem lookuppopupmenu[] = {
<span class="lineNum">    6952 </span>            :     { { (unichar_t *) N_(&quot;_Top&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 't' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_LookupTop },
<span class="lineNum">    6953 </span>            :     { { (unichar_t *) N_(&quot;_Up&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'C' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_LookupUp },
<span class="lineNum">    6954 </span>            :     { { (unichar_t *) N_(&quot;_Down&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_LookupDown },
<span class="lineNum">    6955 </span>            :     { { (unichar_t *) N_(&quot;_Bottom&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_LookupBottom },
<span class="lineNum">    6956 </span>            :     { { (unichar_t *) N_(&quot;_Sort&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_LookupSort },
<span class="lineNum">    6957 </span>            :     { { NULL, NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 1, 0, 0, 0, '\0' }, '\0', 0, NULL, NULL, NULL, 0 }, /* line */
<span class="lineNum">    6958 </span>            :     { { (unichar_t *) N_(&quot;Add _Lookup&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_AddLookup },
<span class="lineNum">    6959 </span>            :     { { (unichar_t *) N_(&quot;Add Sub_table&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_AddSubtable },
<span class="lineNum">    6960 </span>            :     { { (unichar_t *) N_(&quot;Edit _Metadata&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_EditMetadata },
<span class="lineNum">    6961 </span>            :     { { (unichar_t *) N_(&quot;_Edit Data&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_EditSubtable },
<span class="lineNum">    6962 </span>            :     { { (unichar_t *) N_(&quot;De_lete&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_DeleteLookup },
<span class="lineNum">    6963 </span>            :     { { (unichar_t *) N_(&quot;_Merge&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_MergeLookup },
<span class="lineNum">    6964 </span>            :     { { (unichar_t *) N_(&quot;Sa_ve Lookup...&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_SaveLookup },
<span class="lineNum">    6965 </span>            :     { { NULL, NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 1, 0, 0, 0, '\0' }, '\0', 0, NULL, NULL, NULL, 0 }, /* line */
<span class="lineNum">    6966 </span>            :     { { (unichar_t *) N_(&quot;Add Language to Script...&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_AddLanguage },
<span class="lineNum">    6967 </span>            :     { { (unichar_t *) N_(&quot;Remove Language from Script...&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_RmLanguage },
<span class="lineNum">    6968 </span>            :     { { NULL, NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 1, 0, 0, 0, '\0' }, '\0', 0, NULL, NULL, NULL, 0 }, /* line */
<span class="lineNum">    6969 </span>            :     { { (unichar_t *) N_(&quot;_Add 'aalt' features&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_AddAllAlternates },
<span class="lineNum">    6970 </span>            :     { { (unichar_t *) N_(&quot;Add 'D_FLT' script&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_AddDFLT },
<span class="lineNum">    6971 </span>            :     { { NULL, NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 1, 0, 0, 0, '\0' }, '\0', 0, NULL, NULL, NULL, 0 }, /* line */
<span class="lineNum">    6972 </span>            :     { { (unichar_t *) N_(&quot;_Revert All&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_RevertLookups },
<span class="lineNum">    6973 </span>            :     { { (unichar_t *) N_(&quot;_Import...&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_ImportLookups },
<span class="lineNum">    6974 </span>            :     { { (unichar_t *) N_(&quot;S_ave Feature File...&quot;), NULL, COLOR_DEFAULT, COLOR_DEFAULT, NULL, NULL, 0, 0, 0, 0, 0, 0, 1, 1, 0, 'o' }, '\0', ksm_control, NULL, NULL, lookupmenu_dispatch, CID_SaveFeat },
<span class="lineNum">    6975 </span>            :     GMENUITEM_EMPTY
<a name="6976"><span class="lineNum">    6976 </span>            : };</a>
<span class="lineNum">    6977 </span>            : 
<span class="lineNum">    6978 </span><span class="lineNoCov">          0 : static void LookupMenu(struct gfi_data *gfi,struct lkdata *lk,int isgpos, GEvent *event) {</span>
<span class="lineNum">    6979 </span>            :     struct selection_bits sel;
<span class="lineNum">    6980 </span>            :     int i,j;
<span class="lineNum">    6981 </span>            :     static int initted = false;
<span class="lineNum">    6982 </span>            : 
<span class="lineNum">    6983 </span><span class="lineNoCov">          0 :     if ( !initted ) {</span>
<span class="lineNum">    6984 </span>            :         int i;
<span class="lineNum">    6985 </span><span class="lineNoCov">          0 :         initted = true;</span>
<span class="lineNum">    6986 </span>            : 
<span class="lineNum">    6987 </span><span class="lineNoCov">          0 :         for ( i=0; lookuppopupmenu[i].ti.text!=NULL || lookuppopupmenu[i].ti.line; ++i )</span>
<span class="lineNum">    6988 </span><span class="lineNoCov">          0 :             if ( lookuppopupmenu[i].ti.text!=NULL )</span>
<span class="lineNum">    6989 </span><span class="lineNoCov">          0 :                 lookuppopupmenu[i].ti.text = (unichar_t *) _( (char *)lookuppopupmenu[i].ti.text);</span>
<span class="lineNum">    6990 </span>            :     }
<span class="lineNum">    6991 </span>            : 
<span class="lineNum">    6992 </span><span class="lineNoCov">          0 :     GGadgetEndPopup();</span>
<span class="lineNum">    6993 </span>            : 
<span class="lineNum">    6994 </span><span class="lineNoCov">          0 :     LookupParseSelection(lk,&amp;sel);</span>
<span class="lineNum">    6995 </span><span class="lineNoCov">          0 :     for ( i=0; lookuppopupmenu[i].ti.text!=NULL || lookuppopupmenu[i].ti.line; ++i ) {</span>
<span class="lineNum">    6996 </span><span class="lineNoCov">          0 :         switch ( lookuppopupmenu[i].mid ) {</span>
<span class="lineNum">    6997 </span>            :           case 0:
<span class="lineNum">    6998 </span>            :             /* Lines */;
<span class="lineNum">    6999 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7000 </span>            :           case CID_LookupTop:
<span class="lineNum">    7001 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = sel.any_first || sel.lookup_cnt+sel.sub_cnt!=1;</span>
<span class="lineNum">    7002 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7003 </span>            :           case CID_LookupUp:
<span class="lineNum">    7004 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = sel.any_first || sel.lookup_cnt+sel.sub_cnt==0;</span>
<span class="lineNum">    7005 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7006 </span>            :           case CID_LookupDown:
<span class="lineNum">    7007 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = sel.any_last || sel.lookup_cnt+sel.sub_cnt==0;</span>
<span class="lineNum">    7008 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7009 </span>            :           case CID_LookupBottom:
<span class="lineNum">    7010 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = sel.any_last || sel.lookup_cnt+sel.sub_cnt!=1;</span>
<span class="lineNum">    7011 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7012 </span>            :           case CID_LookupSort:
<span class="lineNum">    7013 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = lk-&gt;cnt&lt;=1;</span>
<span class="lineNum">    7014 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7015 </span>            :           case CID_AddLookup:
<span class="lineNum">    7016 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = sel.lookup_cnt+sel.sub_cnt&gt;1;</span>
<span class="lineNum">    7017 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7018 </span>            :           case CID_AddSubtable:
<span class="lineNum">    7019 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = (sel.lookup_cnt!=1 || sel.sub_cnt&gt;1) &amp;&amp; (sel.lookup_cnt!=0 || sel.sub_cnt!=1);</span>
<span class="lineNum">    7020 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7021 </span>            :           case CID_EditMetadata:
<span class="lineNum">    7022 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = (sel.lookup_cnt!=1 || sel.sub_cnt!=0) &amp;&amp;</span>
<span class="lineNum">    7023 </span><span class="lineNoCov">          0 :                         (sel.lookup_cnt!=0 || sel.sub_cnt!=1);</span>
<span class="lineNum">    7024 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7025 </span>            :           case CID_EditSubtable:
<span class="lineNum">    7026 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = sel.lookup_cnt!=0 || sel.sub_cnt!=1;</span>
<span class="lineNum">    7027 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7028 </span>            :           case CID_DeleteLookup:
<span class="lineNum">    7029 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = sel.lookup_cnt==0 &amp;&amp; sel.sub_cnt==0;</span>
<span class="lineNum">    7030 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7031 </span>            :           case CID_MergeLookup:
<span class="lineNum">    7032 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = !(</span>
<span class="lineNum">    7033 </span><span class="lineNoCov">          0 :                     (sel.lookup_cnt&gt;=2 &amp;&amp; sel.sub_cnt==0 &amp;&amp; sel.lookup_mergeable) ||</span>
<span class="lineNum">    7034 </span><span class="lineNoCov">          0 :                     (sel.lookup_cnt==0 &amp;&amp; sel.sub_cnt&gt;=2 &amp;&amp; sel.sub_table_mergeable)  );</span>
<span class="lineNum">    7035 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7036 </span>            :           case CID_ImportLookups:
<span class="lineNum">    7037 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = !LookupsImportable(gfi-&gt;sf,isgpos);</span>
<span class="lineNum">    7038 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7039 </span>            :           case CID_RevertLookups:
<span class="lineNum">    7040 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = false;</span>
<span class="lineNum">    7041 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7042 </span>            :           case CID_SaveLookup:
<span class="lineNum">    7043 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = sel.lookup_cnt!=1 || sel.sub_cnt!=0;</span>
<span class="lineNum">    7044 </span><span class="lineNoCov">          0 :             for ( j=0; j&lt;lk-&gt;cnt; ++j ) if ( lk-&gt;all[j].selected ) {</span>
<span class="lineNum">    7045 </span><span class="lineNoCov">          0 :                 int type = lk-&gt;all[j].lookup-&gt;lookup_type;</span>
<span class="lineNum">    7046 </span><span class="lineNoCov">          0 :                 if ( type==kern_statemachine || type==morx_indic ||</span>
<span class="lineNum">    7047 </span><span class="lineNoCov">          0 :                         type==morx_context || type==morx_insert )</span>
<span class="lineNum">    7048 </span><span class="lineNoCov">          0 :                     lookuppopupmenu[i].ti.disabled = true;</span>
<span class="lineNum">    7049 </span><span class="lineNoCov">          0 :             break;</span>
<span class="lineNum">    7050 </span>            :             }
<span class="lineNum">    7051 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7052 </span>            :           case CID_AddDFLT:
<span class="lineNum">    7053 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = lk-&gt;cnt==0;</span>
<span class="lineNum">    7054 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7055 </span>            :           case CID_AddAllAlternates:
<span class="lineNum">    7056 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = lk-&gt;cnt==0 || lk==&amp;gfi-&gt;tables[1]/*Only applies to GSUB*/;</span>
<span class="lineNum">    7057 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7058 </span>            :           case CID_SaveFeat:
<span class="lineNum">    7059 </span><span class="lineNoCov">          0 :             lookuppopupmenu[i].ti.disabled = lk-&gt;cnt&lt;=0;</span>
<span class="lineNum">    7060 </span><span class="lineNoCov">          0 :           break;</span>
<span class="lineNum">    7061 </span>            :         }
<span class="lineNum">    7062 </span>            :     }
<span class="lineNum">    7063 </span><span class="lineNoCov">          0 :     GMenuCreatePopupMenu(event-&gt;w,event, lookuppopupmenu);</span>
<span class="lineNum">    7064 </span><span class="lineNoCov">          0 : }</span>
<a name="7065"><span class="lineNum">    7065 </span>            : </a>
<span class="lineNum">    7066 </span>            : 
<span class="lineNum">    7067 </span><span class="lineNoCov">          0 : static int LookupIndex(struct gfi_data *othergfi, int isgpos, GWindow gw,</span>
<span class="lineNum">    7068 </span>            :         GWindow othergw, GEvent *event, int *subindex) {
<span class="lineNum">    7069 </span>            :     GPoint pt;
<span class="lineNum">    7070 </span><span class="lineNoCov">          0 :     struct lkdata *otherlk = &amp;othergfi-&gt;tables[isgpos];</span>
<span class="lineNum">    7071 </span>            :     int l,i,j, lcnt;
<span class="lineNum">    7072 </span>            : 
<span class="lineNum">    7073 </span><span class="lineNoCov">          0 :     pt.x = event-&gt;u.mouse.x; pt.y = event-&gt;u.mouse.y;</span>
<span class="lineNum">    7074 </span><span class="lineNoCov">          0 :     if ( gw!=othergw )</span>
<span class="lineNum">    7075 </span><span class="lineNoCov">          0 :         GDrawTranslateCoordinates(gw,othergw,&amp;pt);</span>
<span class="lineNum">    7076 </span><span class="lineNoCov">          0 :     l = (pt.y-LK_MARGIN)/othergfi-&gt;fh + otherlk-&gt;off_top;</span>
<span class="lineNum">    7077 </span>            : 
<span class="lineNum">    7078 </span><span class="lineNoCov">          0 :     if ( l&lt;0 ) {</span>
<span class="lineNum">    7079 </span><span class="lineNoCov">          0 :         *subindex = -1;</span>
<span class="lineNum">    7080 </span><span class="lineNoCov">          0 : return( -1 );</span>
<span class="lineNum">    7081 </span>            :     }
<span class="lineNum">    7082 </span>            : 
<span class="lineNum">    7083 </span><span class="lineNoCov">          0 :     lcnt = 0;</span>
<span class="lineNum">    7084 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;otherlk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    7085 </span><span class="lineNoCov">          0 :         if ( otherlk-&gt;all[i].deleted )</span>
<span class="lineNum">    7086 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    7087 </span><span class="lineNoCov">          0 :         if ( l==lcnt ) {</span>
<span class="lineNum">    7088 </span><span class="lineNoCov">          0 :             *subindex = -1;</span>
<span class="lineNum">    7089 </span><span class="lineNoCov">          0 : return( i );</span>
<span class="lineNum">    7090 </span>            :         }
<span class="lineNum">    7091 </span><span class="lineNoCov">          0 :         ++lcnt;</span>
<span class="lineNum">    7092 </span><span class="lineNoCov">          0 :         if ( otherlk-&gt;all[i].open ) {</span>
<span class="lineNum">    7093 </span><span class="lineNoCov">          0 :             for ( j=0; j&lt;otherlk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    7094 </span><span class="lineNoCov">          0 :                 if ( otherlk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    7095 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    7096 </span><span class="lineNoCov">          0 :                 if ( l==lcnt ) {</span>
<span class="lineNum">    7097 </span><span class="lineNoCov">          0 :                     *subindex = j;</span>
<span class="lineNum">    7098 </span><span class="lineNoCov">          0 : return( i );</span>
<span class="lineNum">    7099 </span>            :                 }
<span class="lineNum">    7100 </span><span class="lineNoCov">          0 :                 ++lcnt;</span>
<span class="lineNum">    7101 </span>            :             }
<span class="lineNum">    7102 </span>            :         }
<span class="lineNum">    7103 </span>            :     }
<span class="lineNum">    7104 </span>            :     /* drop after last lookup */
<span class="lineNum">    7105 </span><span class="lineNoCov">          0 :     *subindex = -1;</span>
<span class="lineNum">    7106 </span><span class="lineNoCov">          0 : return( i );</span>
<a name="7107"><span class="lineNum">    7107 </span>            : }</a>
<span class="lineNum">    7108 </span>            : 
<span class="lineNum">    7109 </span><span class="lineNoCov">          0 : static int LookupsDropable(struct gfi_data *gfi, struct gfi_data *othergfi,</span>
<span class="lineNum">    7110 </span>            :         int isgpos, GWindow gw, GWindow othergw, GEvent *event) {
<span class="lineNum">    7111 </span>            :     int lookup, subtable;
<span class="lineNum">    7112 </span><span class="lineNoCov">          0 :     struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    7113 </span><span class="lineNoCov">          0 :     struct lkdata *otherlk = &amp;othergfi-&gt;tables[isgpos];</span>
<span class="lineNum">    7114 </span>            : 
<span class="lineNum">    7115 </span><span class="lineNoCov">          0 :     if ( gfi-&gt;first_sel_subtable==-1 )</span>
<span class="lineNum">    7116 </span><span class="lineNoCov">          0 : return( true );                 /* Lookups can be dropped anywhere */</span>
<span class="lineNum">    7117 </span>            : 
<span class="lineNum">    7118 </span><span class="lineNoCov">          0 :     lookup = LookupIndex(othergfi,isgpos,gw,othergw,event,&amp;subtable);</span>
<span class="lineNum">    7119 </span><span class="lineNoCov">          0 :     if ( lookup&lt;0 || lookup&gt;=lk-&gt;cnt )</span>
<span class="lineNum">    7120 </span><span class="lineNoCov">          0 : return( false );                /* Subtables must be dropped in a lookup */</span>
<span class="lineNum">    7121 </span>            : 
<span class="lineNum">    7122 </span><span class="lineNoCov">          0 :     if ( gfi!=othergfi /* || lookup!=gfi-&gt;first_sel_lookup*/ )</span>
<span class="lineNum">    7123 </span><span class="lineNoCov">          0 : return( false );                /* Can't merge subtables from one lookup to another */</span>
<span class="lineNum">    7124 </span>            : 
<span class="lineNum">    7125 </span>            :     /* Subtables can only be dropped in a lookup with the same type */
<span class="lineNum">    7126 </span>            :     /* At the moment we don't need this test, as we only allow subtables to be dropped within their original lookup */
<span class="lineNum">    7127 </span><span class="lineNoCov">          0 : return( otherlk-&gt;all[lookup].lookup-&gt;lookup_type ==</span>
<span class="lineNum">    7128 </span><span class="lineNoCov">          0 :                 lk-&gt;all[gfi-&gt;first_sel_lookup].lookup-&gt;lookup_type );</span>
<a name="7129"><span class="lineNum">    7129 </span>            : }</a>
<span class="lineNum">    7130 </span>            : 
<span class="lineNum">    7131 </span><span class="lineNoCov">          0 : static void LookupDragDrop(struct gfi_data *gfi, int isgpos, GEvent *event) {</span>
<span class="lineNum">    7132 </span>            :     FontViewBase *fv;
<span class="lineNum">    7133 </span><span class="lineNoCov">          0 :     struct gfi_data *othergfi=NULL;</span>
<span class="lineNum">    7134 </span><span class="lineNoCov">          0 :     GWindow gw = GDrawableGetWindow(GWidgetGetControl(gfi-&gt;gw,CID_LookupWin+isgpos));</span>
<span class="lineNum">    7135 </span><span class="lineNoCov">          0 :     GWindow othergw = NULL;</span>
<span class="lineNum">    7136 </span>            :     int i,j;
<span class="lineNum">    7137 </span>            : 
<span class="lineNum">    7138 </span><span class="lineNoCov">          0 :     othergw = GDrawGetPointerWindow(gfi-&gt;gw);</span>
<span class="lineNum">    7139 </span>            : 
<span class="lineNum">    7140 </span><span class="lineNoCov">          0 :     for ( fv = (FontViewBase *) fv_list; fv!=NULL; fv=fv-&gt;next ) if ( fv-&gt;sf-&gt;fontinfo!=NULL ) {</span>
<span class="lineNum">    7141 </span>            :         int otherisgpos;
<span class="lineNum">    7142 </span>            : 
<span class="lineNum">    7143 </span><span class="lineNoCov">          0 :         othergfi = fv-&gt;sf-&gt;fontinfo;</span>
<span class="lineNum">    7144 </span><span class="lineNoCov">          0 :         otherisgpos = GTabSetGetSel(GWidgetGetControl(othergfi-&gt;gw,CID_Lookups));</span>
<span class="lineNum">    7145 </span><span class="lineNoCov">          0 :         if ( otherisgpos!=isgpos )</span>
<span class="lineNum">    7146 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    7147 </span><span class="lineNoCov">          0 :         if ( othergw == GDrawableGetWindow(GWidgetGetControl(othergfi-&gt;gw,CID_LookupWin+otherisgpos)))</span>
<span class="lineNum">    7148 </span><span class="lineNoCov">          0 :     break;</span>
<span class="lineNum">    7149 </span>            :     }
<span class="lineNum">    7150 </span><span class="lineNoCov">          0 :     if ( fv==NULL )</span>
<span class="lineNum">    7151 </span><span class="lineNoCov">          0 :         othergw = NULL;</span>
<span class="lineNum">    7152 </span>            : 
<span class="lineNum">    7153 </span><span class="lineNoCov">          0 :     if ( fv==NULL || !LookupsDropable(gfi,othergfi,isgpos,gw,othergw,event)) {</span>
<span class="lineNum">    7154 </span><span class="lineNoCov">          0 :         if ( event-&gt;type==et_mouseup ) {</span>
<span class="lineNum">    7155 </span><span class="lineNoCov">          0 :             GDrawSetCursor(gw,ct_mypointer);</span>
<span class="lineNum">    7156 </span><span class="lineNoCov">          0 :             gfi-&gt;lk_drag_and_drop = gfi-&gt;lk_dropablecursor = false;</span>
<span class="lineNum">    7157 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7158 </span>            :         } else {
<span class="lineNum">    7159 </span><span class="lineNoCov">          0 :             if ( gfi-&gt;lk_dropablecursor ) {</span>
<span class="lineNum">    7160 </span><span class="lineNoCov">          0 :                 gfi-&gt;lk_dropablecursor = false;</span>
<span class="lineNum">    7161 </span><span class="lineNoCov">          0 :                 GDrawSetCursor(gw,ct_prohibition);</span>
<span class="lineNum">    7162 </span>            :             }
<span class="lineNum">    7163 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7164 </span>            :         }
<span class="lineNum">    7165 </span>            :     } else {
<span class="lineNum">    7166 </span><span class="lineNoCov">          0 :         if ( event-&gt;type==et_mousemove ) {</span>
<span class="lineNum">    7167 </span><span class="lineNoCov">          0 :             if ( !gfi-&gt;lk_dropablecursor ) {</span>
<span class="lineNum">    7168 </span><span class="lineNoCov">          0 :                 gfi-&gt;lk_dropablecursor = true;</span>
<span class="lineNum">    7169 </span><span class="lineNoCov">          0 :                 GDrawSetCursor(gw,ct_features);</span>
<span class="lineNum">    7170 </span>            :             }
<span class="lineNum">    7171 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7172 </span>            :         } else {
<span class="lineNum">    7173 </span><span class="lineNoCov">          0 :             struct lkdata *otherlk = &amp;othergfi-&gt;tables[isgpos];</span>
<span class="lineNum">    7174 </span><span class="lineNoCov">          0 :             struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    7175 </span>            :             struct lkinfo temp;
<span class="lineNum">    7176 </span>            :             struct lksubinfo subtemp;
<span class="lineNum">    7177 </span>            :             int lookup, subtable;
<span class="lineNum">    7178 </span>            : 
<span class="lineNum">    7179 </span><span class="lineNoCov">          0 :             lookup = LookupIndex(othergfi,isgpos,gw,othergw,event,&amp;subtable);</span>
<span class="lineNum">    7180 </span>            : 
<span class="lineNum">    7181 </span><span class="lineNoCov">          0 :             if ( gfi==othergfi ) {</span>
<span class="lineNum">    7182 </span>            :                 /* dropping in the same window just moves things around */
<span class="lineNum">    7183 </span><span class="lineNoCov">          0 :                 if ( gfi-&gt;first_sel_subtable == -1 ) {</span>
<span class="lineNum">    7184 </span>            :                     /* Moving lookups */
<span class="lineNum">    7185 </span><span class="lineNoCov">          0 :                     if ( lookup&lt;0 ) lookup=0;</span>
<span class="lineNum">    7186 </span><span class="lineNoCov">          0 :                     else if ( lookup&gt;=lk-&gt;cnt ) lookup=lk-&gt;cnt;</span>
<span class="lineNum">    7187 </span><span class="lineNoCov">          0 :                     if ( lookup==gfi-&gt;first_sel_lookup )</span>
<span class="lineNum">    7188 </span><span class="lineNoCov">          0 :   goto done_drop;</span>
<span class="lineNum">    7189 </span><span class="lineNoCov">          0 :                     for ( i=0; i&lt;lk-&gt;cnt; ++i )</span>
<span class="lineNum">    7190 </span><span class="lineNoCov">          0 :                         lk-&gt;all[i].moved = false;</span>
<span class="lineNum">    7191 </span><span class="lineNoCov">          0 :                     for ( i=gfi-&gt;first_sel_lookup; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    7192 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].deleted || !lk-&gt;all[i].selected ||</span>
<span class="lineNum">    7193 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[i].moved || i==lookup )</span>
<span class="lineNum">    7194 </span><span class="lineNoCov">          0 :                     continue;</span>
<span class="lineNum">    7195 </span><span class="lineNoCov">          0 :                         temp = lk-&gt;all[i];</span>
<span class="lineNum">    7196 </span><span class="lineNoCov">          0 :                         temp.moved = true;</span>
<span class="lineNum">    7197 </span><span class="lineNoCov">          0 :                         if ( i&lt;lookup ) {</span>
<span class="lineNum">    7198 </span><span class="lineNoCov">          0 :                             for ( j=i+1; j&lt;lookup; ++j )</span>
<span class="lineNum">    7199 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[j-1] = lk-&gt;all[j];</span>
<span class="lineNum">    7200 </span><span class="lineNoCov">          0 :                             lk-&gt;all[j-1] = temp;</span>
<span class="lineNum">    7201 </span>            :                         } else {
<span class="lineNum">    7202 </span><span class="lineNoCov">          0 :                             for ( j=i; j&gt;lookup; --j )</span>
<span class="lineNum">    7203 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[j] = lk-&gt;all[j-1];</span>
<span class="lineNum">    7204 </span><span class="lineNoCov">          0 :                             lk-&gt;all[j] = temp;</span>
<span class="lineNum">    7205 </span>            :                         }
<span class="lineNum">    7206 </span><span class="lineNoCov">          0 :                         --i;</span>
<span class="lineNum">    7207 </span>            :                     }
<span class="lineNum">    7208 </span><span class="lineNoCov">          0 :                 } else if ( lookup==gfi-&gt;first_sel_lookup ) {</span>
<span class="lineNum">    7209 </span><span class="lineNoCov">          0 :                     if ( subtable&lt; 0 ) subtable=0;</span>
<span class="lineNum">    7210 </span><span class="lineNoCov">          0 :                     if ( subtable==gfi-&gt;first_sel_subtable )</span>
<span class="lineNum">    7211 </span><span class="lineNoCov">          0 :   goto done_drop;</span>
<span class="lineNum">    7212 </span><span class="lineNoCov">          0 :                     for ( i=0; i&lt;lk-&gt;cnt; ++i )</span>
<span class="lineNum">    7213 </span><span class="lineNoCov">          0 :                         lk-&gt;all[lookup].subtables[i].moved = false;</span>
<span class="lineNum">    7214 </span><span class="lineNoCov">          0 :                     for ( i=gfi-&gt;first_sel_subtable; i&lt;lk-&gt;all[lookup].subtable_cnt; ++i ) {</span>
<span class="lineNum">    7215 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[lookup].subtables[i].deleted || !lk-&gt;all[lookup].subtables[i].selected ||</span>
<span class="lineNum">    7216 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[lookup].subtables[i].moved || i==subtable )</span>
<span class="lineNum">    7217 </span><span class="lineNoCov">          0 :                     continue;</span>
<span class="lineNum">    7218 </span><span class="lineNoCov">          0 :                         subtemp = lk-&gt;all[lookup].subtables[i];</span>
<span class="lineNum">    7219 </span><span class="lineNoCov">          0 :                         subtemp.moved = true;</span>
<span class="lineNum">    7220 </span><span class="lineNoCov">          0 :                         if ( i&lt;subtable ) {</span>
<span class="lineNum">    7221 </span><span class="lineNoCov">          0 :                             for ( j=i+1; j&lt;subtable; ++j )</span>
<span class="lineNum">    7222 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[lookup].subtables[j-1] = lk-&gt;all[lookup].subtables[j];</span>
<span class="lineNum">    7223 </span><span class="lineNoCov">          0 :                             lk-&gt;all[lookup].subtables[j-1] = subtemp;</span>
<span class="lineNum">    7224 </span>            :                         } else {
<span class="lineNum">    7225 </span><span class="lineNoCov">          0 :                             for ( j=i; j&gt;subtable; --j )</span>
<span class="lineNum">    7226 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[lookup].subtables[j] = lk-&gt;all[lookup].subtables[j-1];</span>
<span class="lineNum">    7227 </span><span class="lineNoCov">          0 :                             lk-&gt;all[lookup].subtables[j] = subtemp;</span>
<span class="lineNum">    7228 </span>            :                         }
<span class="lineNum">    7229 </span><span class="lineNoCov">          0 :                         --i;</span>
<span class="lineNum">    7230 </span>            :                     }
<span class="lineNum">    7231 </span>            :                 } else {
<span class="lineNum">    7232 </span><span class="lineNoCov">          0 :                     int old_lk = gfi-&gt;first_sel_lookup;</span>
<span class="lineNum">    7233 </span><span class="lineNoCov">          0 :                     int sel_cnt=0, k;</span>
<span class="lineNum">    7234 </span><span class="lineNoCov">          0 :                     if ( subtable&lt;0 ) /* dropped into lookup */</span>
<span class="lineNum">    7235 </span><span class="lineNoCov">          0 :                         subtable = 0;</span>
<span class="lineNum">    7236 </span><span class="lineNoCov">          0 :                     for ( i=gfi-&gt;first_sel_subtable; i&lt;lk-&gt;all[old_lk].subtable_cnt; ++i )</span>
<span class="lineNum">    7237 </span><span class="lineNoCov">          0 :                         if ( !lk-&gt;all[old_lk].subtables[i].deleted &amp;&amp; lk-&gt;all[old_lk].subtables[i].selected )</span>
<span class="lineNum">    7238 </span><span class="lineNoCov">          0 :                             ++sel_cnt;</span>
<span class="lineNum">    7239 </span><span class="lineNoCov">          0 :                     if ( lk-&gt;all[lookup].subtable_cnt+sel_cnt &gt;= lk-&gt;all[lookup].subtable_max )</span>
<span class="lineNum">    7240 </span><span class="lineNoCov">          0 :                         lk-&gt;all[lookup].subtables = realloc(lk-&gt;all[lookup].subtables,</span>
<span class="lineNum">    7241 </span><span class="lineNoCov">          0 :                                 (lk-&gt;all[lookup].subtable_max += sel_cnt+3)*sizeof(struct lksubinfo));</span>
<span class="lineNum">    7242 </span><span class="lineNoCov">          0 :                     for ( i= lk-&gt;all[lookup].subtable_cnt+sel_cnt-1; i&gt;=subtable; --i )</span>
<span class="lineNum">    7243 </span><span class="lineNoCov">          0 :                         lk-&gt;all[lookup].subtables[i] = lk-&gt;all[lookup].subtables[i-sel_cnt];</span>
<span class="lineNum">    7244 </span><span class="lineNoCov">          0 :                     k=0;</span>
<span class="lineNum">    7245 </span><span class="lineNoCov">          0 :                     for ( i=gfi-&gt;first_sel_subtable; i&lt;lk-&gt;all[old_lk].subtable_cnt; ++i ) {</span>
<span class="lineNum">    7246 </span><span class="lineNoCov">          0 :                         if ( !lk-&gt;all[old_lk].subtables[i].deleted &amp;&amp; lk-&gt;all[old_lk].subtables[i].selected )</span>
<span class="lineNum">    7247 </span><span class="lineNoCov">          0 :                             lk-&gt;all[lookup].subtables[subtable+k++] = lk-&gt;all[old_lk].subtables[i];</span>
<span class="lineNum">    7248 </span>            :                     }
<span class="lineNum">    7249 </span><span class="lineNoCov">          0 :                     lk-&gt;all[lookup].subtable_cnt += k;</span>
<span class="lineNum">    7250 </span><span class="lineNoCov">          0 :                     k=0;</span>
<span class="lineNum">    7251 </span><span class="lineNoCov">          0 :                     for ( i=gfi-&gt;first_sel_subtable; i&lt;lk-&gt;all[old_lk].subtable_cnt; ++i ) {</span>
<span class="lineNum">    7252 </span><span class="lineNoCov">          0 :                         if ( !lk-&gt;all[old_lk].subtables[i].deleted &amp;&amp; lk-&gt;all[old_lk].subtables[i].selected )</span>
<span class="lineNum">    7253 </span><span class="lineNoCov">          0 :                             ++k;</span>
<span class="lineNum">    7254 </span><span class="lineNoCov">          0 :                         else if ( k!=0 )</span>
<span class="lineNum">    7255 </span><span class="lineNoCov">          0 :                             lk-&gt;all[old_lk].subtables[i-k] = lk-&gt;all[old_lk].subtables[i];</span>
<span class="lineNum">    7256 </span>            :                     }
<span class="lineNum">    7257 </span><span class="lineNoCov">          0 :                     lk-&gt;all[old_lk].subtable_cnt -= k;</span>
<span class="lineNum">    7258 </span>            :                 }
<span class="lineNum">    7259 </span>            :             } else {
<span class="lineNum">    7260 </span><span class="lineNoCov">          0 :                 if ( gfi-&gt;first_sel_subtable == -1 ) {</span>
<span class="lineNum">    7261 </span>            :                     /* Import lookups from one font to another */
<span class="lineNum">    7262 </span>            :                     OTLookup **list, *before;
<span class="lineNum">    7263 </span><span class="lineNoCov">          0 :                     int cnt=0;</span>
<span class="lineNum">    7264 </span><span class="lineNoCov">          0 :                     for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    7265 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    7266 </span><span class="lineNoCov">          0 :                     continue;</span>
<span class="lineNum">    7267 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].selected )</span>
<span class="lineNum">    7268 </span><span class="lineNoCov">          0 :                             ++cnt;</span>
<span class="lineNum">    7269 </span>            :                     }
<span class="lineNum">    7270 </span><span class="lineNoCov">          0 :                     list = malloc((cnt+1)*sizeof(OTLookup *));</span>
<span class="lineNum">    7271 </span><span class="lineNoCov">          0 :                     cnt=0;</span>
<span class="lineNum">    7272 </span><span class="lineNoCov">          0 :                     for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    7273 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    7274 </span><span class="lineNoCov">          0 :                     continue;</span>
<span class="lineNum">    7275 </span><span class="lineNoCov">          0 :                         if ( lk-&gt;all[i].selected )</span>
<span class="lineNum">    7276 </span><span class="lineNoCov">          0 :                             list[cnt++] = lk-&gt;all[i].lookup;</span>
<span class="lineNum">    7277 </span>            :                     }
<span class="lineNum">    7278 </span><span class="lineNoCov">          0 :                     list[cnt] = NULL;</span>
<span class="lineNum">    7279 </span><span class="lineNoCov">          0 :                     if ( lookup&lt;0 ) lookup=0;</span>
<span class="lineNum">    7280 </span><span class="lineNoCov">          0 :                     before = lookup&gt;=otherlk-&gt;cnt ? NULL : otherlk-&gt;all[lookup].lookup;</span>
<span class="lineNum">    7281 </span><span class="lineNoCov">          0 :                     OTLookupsCopyInto(othergfi-&gt;sf,gfi-&gt;sf,list,before);</span>
<span class="lineNum">    7282 </span><span class="lineNoCov">          0 :                     free( list );</span>
<span class="lineNum">    7283 </span>            :                 } else
<span class="lineNum">    7284 </span><span class="lineNoCov">          0 :                     IError(&quot;Attempt to merge subtables across fonts not permitted&quot; );</span>
<span class="lineNum">    7285 </span><span class="lineNoCov">          0 :                 GDrawRequestExpose(othergw,NULL,false);</span>
<span class="lineNum">    7286 </span>            :             }
<span class="lineNum">    7287 </span>            :   done_drop:
<span class="lineNum">    7288 </span><span class="lineNoCov">          0 :             GDrawSetCursor(gw,ct_mypointer);</span>
<span class="lineNum">    7289 </span><span class="lineNoCov">          0 :             GDrawRequestExpose(gw,NULL,false);</span>
<span class="lineNum">    7290 </span><span class="lineNoCov">          0 :             gfi-&gt;lk_drag_and_drop = gfi-&gt;lk_dropablecursor = false;</span>
<span class="lineNum">    7291 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7292 </span>            :         }
<span class="lineNum">    7293 </span>            :     }
<a name="7294"><span class="lineNum">    7294 </span>            : }</a>
<span class="lineNum">    7295 </span>            : 
<span class="lineNum">    7296 </span><span class="lineNoCov">          0 : static int LookupDragDropable(struct gfi_data *gfi, struct lkdata *lk) {</span>
<span class="lineNum">    7297 </span>            :     int i,j;
<span class="lineNum">    7298 </span><span class="lineNoCov">          0 :     int first_l= -1, first_s= -1;</span>
<span class="lineNum">    7299 </span>            : 
<span class="lineNum">    7300 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    7301 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    7302 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    7303 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].selected ) {</span>
<span class="lineNum">    7304 </span><span class="lineNoCov">          0 :             if ( first_s!=-1 )</span>
<span class="lineNum">    7305 </span><span class="lineNoCov">          0 : return( false );                /* Can't have mixed lookups and subtables */</span>
<span class="lineNum">    7306 </span><span class="lineNoCov">          0 :             if ( first_l==-1 )</span>
<span class="lineNum">    7307 </span><span class="lineNoCov">          0 :                 first_l = i;</span>
<span class="lineNum">    7308 </span>            :         }
<span class="lineNum">    7309 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    7310 </span><span class="lineNoCov">          0 :             for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    7311 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    7312 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    7313 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].selected ) {</span>
<span class="lineNum">    7314 </span><span class="lineNoCov">          0 :                     if ( first_l==i || first_l==-1 )</span>
<span class="lineNum">    7315 </span><span class="lineNoCov">          0 :                         first_l = i;</span>
<span class="lineNum">    7316 </span>            :                     else
<span class="lineNum">    7317 </span><span class="lineNoCov">          0 : return( false );                /* Mixed lookups and subtables */</span>
<span class="lineNum">    7318 </span><span class="lineNoCov">          0 :                     if ( first_s==-1 )</span>
<span class="lineNum">    7319 </span><span class="lineNoCov">          0 :                         first_s = j;</span>
<span class="lineNum">    7320 </span>            :                 }
<span class="lineNum">    7321 </span>            :             }
<span class="lineNum">    7322 </span>            :         }
<span class="lineNum">    7323 </span>            :     }
<span class="lineNum">    7324 </span><span class="lineNoCov">          0 :     gfi-&gt;first_sel_lookup   = first_l;</span>
<span class="lineNum">    7325 </span><span class="lineNoCov">          0 :     gfi-&gt;first_sel_subtable = first_s;</span>
<span class="lineNum">    7326 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="7327"><span class="lineNum">    7327 </span>            : }</a>
<span class="lineNum">    7328 </span>            : 
<span class="lineNum">    7329 </span><span class="lineNoCov">          0 : static void LookupMouse(struct gfi_data *gfi, int isgpos, GEvent *event) {</span>
<span class="lineNum">    7330 </span><span class="lineNoCov">          0 :     struct lkdata *lk = &amp;gfi-&gt;tables[isgpos];</span>
<span class="lineNum">    7331 </span><span class="lineNoCov">          0 :     int l = (event-&gt;u.mouse.y-LK_MARGIN)/gfi-&gt;fh + lk-&gt;off_top;</span>
<span class="lineNum">    7332 </span><span class="lineNoCov">          0 :     int inbox = event-&gt;u.mouse.x&gt;=LK_MARGIN &amp;&amp;</span>
<span class="lineNum">    7333 </span><span class="lineNoCov">          0 :             event-&gt;u.mouse.x&gt;=LK_MARGIN-lk-&gt;off_left &amp;&amp;</span>
<span class="lineNum">    7334 </span><span class="lineNoCov">          0 :             event-&gt;u.mouse.x&lt;=LK_MARGIN-lk-&gt;off_left+gfi-&gt;as+1;</span>
<span class="lineNum">    7335 </span><span class="lineNoCov">          0 :     GWindow gw = GDrawableGetWindow(GWidgetGetControl(gfi-&gt;gw,CID_LookupWin+isgpos));</span>
<span class="lineNum">    7336 </span>            :     int i,j,lcnt;
<span class="lineNum">    7337 </span>            : 
<span class="lineNum">    7338 </span><span class="lineNoCov">          0 :     if ( event-&gt;type!=et_mousedown &amp;&amp; gfi-&gt;lk_drag_and_drop ) {</span>
<span class="lineNum">    7339 </span><span class="lineNoCov">          0 :         LookupDragDrop(gfi,isgpos,event);</span>
<span class="lineNum">    7340 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7341 </span>            :     }
<span class="lineNum">    7342 </span>            : 
<span class="lineNum">    7343 </span><span class="lineNoCov">          0 :     if ( l&lt;0 || event-&gt;u.mouse.y&gt;=(gfi-&gt;lkheight-2*LK_MARGIN) )</span>
<span class="lineNum">    7344 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7345 </span>            : 
<span class="lineNum">    7346 </span><span class="lineNoCov">          0 :     lcnt = 0;</span>
<span class="lineNum">    7347 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;lk-&gt;cnt; ++i ) {</span>
<span class="lineNum">    7348 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].deleted )</span>
<span class="lineNum">    7349 </span><span class="lineNoCov">          0 :     continue;</span>
<span class="lineNum">    7350 </span><span class="lineNoCov">          0 :         if ( l==lcnt ) {</span>
<span class="lineNum">    7351 </span><span class="lineNoCov">          0 :             if ( event-&gt;type==et_mouseup )</span>
<span class="lineNum">    7352 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7353 </span><span class="lineNoCov">          0 :             else if ( event-&gt;type==et_mousemove ) {</span>
<span class="lineNum">    7354 </span><span class="lineNoCov">          0 :                 LookupPopup(gw,lk-&gt;all[i].lookup,NULL,lk);</span>
<span class="lineNum">    7355 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7356 </span>            :             } else {
<span class="lineNum">    7357 </span><span class="lineNoCov">          0 :                 if ( gfi-&gt;lk_drag_and_drop ) {</span>
<span class="lineNum">    7358 </span><span class="lineNoCov">          0 :                     GDrawSetCursor(gw,ct_mypointer);</span>
<span class="lineNum">    7359 </span><span class="lineNoCov">          0 :                     gfi-&gt;lk_drag_and_drop = gfi-&gt;lk_dropablecursor = false;</span>
<span class="lineNum">    7360 </span>            :                 }
<span class="lineNum">    7361 </span><span class="lineNoCov">          0 :                 if ( inbox || event-&gt;u.mouse.clicks&gt;1 ) {</span>
<span class="lineNum">    7362 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i].open = !lk-&gt;all[i].open;</span>
<span class="lineNum">    7363 </span><span class="lineNoCov">          0 :                     GFI_LookupScrollbars(gfi, isgpos, true);</span>
<span class="lineNum">    7364 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7365 </span>            :                 }
<span class="lineNum">    7366 </span><span class="lineNoCov">          0 :                 if ( !(event-&gt;u.mouse.state&amp;(ksm_shift|ksm_control)) ) {</span>
<span class="lineNum">    7367 </span>            :                     /* If line is selected, and we're going to pop up a menu */
<span class="lineNum">    7368 </span>            :                     /*  then don't clear other selected lines */
<span class="lineNum">    7369 </span><span class="lineNoCov">          0 :                     if ( !lk-&gt;all[i].selected ||</span>
<span class="lineNum">    7370 </span><span class="lineNoCov">          0 :                             (event-&gt;u.mouse.button!=3 &amp;&amp; !LookupDragDropable(gfi,lk)))</span>
<span class="lineNum">    7371 </span><span class="lineNoCov">          0 :                         LookupDeselect(lk);</span>
<span class="lineNum">    7372 </span><span class="lineNoCov">          0 :                     else if ( event-&gt;u.mouse.button!=3 ) {</span>
<span class="lineNum">    7373 </span><span class="lineNoCov">          0 :                         gfi-&gt;lk_drag_and_drop = gfi-&gt;lk_dropablecursor = true;</span>
<span class="lineNum">    7374 </span><span class="lineNoCov">          0 :                         GDrawSetCursor(gw,ct_features);</span>
<span class="lineNum">    7375 </span>            :                     }
<span class="lineNum">    7376 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i].selected = true;</span>
<span class="lineNum">    7377 </span><span class="lineNoCov">          0 :                 } else if ( event-&gt;u.mouse.state&amp;ksm_control ) {</span>
<span class="lineNum">    7378 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i].selected = !lk-&gt;all[i].selected;</span>
<span class="lineNum">    7379 </span><span class="lineNoCov">          0 :                 } else if ( lk-&gt;all[i].selected ) {</span>
<span class="lineNum">    7380 </span><span class="lineNoCov">          0 :                     lk-&gt;all[i].selected = false;</span>
<span class="lineNum">    7381 </span>            :                 } else {
<span class="lineNum">    7382 </span><span class="lineNoCov">          0 :                     for ( j=0; j&lt;lk-&gt;cnt; ++j )</span>
<span class="lineNum">    7383 </span><span class="lineNoCov">          0 :                         if ( !lk-&gt;all[j].deleted  &amp;&amp; lk-&gt;all[j].selected )</span>
<span class="lineNum">    7384 </span><span class="lineNoCov">          0 :                     break;</span>
<span class="lineNum">    7385 </span><span class="lineNoCov">          0 :                     if ( j==lk-&gt;cnt )</span>
<span class="lineNum">    7386 </span><span class="lineNoCov">          0 :                         lk-&gt;all[i].selected = true;</span>
<span class="lineNum">    7387 </span><span class="lineNoCov">          0 :                     else if ( j&lt;i ) {</span>
<span class="lineNum">    7388 </span><span class="lineNoCov">          0 :                         for ( ; j&lt;=i ; ++j )</span>
<span class="lineNum">    7389 </span><span class="lineNoCov">          0 :                             if ( !lk-&gt;all[j].deleted )</span>
<span class="lineNum">    7390 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[j].selected = true;</span>
<span class="lineNum">    7391 </span>            :                     } else {
<span class="lineNum">    7392 </span><span class="lineNoCov">          0 :                         for ( ; j&gt;=i ; --j )</span>
<span class="lineNum">    7393 </span><span class="lineNoCov">          0 :                             if ( !lk-&gt;all[j].deleted )</span>
<span class="lineNum">    7394 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[j].selected = true;</span>
<span class="lineNum">    7395 </span>            :                     }
<span class="lineNum">    7396 </span>            :                 }
<span class="lineNum">    7397 </span><span class="lineNoCov">          0 :                 GFI_LookupEnableButtons(gfi,isgpos);</span>
<span class="lineNum">    7398 </span><span class="lineNoCov">          0 :                 GDrawRequestExpose(gw,NULL,false);</span>
<span class="lineNum">    7399 </span><span class="lineNoCov">          0 :                 if ( event-&gt;u.mouse.button==3 )</span>
<span class="lineNum">    7400 </span><span class="lineNoCov">          0 :                     LookupMenu(gfi,lk,isgpos,event);</span>
<span class="lineNum">    7401 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7402 </span>            :             }
<span class="lineNum">    7403 </span>            :         }
<span class="lineNum">    7404 </span><span class="lineNoCov">          0 :         ++lcnt;</span>
<span class="lineNum">    7405 </span><span class="lineNoCov">          0 :         if ( lk-&gt;all[i].open ) {</span>
<span class="lineNum">    7406 </span><span class="lineNoCov">          0 :             for ( j=0; j&lt;lk-&gt;all[i].subtable_cnt; ++j ) {</span>
<span class="lineNum">    7407 </span><span class="lineNoCov">          0 :                 if ( lk-&gt;all[i].subtables[j].deleted )</span>
<span class="lineNum">    7408 </span><span class="lineNoCov">          0 :             continue;</span>
<span class="lineNum">    7409 </span><span class="lineNoCov">          0 :                 if ( l==lcnt ) {</span>
<span class="lineNum">    7410 </span><span class="lineNoCov">          0 :                     if ( event-&gt;type==et_mouseup )</span>
<span class="lineNum">    7411 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7412 </span><span class="lineNoCov">          0 :                     else if ( event-&gt;type==et_mousemove ) {</span>
<span class="lineNum">    7413 </span><span class="lineNoCov">          0 :                         LookupPopup(gw,lk-&gt;all[i].lookup,lk-&gt;all[i].subtables[j].subtable,lk);</span>
<span class="lineNum">    7414 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7415 </span>            :                     } else {
<span class="lineNum">    7416 </span><span class="lineNoCov">          0 :                         if ( inbox )</span>
<span class="lineNum">    7417 </span><span class="lineNoCov">          0 : return;         /* Can't open this guy */</span>
<span class="lineNum">    7418 </span><span class="lineNoCov">          0 :                         if ( event-&gt;u.mouse.clicks&gt;1 )</span>
<span class="lineNum">    7419 </span><span class="lineNoCov">          0 :                             LookupSubtableContents(gfi,isgpos);</span>
<span class="lineNum">    7420 </span>            :                         else {
<span class="lineNum">    7421 </span><span class="lineNoCov">          0 :                             if ( !(event-&gt;u.mouse.state&amp;(ksm_shift|ksm_control)) ) {</span>
<span class="lineNum">    7422 </span>            :                                 /* If line is selected, and we're going to pop up a menu */
<span class="lineNum">    7423 </span>            :                                 /*  then don't clear other selected lines */
<span class="lineNum">    7424 </span><span class="lineNoCov">          0 :                                 if ( !lk-&gt;all[i].subtables[j].selected ||</span>
<span class="lineNum">    7425 </span><span class="lineNoCov">          0 :                                         (event-&gt;u.mouse.button!=3 &amp;&amp; !LookupDragDropable(gfi,lk)))</span>
<span class="lineNum">    7426 </span><span class="lineNoCov">          0 :                                     LookupDeselect(lk);</span>
<span class="lineNum">    7427 </span><span class="lineNoCov">          0 :                                 else if ( event-&gt;u.mouse.button!=3 ) {</span>
<span class="lineNum">    7428 </span><span class="lineNoCov">          0 :                                     gfi-&gt;lk_drag_and_drop = gfi-&gt;lk_dropablecursor = true;</span>
<span class="lineNum">    7429 </span><span class="lineNoCov">          0 :                                     GDrawSetCursor(gw,ct_features);</span>
<span class="lineNum">    7430 </span>            :                                 }
<span class="lineNum">    7431 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[i].subtables[j].selected = true;</span>
<span class="lineNum">    7432 </span>            :                             } else
<span class="lineNum">    7433 </span><span class="lineNoCov">          0 :                                 lk-&gt;all[i].subtables[j].selected = !lk-&gt;all[i].subtables[j].selected;</span>
<span class="lineNum">    7434 </span><span class="lineNoCov">          0 :                             GFI_LookupEnableButtons(gfi,isgpos);</span>
<span class="lineNum">    7435 </span><span class="lineNoCov">          0 :                             GDrawRequestExpose(gw,NULL,false);</span>
<span class="lineNum">    7436 </span><span class="lineNoCov">          0 :                             if ( event-&gt;u.mouse.button==3 )</span>
<span class="lineNum">    7437 </span><span class="lineNoCov">          0 :                                 LookupMenu(gfi,lk,isgpos,event);</span>
<span class="lineNum">    7438 </span>            :                         }
<span class="lineNum">    7439 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7440 </span>            :                     }
<span class="lineNum">    7441 </span>            :                 }
<span class="lineNum">    7442 </span><span class="lineNoCov">          0 :                 ++lcnt;</span>
<span class="lineNum">    7443 </span>            :             }
<span class="lineNum">    7444 </span>            :         }
<span class="lineNum">    7445 </span>            :     }
<a name="7446"><span class="lineNum">    7446 </span>            : }</a>
<span class="lineNum">    7447 </span>            : 
<span class="lineNum">    7448 </span><span class="lineNoCov">          0 : static int lookups_e_h(GWindow gw, GEvent *event, int isgpos) {</span>
<span class="lineNum">    7449 </span><span class="lineNoCov">          0 :     struct gfi_data *gfi = GDrawGetUserData(gw);</span>
<span class="lineNum">    7450 </span>            : 
<span class="lineNum">    7451 </span><span class="lineNoCov">          0 :     if (( event-&gt;type==et_mouseup || event-&gt;type==et_mousedown ) &amp;&amp;</span>
<span class="lineNum">    7452 </span><span class="lineNoCov">          0 :             (event-&gt;u.mouse.button&gt;=4 &amp;&amp; event-&gt;u.mouse.button&lt;=7) ) {</span>
<span class="lineNum">    7453 </span><span class="lineNoCov">          0 : return( GGadgetDispatchEvent(GWidgetGetControl(gw,CID_LookupVSB+isgpos),event));</span>
<span class="lineNum">    7454 </span>            :     }
<span class="lineNum">    7455 </span>            : 
<span class="lineNum">    7456 </span><span class="lineNoCov">          0 :     switch ( event-&gt;type ) {</span>
<span class="lineNum">    7457 </span>            :       case et_char:
<span class="lineNum">    7458 </span><span class="lineNoCov">          0 : return( GFI_Char(gfi,event) );</span>
<span class="lineNum">    7459 </span>            :       case et_expose:
<span class="lineNum">    7460 </span><span class="lineNoCov">          0 :         LookupExpose(gw,gfi,isgpos);</span>
<span class="lineNum">    7461 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    7462 </span>            :       case et_mousedown: case et_mousemove: case et_mouseup:
<span class="lineNum">    7463 </span><span class="lineNoCov">          0 :         LookupMouse(gfi,isgpos,event);</span>
<span class="lineNum">    7464 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    7465 </span>            :       case et_resize: {
<span class="lineNum">    7466 </span>            :         GRect r;
<span class="lineNum">    7467 </span><span class="lineNoCov">          0 :         GDrawGetSize(gw,&amp;r);</span>
<span class="lineNum">    7468 </span><span class="lineNoCov">          0 :         gfi-&gt;lkheight = r.height; gfi-&gt;lkwidth = r.width;</span>
<span class="lineNum">    7469 </span><span class="lineNoCov">          0 :         GFI_LookupScrollbars(gfi,false,false);</span>
<span class="lineNum">    7470 </span><span class="lineNoCov">          0 :         GFI_LookupScrollbars(gfi,true,false);</span>
<span class="lineNum">    7471 </span>            :       }
<span class="lineNum">    7472 </span><span class="lineNoCov">          0 :       break;</span>
<span class="lineNum">    7473 </span>            :     }
<span class="lineNum">    7474 </span><span class="lineNoCov">          0 : return( true );</span>
<a name="7475"><span class="lineNum">    7475 </span>            : }</a>
<span class="lineNum">    7476 </span>            : 
<span class="lineNum">    7477 </span><span class="lineNoCov">          0 : static int gposlookups_e_h(GWindow gw, GEvent *event) {</span>
<span class="lineNum">    7478 </span><span class="lineNoCov">          0 : return( lookups_e_h(gw,event,true));</span>
<a name="7479"><span class="lineNum">    7479 </span>            : }</a>
<span class="lineNum">    7480 </span>            : 
<span class="lineNum">    7481 </span><span class="lineNoCov">          0 : static int gsublookups_e_h(GWindow gw, GEvent *event) {</span>
<span class="lineNum">    7482 </span><span class="lineNoCov">          0 : return( lookups_e_h(gw,event,false));</span>
<a name="7483"><span class="lineNum">    7483 </span>            : }</a>
<span class="lineNum">    7484 </span>            : 
<span class="lineNum">    7485 </span><span class="lineNoCov">          0 : void FontInfo(SplineFont *sf,int deflayer,int defaspect,int sync) {</span>
<span class="lineNum">    7486 </span>            :     // This opens the Font Info box to the tab specified by defaspect,
<span class="lineNum">    7487 </span>            :     // which indexes the array aspects, populated below.
<span class="lineNum">    7488 </span>            :     GRect pos;
<span class="lineNum">    7489 </span>            :     GWindow gw;
<span class="lineNum">    7490 </span>            :     GWindowAttrs wattrs;
<span class="lineNum">    7491 </span>            :     GTabInfo aspects[26], vaspects[6], lkaspects[3];
<span class="lineNum">    7492 </span>            :     GGadgetCreateData mgcd[10], ngcd[19], psgcd[30], tngcd[8],
<span class="lineNum">    7493 </span>            :         pgcd[12], vgcd[21], pangcd[23], comgcd[4], txgcd[23], floggcd[4],
<span class="lineNum">    7494 </span>            :         mfgcd[8], mcgcd[8], szgcd[19], mkgcd[7], metgcd[33], vagcd[3], ssgcd[23],
<span class="lineNum">    7495 </span>            :         xugcd[8], dgcd[6], ugcd[6], gaspgcd[5], gaspgcd_def[2], lksubgcd[2][4],
<span class="lineNum">    7496 </span>            :         lkgcd[2], lkbuttonsgcd[15], cgcd[12], lgcd[20], msgcd[7], ssngcd[8],
<span class="lineNum">    7497 </span>            :         woffgcd[8], privategcd_def[4];
<span class="lineNum">    7498 </span>            :     GGadgetCreateData mb[2], mb2, nb[2], nb2, nb3, xub[2], psb[2], psb2[3], ppbox[4],
<span class="lineNum">    7499 </span>            :             vbox[4], metbox[2], ssbox[2], panbox[2], combox[2], mkbox[3],
<span class="lineNum">    7500 </span>            :             txbox[5], ubox[3], dbox[2], flogbox[2],
<span class="lineNum">    7501 </span>            :             mcbox[3], mfbox[3], szbox[6], tnboxes[4], gaspboxes[3],
<span class="lineNum">    7502 </span>            :             lkbox[7], cbox[6], lbox[8], msbox[3], ssboxes[4], woffbox[2];
<span class="lineNum">    7503 </span>            :     GGadgetCreateData *marray[7], *marray2[9], *narray[29], *narray2[7], *narray3[3],
<span class="lineNum">    7504 </span>            :         *xuarray[20], *psarray[10], *psarray2[21], *psarray4[10],
<span class="lineNum">    7505 </span>            :         *pparray[6], *vradio[5], *varray[41], *metarray[53],
<span class="lineNum">    7506 </span>            :         *ssarray[58], *panarray[40], *comarray[3], *flogarray[3],
<span class="lineNum">    7507 </span>            :         *mkarray[6], *msarray[6],
<span class="lineNum">    7508 </span>            :         *txarray[5], *txarray2[30],
<span class="lineNum">    7509 </span>            :         *txarray3[6], *txarray4[6], *uarray[5], *darray[10],
<span class="lineNum">    7510 </span>            :         *mcarray[13], *mcarray2[7],
<span class="lineNum">    7511 </span>            :         *mfarray[14], *szarray[7], *szarray2[5], *szarray3[7],
<span class="lineNum">    7512 </span>            :         *szarray4[4], *tnvarray[4], *tnharray[6], *tnharray2[5], *gaspharray[6],
<span class="lineNum">    7513 </span>            :         *gaspvarray[3], *lkarray[2][7], *lkbuttonsarray[17], *lkharray[3],
<span class="lineNum">    7514 </span>            :         *charray1[4], *charray2[4], *charray3[4], *cvarray[9], *cvarray2[4],
<span class="lineNum">    7515 </span>            :         *larray[16], *larray2[25], *larray3[6], *larray4[5], *uharray[4],
<span class="lineNum">    7516 </span>            :         *ssvarray[4], *woffarray[16];
<span class="lineNum">    7517 </span>            :     GTextInfo mlabel[10], nlabel[18], pslabel[30], tnlabel[7],
<span class="lineNum">    7518 </span>            :         plabel[12], vlabel[21], panlabel[22], comlabel[3], txlabel[23],
<span class="lineNum">    7519 </span>            :         mflabel[8], mclabel[8], szlabel[17], mklabel[7], metlabel[32],
<span class="lineNum">    7520 </span>            :         sslabel[23], xulabel[8], dlabel[5], ulabel[3], gasplabel[5],
<span class="lineNum">    7521 </span>            :         lkbuttonslabel[14], clabel[11], floglabel[3], llabel[20], mslabel[7],
<span class="lineNum">    7522 </span>            :         ssnlabel[7], wofflabel[8], privatelabel_def[3];
<span class="lineNum">    7523 </span>            :     GTextInfo *namelistnames;
<span class="lineNum">    7524 </span>            :     struct gfi_data *d;
<span class="lineNum">    7525 </span>            :     char iabuf[20], upbuf[20], uwbuf[20], asbuf[20], dsbuf[20],
<span class="lineNum">    7526 </span>            :             vbuf[20], uibuf[12], embuf[20];
<span class="lineNum">    7527 </span>            :     char dszbuf[20], dsbbuf[20], dstbuf[21], sibuf[20], swbuf[20], sfntrbuf[20];
<span class="lineNum">    7528 </span>            :     char ranges[40], codepages[40];
<span class="lineNum">    7529 </span>            :     char woffmajorbuf[20], woffminorbuf[20];
<span class="lineNum">    7530 </span>            :     int i,j,k,g, psrow;
<span class="lineNum">    7531 </span>            :     int mcs;
<span class="lineNum">    7532 </span>            :     char title[130];
<span class="lineNum">    7533 </span>            :     FontRequest rq;
<span class="lineNum">    7534 </span>            :     int as, ds, ld;
<span class="lineNum">    7535 </span>            :     char **nlnames;
<span class="lineNum">    7536 </span>            :     char createtime[200], modtime[200];
<span class="lineNum">    7537 </span>            :     unichar_t *tmpcreatetime, *tmpmodtime;
<span class="lineNum">    7538 </span>            :     time_t t;
<span class="lineNum">    7539 </span>            :     const struct tm *tm;
<span class="lineNum">    7540 </span>            :     struct matrixinit mi, gaspmi, layersmi, ssmi, sizemi, marks_mi, markc_mi, private_mi;
<span class="lineNum">    7541 </span>            :     struct matrix_data *marks_md, *markc_md;
<span class="lineNum">    7542 </span>            :     int ltype;
<span class="lineNum">    7543 </span>            :     static GBox small_blue_box;
<span class="lineNum">    7544 </span>            :     extern GBox _GGadget_button_box;
<span class="lineNum">    7545 </span>            :     static GFont *fi_font=NULL;
<span class="lineNum">    7546 </span>            :     char *copied_copyright;
<span class="lineNum">    7547 </span>            : 
<span class="lineNum">    7548 </span><span class="lineNoCov">          0 :     FontInfoInit();</span>
<span class="lineNum">    7549 </span>            : 
<span class="lineNum">    7550 </span><span class="lineNoCov">          0 :     if ( sf-&gt;fontinfo!=NULL ) {</span>
<span class="lineNum">    7551 </span><span class="lineNoCov">          0 :         GDrawSetVisible(((struct gfi_data *) (sf-&gt;fontinfo))-&gt;gw,true);</span>
<span class="lineNum">    7552 </span><span class="lineNoCov">          0 :         GDrawRaise( ((struct gfi_data *) (sf-&gt;fontinfo))-&gt;gw );</span>
<span class="lineNum">    7553 </span><span class="lineNoCov">          0 : return;</span>
<span class="lineNum">    7554 </span>            :     }
<span class="lineNum">    7555 </span><span class="lineNoCov">          0 :     if ( defaspect==-1 )</span>
<span class="lineNum">    7556 </span><span class="lineNoCov">          0 :         defaspect = last_aspect;</span>
<span class="lineNum">    7557 </span>            : 
<span class="lineNum">    7558 </span><span class="lineNoCov">          0 :     d = calloc(1,sizeof(struct gfi_data));</span>
<span class="lineNum">    7559 </span><span class="lineNoCov">          0 :     sf-&gt;fontinfo = d;</span>
<span class="lineNum">    7560 </span>            : 
<span class="lineNum">    7561 </span><span class="lineNoCov">          0 :     memset(&amp;wattrs,0,sizeof(wattrs));</span>
<span class="lineNum">    7562 </span><span class="lineNoCov">          0 :     wattrs.mask = wam_events|wam_cursor|wam_utf8_wtitle|wam_undercursor|wam_isdlg;</span>
<span class="lineNum">    7563 </span><span class="lineNoCov">          0 :     wattrs.event_masks = ~(1&lt;&lt;et_charup);</span>
<span class="lineNum">    7564 </span><span class="lineNoCov">          0 :     wattrs.is_dlg = true;</span>
<span class="lineNum">    7565 </span><span class="lineNoCov">          0 :     if ( sync ) {</span>
<span class="lineNum">    7566 </span><span class="lineNoCov">          0 :         wattrs.mask |= wam_restrict;</span>
<span class="lineNum">    7567 </span><span class="lineNoCov">          0 :         wattrs.restrict_input_to_me = 1;</span>
<span class="lineNum">    7568 </span>            :     }
<span class="lineNum">    7569 </span><span class="lineNoCov">          0 :     wattrs.undercursor = 1;</span>
<span class="lineNum">    7570 </span><span class="lineNoCov">          0 :     wattrs.cursor = ct_pointer;</span>
<span class="lineNum">    7571 </span><span class="lineNoCov">          0 :     snprintf(title,sizeof(title),_(&quot;Font Information for %.90s&quot;),</span>
<span class="lineNum">    7572 </span>            :             sf-&gt;fontname);
<span class="lineNum">    7573 </span><span class="lineNoCov">          0 :     wattrs.utf8_window_title = title;</span>
<span class="lineNum">    7574 </span><span class="lineNoCov">          0 :     pos.x = pos.y = 0;</span>
<span class="lineNum">    7575 </span><span class="lineNoCov">          0 :     pos.width =GDrawPointsToPixels(NULL,GGadgetScale(268+85));</span>
<span class="lineNum">    7576 </span><span class="lineNoCov">          0 :     pos.height = GDrawPointsToPixels(NULL,375);</span>
<span class="lineNum">    7577 </span><span class="lineNoCov">          0 :     gw = GDrawCreateTopWindow(NULL,&amp;pos,e_h,d,&amp;wattrs);</span>
<span class="lineNum">    7578 </span>            : 
<span class="lineNum">    7579 </span><span class="lineNoCov">          0 :     d-&gt;sf = sf;</span>
<span class="lineNum">    7580 </span><span class="lineNoCov">          0 :     d-&gt;def_layer = deflayer;</span>
<span class="lineNum">    7581 </span><span class="lineNoCov">          0 :     d-&gt;gw = gw;</span>
<span class="lineNum">    7582 </span><span class="lineNoCov">          0 :     d-&gt;old_sel = -2;</span>
<span class="lineNum">    7583 </span><span class="lineNoCov">          0 :     d-&gt;texdata = sf-&gt;texdata;</span>
<span class="lineNum">    7584 </span>            : 
<span class="lineNum">    7585 </span><span class="lineNoCov">          0 :     memset(&amp;nlabel,0,sizeof(nlabel));</span>
<span class="lineNum">    7586 </span><span class="lineNoCov">          0 :     memset(&amp;ngcd,0,sizeof(ngcd));</span>
<span class="lineNum">    7587 </span>            : 
<span class="lineNum">    7588 </span><span class="lineNoCov">          0 :     nlabel[0].text = (unichar_t *) _(&quot;Fo_ntname:&quot;);</span>
<span class="lineNum">    7589 </span><span class="lineNoCov">          0 :     nlabel[0].text_is_1byte = true;</span>
<span class="lineNum">    7590 </span><span class="lineNoCov">          0 :     nlabel[0].text_in_resource = true;</span>
<span class="lineNum">    7591 </span><span class="lineNoCov">          0 :     ngcd[0].gd.label = &amp;nlabel[0];</span>
<span class="lineNum">    7592 </span><span class="lineNoCov">          0 :     ngcd[0].gd.pos.x = 12; ngcd[0].gd.pos.y = 6+6;</span>
<span class="lineNum">    7593 </span><span class="lineNoCov">          0 :     ngcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7594 </span><span class="lineNoCov">          0 :     ngcd[0].creator = GLabelCreate;</span>
<span class="lineNum">    7595 </span>            : 
<span class="lineNum">    7596 </span><span class="lineNoCov">          0 :     ngcd[1].gd.pos.x = 115; ngcd[1].gd.pos.y = ngcd[0].gd.pos.y-6; ngcd[1].gd.pos.width = 137;</span>
<span class="lineNum">    7597 </span><span class="lineNoCov">          0 :     ngcd[1].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7598 </span><span class="lineNoCov">          0 :     nlabel[1].text = (unichar_t *) sf-&gt;fontname;</span>
<span class="lineNum">    7599 </span><span class="lineNoCov">          0 :     nlabel[1].text_is_1byte = true;</span>
<span class="lineNum">    7600 </span><span class="lineNoCov">          0 :     ngcd[1].gd.label = &amp;nlabel[1];</span>
<span class="lineNum">    7601 </span><span class="lineNoCov">          0 :     ngcd[1].gd.cid = CID_Fontname;</span>
<span class="lineNum">    7602 </span><span class="lineNoCov">          0 :     ngcd[1].gd.handle_controlevent = GFI_NameChange;</span>
<span class="lineNum">    7603 </span><span class="lineNoCov">          0 :     ngcd[1].creator = GTextFieldCreate;</span>
<span class="lineNum">    7604 </span>            : 
<span class="lineNum">    7605 </span><span class="lineNoCov">          0 :     nlabel[2].text = (unichar_t *) _(&quot;_Family Name:&quot;);</span>
<span class="lineNum">    7606 </span><span class="lineNoCov">          0 :     nlabel[2].text_is_1byte = true;</span>
<span class="lineNum">    7607 </span><span class="lineNoCov">          0 :     nlabel[2].text_in_resource = true;</span>
<span class="lineNum">    7608 </span><span class="lineNoCov">          0 :     ngcd[2].gd.label = &amp;nlabel[2];</span>
<span class="lineNum">    7609 </span><span class="lineNoCov">          0 :     ngcd[2].gd.pos.x = 12; ngcd[2].gd.pos.y = ngcd[0].gd.pos.y+26;</span>
<span class="lineNum">    7610 </span><span class="lineNoCov">          0 :     ngcd[2].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7611 </span><span class="lineNoCov">          0 :     ngcd[2].creator = GLabelCreate;</span>
<span class="lineNum">    7612 </span>            : 
<span class="lineNum">    7613 </span><span class="lineNoCov">          0 :     ngcd[3].gd.pos.x = ngcd[1].gd.pos.x; ngcd[3].gd.pos.y = ngcd[2].gd.pos.y-6; ngcd[3].gd.pos.width = 137;</span>
<span class="lineNum">    7614 </span><span class="lineNoCov">          0 :     ngcd[3].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7615 </span><span class="lineNoCov">          0 :     nlabel[3].text = (unichar_t *) (sf-&gt;familyname?sf-&gt;familyname:sf-&gt;fontname);</span>
<span class="lineNum">    7616 </span><span class="lineNoCov">          0 :     nlabel[3].text_is_1byte = true;</span>
<span class="lineNum">    7617 </span><span class="lineNoCov">          0 :     ngcd[3].gd.label = &amp;nlabel[3];</span>
<span class="lineNum">    7618 </span><span class="lineNoCov">          0 :     ngcd[3].gd.cid = CID_Family;</span>
<span class="lineNum">    7619 </span><span class="lineNoCov">          0 :     ngcd[3].gd.handle_controlevent = GFI_FamilyChange;</span>
<span class="lineNum">    7620 </span><span class="lineNoCov">          0 :     ngcd[3].creator = GTextFieldCreate;</span>
<span class="lineNum">    7621 </span><span class="lineNoCov">          0 :     if ( sf-&gt;familyname==NULL || strstr(sf-&gt;familyname,&quot;Untitled&quot;)==sf-&gt;familyname )</span>
<span class="lineNum">    7622 </span><span class="lineNoCov">          0 :         d-&gt;family_untitled = true;</span>
<span class="lineNum">    7623 </span>            : 
<span class="lineNum">    7624 </span><span class="lineNoCov">          0 :     ngcd[4].gd.pos.x = 12; ngcd[4].gd.pos.y = ngcd[3].gd.pos.y+26+6;</span>
<span class="lineNum">    7625 </span><span class="lineNoCov">          0 :     nlabel[4].text = (unichar_t *) _(&quot;Name For Human_s:&quot;);</span>
<span class="lineNum">    7626 </span><span class="lineNoCov">          0 :     nlabel[4].text_is_1byte = true;</span>
<span class="lineNum">    7627 </span><span class="lineNoCov">          0 :     nlabel[4].text_in_resource = true;</span>
<span class="lineNum">    7628 </span><span class="lineNoCov">          0 :     ngcd[4].gd.label = &amp;nlabel[4];</span>
<span class="lineNum">    7629 </span><span class="lineNoCov">          0 :     ngcd[4].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7630 </span><span class="lineNoCov">          0 :     ngcd[4].creator = GLabelCreate;</span>
<span class="lineNum">    7631 </span>            : 
<span class="lineNum">    7632 </span><span class="lineNoCov">          0 :     ngcd[5].gd.pos.x = 115; ngcd[5].gd.pos.y = ngcd[4].gd.pos.y-6; ngcd[5].gd.pos.width = 137;</span>
<span class="lineNum">    7633 </span><span class="lineNoCov">          0 :     ngcd[5].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7634 </span><span class="lineNoCov">          0 :     nlabel[5].text = (unichar_t *) (sf-&gt;fullname?sf-&gt;fullname:sf-&gt;fontname);</span>
<span class="lineNum">    7635 </span><span class="lineNoCov">          0 :     nlabel[5].text_is_1byte = true;</span>
<span class="lineNum">    7636 </span><span class="lineNoCov">          0 :     ngcd[5].gd.label = &amp;nlabel[5];</span>
<span class="lineNum">    7637 </span><span class="lineNoCov">          0 :     ngcd[5].gd.cid = CID_Human;</span>
<span class="lineNum">    7638 </span><span class="lineNoCov">          0 :     ngcd[5].gd.handle_controlevent = GFI_HumanChange;</span>
<span class="lineNum">    7639 </span><span class="lineNoCov">          0 :     ngcd[5].creator = GTextFieldCreate;</span>
<span class="lineNum">    7640 </span><span class="lineNoCov">          0 :     if ( sf-&gt;fullname==NULL || strstr(sf-&gt;fullname,&quot;Untitled&quot;)==sf-&gt;fullname )</span>
<span class="lineNum">    7641 </span><span class="lineNoCov">          0 :         d-&gt;human_untitled = true;</span>
<span class="lineNum">    7642 </span>            : 
<span class="lineNum">    7643 </span><span class="lineNoCov">          0 :     nlabel[6].text = (unichar_t *) _(&quot;_Weight&quot;);</span>
<span class="lineNum">    7644 </span><span class="lineNoCov">          0 :     nlabel[6].text_is_1byte = true;</span>
<span class="lineNum">    7645 </span><span class="lineNoCov">          0 :     nlabel[6].text_in_resource = true;</span>
<span class="lineNum">    7646 </span><span class="lineNoCov">          0 :     ngcd[6].gd.label = &amp;nlabel[6];</span>
<span class="lineNum">    7647 </span><span class="lineNoCov">          0 :     ngcd[6].gd.pos.x = ngcd[4].gd.pos.x; ngcd[6].gd.pos.y = ngcd[4].gd.pos.y+26;</span>
<span class="lineNum">    7648 </span><span class="lineNoCov">          0 :     ngcd[6].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7649 </span><span class="lineNoCov">          0 :     ngcd[6].creator = GLabelCreate;</span>
<span class="lineNum">    7650 </span>            : 
<span class="lineNum">    7651 </span><span class="lineNoCov">          0 :     ngcd[7].gd.pos.x = ngcd[1].gd.pos.x; ngcd[7].gd.pos.y = ngcd[6].gd.pos.y-6; ngcd[7].gd.pos.width = 137;</span>
<span class="lineNum">    7652 </span><span class="lineNoCov">          0 :     ngcd[7].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7653 </span><span class="lineNoCov">          0 :     nlabel[7].text = (unichar_t *) (sf-&gt;weight?sf-&gt;weight:&quot;Regular&quot;);</span>
<span class="lineNum">    7654 </span><span class="lineNoCov">          0 :     nlabel[7].text_is_1byte = true;</span>
<span class="lineNum">    7655 </span><span class="lineNoCov">          0 :     ngcd[7].gd.label = &amp;nlabel[7];</span>
<span class="lineNum">    7656 </span><span class="lineNoCov">          0 :     ngcd[7].gd.cid = CID_Weight;</span>
<span class="lineNum">    7657 </span><span class="lineNoCov">          0 :     ngcd[7].creator = GTextFieldCreate;</span>
<span class="lineNum">    7658 </span>            : 
<span class="lineNum">    7659 </span><span class="lineNoCov">          0 :     ngcd[8].gd.pos.x = 12; ngcd[8].gd.pos.y = ngcd[6].gd.pos.y+26;</span>
<span class="lineNum">    7660 </span><span class="lineNoCov">          0 :     nlabel[8].text = (unichar_t *) _(&quot;_Version:&quot;);</span>
<span class="lineNum">    7661 </span><span class="lineNoCov">          0 :     nlabel[8].text_is_1byte = true;</span>
<span class="lineNum">    7662 </span><span class="lineNoCov">          0 :     nlabel[8].text_in_resource = true;</span>
<span class="lineNum">    7663 </span><span class="lineNoCov">          0 :     ngcd[8].gd.label = &amp;nlabel[8];</span>
<span class="lineNum">    7664 </span><span class="lineNoCov">          0 :     ngcd[8].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7665 </span><span class="lineNoCov">          0 :     ngcd[8].creator = GLabelCreate;</span>
<span class="lineNum">    7666 </span>            : 
<span class="lineNum">    7667 </span><span class="lineNoCov">          0 :     ngcd[9].gd.pos.x = 115; ngcd[9].gd.pos.y = ngcd[8].gd.pos.y-6; ngcd[9].gd.pos.width = 137;</span>
<span class="lineNum">    7668 </span><span class="lineNoCov">          0 :     ngcd[9].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7669 </span><span class="lineNoCov">          0 :     nlabel[9].text = (unichar_t *) (sf-&gt;version?sf-&gt;version:&quot;&quot;);</span>
<span class="lineNum">    7670 </span><span class="lineNoCov">          0 :     nlabel[9].text_is_1byte = true;</span>
<span class="lineNum">    7671 </span><span class="lineNoCov">          0 :     if ( sf-&gt;subfontcnt!=0 ) {</span>
<span class="lineNum">    7672 </span><span class="lineNoCov">          0 :         sprintf( vbuf,&quot;%g&quot;, sf-&gt;cidversion );</span>
<span class="lineNum">    7673 </span><span class="lineNoCov">          0 :         nlabel[9].text = (unichar_t *) vbuf;</span>
<span class="lineNum">    7674 </span>            :     }
<span class="lineNum">    7675 </span><span class="lineNoCov">          0 :     ngcd[9].gd.label = &amp;nlabel[9];</span>
<span class="lineNum">    7676 </span><span class="lineNoCov">          0 :     ngcd[9].gd.cid = CID_Version;</span>
<span class="lineNum">    7677 </span><span class="lineNoCov">          0 :     ngcd[9].creator = GTextFieldCreate;</span>
<span class="lineNum">    7678 </span>            : 
<span class="lineNum">    7679 </span><span class="lineNoCov">          0 :     nlabel[10].text = (unichar_t *) _(&quot;sfnt _Revision:&quot;);</span>
<span class="lineNum">    7680 </span><span class="lineNoCov">          0 :     nlabel[10].text_is_1byte = true;</span>
<span class="lineNum">    7681 </span><span class="lineNoCov">          0 :     nlabel[10].text_in_resource = true;</span>
<span class="lineNum">    7682 </span><span class="lineNoCov">          0 :     ngcd[10].gd.label = &amp;nlabel[10];</span>
<span class="lineNum">    7683 </span><span class="lineNoCov">          0 :     ngcd[10].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    7684 </span><span class="lineNoCov">          0 :     ngcd[10].gd.popup_msg = (unichar_t *) _(&quot;If you leave this field blank FontForge will use a default based on\neither the version string above, or one in the 'name' table.&quot; );</span>
<span class="lineNum">    7685 </span><span class="lineNoCov">          0 :     ngcd[10].creator = GLabelCreate;</span>
<span class="lineNum">    7686 </span>            : 
<span class="lineNum">    7687 </span><span class="lineNoCov">          0 :     sfntrbuf[0]='\0';</span>
<span class="lineNum">    7688 </span><span class="lineNoCov">          0 :     if ( sf-&gt;sfntRevision!=sfntRevisionUnset )</span>
<span class="lineNum">    7689 </span><span class="lineNoCov">          0 :         sprintf( sfntrbuf, &quot;%g&quot;, sf-&gt;sfntRevision/65536.0 );</span>
<span class="lineNum">    7690 </span><span class="lineNoCov">          0 :     ngcd[11].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    7691 </span><span class="lineNoCov">          0 :     nlabel[11].text = (unichar_t *) sfntrbuf;</span>
<span class="lineNum">    7692 </span><span class="lineNoCov">          0 :     nlabel[11].text_is_1byte = true;</span>
<span class="lineNum">    7693 </span><span class="lineNoCov">          0 :     ngcd[11].gd.label = &amp;nlabel[11];</span>
<span class="lineNum">    7694 </span><span class="lineNoCov">          0 :     ngcd[11].gd.cid = CID_Revision;</span>
<span class="lineNum">    7695 </span><span class="lineNoCov">          0 :     ngcd[11].gd.popup_msg = (unichar_t *) _(&quot;If you leave this field blank FontForge will use a default based on\neither the version string above, or one in the 'name' table.&quot; );</span>
<span class="lineNum">    7696 </span><span class="lineNoCov">          0 :     ngcd[11].creator = GTextFieldCreate;</span>
<span class="lineNum">    7697 </span>            : 
<span class="lineNum">    7698 </span><span class="lineNoCov">          0 :     nlabel[12].text = (unichar_t *) _(&quot;_Base Filename:&quot;);</span>
<span class="lineNum">    7699 </span><span class="lineNoCov">          0 :     nlabel[12].text_is_1byte = true;</span>
<span class="lineNum">    7700 </span><span class="lineNoCov">          0 :     nlabel[12].text_in_resource = true;</span>
<span class="lineNum">    7701 </span><span class="lineNoCov">          0 :     ngcd[12].gd.label = &amp;nlabel[12];</span>
<span class="lineNum">    7702 </span><span class="lineNoCov">          0 :     ngcd[12].gd.popup_msg = (unichar_t *) _(&quot;Use this as the default base for the filename\nwhen generating a font.&quot; );</span>
<span class="lineNum">    7703 </span><span class="lineNoCov">          0 :     ngcd[12].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    7704 </span><span class="lineNoCov">          0 :     ngcd[12].creator = GLabelCreate;</span>
<span class="lineNum">    7705 </span>            : 
<span class="lineNum">    7706 </span>            : /* GT: The space in front of &quot;Same&quot; makes things line up better */
<span class="lineNum">    7707 </span><span class="lineNoCov">          0 :     nlabel[13].text = (unichar_t *) _(&quot; Same as Fontname&quot;);</span>
<span class="lineNum">    7708 </span><span class="lineNoCov">          0 :     nlabel[13].text_is_1byte = true;</span>
<span class="lineNum">    7709 </span><span class="lineNoCov">          0 :     ngcd[13].gd.label = &amp;nlabel[13];</span>
<span class="lineNum">    7710 </span><span class="lineNoCov">          0 :     ngcd[13].gd.flags = sf-&gt;defbasefilename==NULL ? (gg_visible | gg_enabled | gg_cb_on ) : (gg_visible | gg_enabled);</span>
<span class="lineNum">    7711 </span><span class="lineNoCov">          0 :     ngcd[13].gd.cid = CID_SameAsFontname;</span>
<span class="lineNum">    7712 </span><span class="lineNoCov">          0 :     ngcd[13].creator = GRadioCreate;</span>
<span class="lineNum">    7713 </span>            : 
<span class="lineNum">    7714 </span><span class="lineNoCov">          0 :     nlabel[14].text = (unichar_t *) &quot;&quot;;</span>
<span class="lineNum">    7715 </span><span class="lineNoCov">          0 :     nlabel[14].text_is_1byte = true;</span>
<span class="lineNum">    7716 </span><span class="lineNoCov">          0 :     ngcd[14].gd.label = &amp;nlabel[14];</span>
<span class="lineNum">    7717 </span><span class="lineNoCov">          0 :     ngcd[14].gd.flags = sf-&gt;defbasefilename!=NULL ?</span>
<span class="lineNum">    7718 </span>            :                 (gg_visible | gg_enabled | gg_cb_on | gg_rad_continueold ) :
<span class="lineNum">    7719 </span>            :                 (gg_visible | gg_enabled | gg_rad_continueold);
<span class="lineNum">    7720 </span><span class="lineNoCov">          0 :     ngcd[14].gd.cid = CID_HasDefBase;</span>
<span class="lineNum">    7721 </span><span class="lineNoCov">          0 :     ngcd[14].creator = GRadioCreate;</span>
<span class="lineNum">    7722 </span>            : 
<span class="lineNum">    7723 </span><span class="lineNoCov">          0 :     ngcd[15].gd.flags = gg_visible | gg_enabled|gg_text_xim;</span>
<span class="lineNum">    7724 </span><span class="lineNoCov">          0 :     nlabel[15].text = (unichar_t *) (sf-&gt;defbasefilename?sf-&gt;defbasefilename:&quot;&quot;);</span>
<span class="lineNum">    7725 </span><span class="lineNoCov">          0 :     nlabel[15].text_is_1byte = true;</span>
<span class="lineNum">    7726 </span><span class="lineNoCov">          0 :     ngcd[15].gd.label = &amp;nlabel[15];</span>
<span class="lineNum">    7727 </span><span class="lineNoCov">          0 :     ngcd[15].gd.cid = CID_DefBaseName;</span>
<span class="lineNum">    7728 </span><span class="lineNoCov">          0 :     ngcd[15].gd.handle_controlevent = GFI_DefBaseChange;</span>
<span class="lineNum">    7729 </span><span class="lineNoCov">          0 :     ngcd[15].creator = GTextFieldCreate;</span>
<span class="lineNum">    7730 </span>            : 
<span class="lineNum">    7731 </span><span class="lineNoCov">          0 :     ngcd[16].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7732 </span><span class="lineNoCov">          0 :     nlabel[16].text = (unichar_t *) _(&quot;Copy_right:&quot;);</span>
<span class="lineNum">    7733 </span><span class="lineNoCov">          0 :     nlabel[16].text_is_1byte = true;</span>
<span class="lineNum">    7734 </span><span class="lineNoCov">          0 :     nlabel[16].text_in_resource = true;</span>
<span class="lineNum">    7735 </span><span class="lineNoCov">          0 :     ngcd[16].gd.label = &amp;nlabel[16];</span>
<span class="lineNum">    7736 </span><span class="lineNoCov">          0 :     ngcd[16].creator = GLabelCreate;</span>
<span class="lineNum">    7737 </span>            : 
<span class="lineNum">    7738 </span><span class="lineNoCov">          0 :     ngcd[17].gd.pos.width = ngcd[5].gd.pos.x+ngcd[5].gd.pos.width-26;</span>
<span class="lineNum">    7739 </span><span class="lineNoCov">          0 :     ngcd[17].gd.flags = gg_visible | gg_enabled | gg_textarea_wrap | gg_utf8_popup;</span>
<span class="lineNum">    7740 </span><span class="lineNoCov">          0 :     copied_copyright = NULL;</span>
<span class="lineNum">    7741 </span><span class="lineNoCov">          0 :     if ( sf-&gt;copyright!=NULL ) {</span>
<span class="lineNum">    7742 </span><span class="lineNoCov">          0 :         if ( !AllAscii(sf-&gt;copyright))</span>
<span class="lineNum">    7743 </span><span class="lineNoCov">          0 :             nlabel[17].text = (unichar_t *) (copied_copyright = StripToASCII(sf-&gt;copyright));</span>
<span class="lineNum">    7744 </span>            :         else
<span class="lineNum">    7745 </span><span class="lineNoCov">          0 :             nlabel[17].text = (unichar_t *) sf-&gt;copyright;</span>
<span class="lineNum">    7746 </span><span class="lineNoCov">          0 :         nlabel[17].text_is_1byte = true;</span>
<span class="lineNum">    7747 </span><span class="lineNoCov">          0 :         ngcd[17].gd.label = &amp;nlabel[17];</span>
<span class="lineNum">    7748 </span>            :     }
<span class="lineNum">    7749 </span><span class="lineNoCov">          0 :     ngcd[17].gd.cid = CID_Notice;</span>
<span class="lineNum">    7750 </span><span class="lineNoCov">          0 :     ngcd[17].gd.popup_msg = (unichar_t *) _(&quot;This must be ASCII, so you may not use the copyright symbol (use (c) instead).&quot;);</span>
<span class="lineNum">    7751 </span><span class="lineNoCov">          0 :     ngcd[17].creator = GTextAreaCreate;</span>
<span class="lineNum">    7752 </span>            : 
<span class="lineNum">    7753 </span><span class="lineNoCov">          0 :     memset(&amp;nb,0,sizeof(nb)); memset(&amp;nb2,0,sizeof(nb2)); memset(&amp;nb3,0,sizeof(nb3));</span>
<span class="lineNum">    7754 </span>            : 
<span class="lineNum">    7755 </span><span class="lineNoCov">          0 :     narray3[0] = &amp;ngcd[14]; narray3[1] = &amp;ngcd[15]; narray3[2] = NULL;</span>
<span class="lineNum">    7756 </span>            : 
<span class="lineNum">    7757 </span><span class="lineNoCov">          0 :     narray2[0] = &amp;ngcd[12]; narray2[1] = &amp;ngcd[13]; narray2[2] = NULL;</span>
<span class="lineNum">    7758 </span><span class="lineNoCov">          0 :     narray2[3] = GCD_RowSpan; narray2[4] = &amp;nb3; narray2[5] = NULL;</span>
<span class="lineNum">    7759 </span><span class="lineNoCov">          0 :     narray2[6] = NULL;</span>
<span class="lineNum">    7760 </span>            : 
<span class="lineNum">    7761 </span><span class="lineNoCov">          0 :     narray[0] = &amp;ngcd[0]; narray[1] = &amp;ngcd[1]; narray[2] = NULL;</span>
<span class="lineNum">    7762 </span><span class="lineNoCov">          0 :     narray[3] = &amp;ngcd[2]; narray[4] = &amp;ngcd[3]; narray[5] = NULL;</span>
<span class="lineNum">    7763 </span><span class="lineNoCov">          0 :     narray[6] = &amp;ngcd[4]; narray[7] = &amp;ngcd[5]; narray[8] = NULL;</span>
<span class="lineNum">    7764 </span><span class="lineNoCov">          0 :     narray[9] = &amp;ngcd[6]; narray[10] = &amp;ngcd[7]; narray[11] = NULL;</span>
<span class="lineNum">    7765 </span><span class="lineNoCov">          0 :     narray[12] = &amp;ngcd[8]; narray[13] = &amp;ngcd[9]; narray[14] = NULL;</span>
<span class="lineNum">    7766 </span><span class="lineNoCov">          0 :     narray[15] = &amp;ngcd[10]; narray[16] = &amp;ngcd[11]; narray[17] = NULL;</span>
<span class="lineNum">    7767 </span><span class="lineNoCov">          0 :     narray[18] = &amp;nb2; narray[19] = GCD_ColSpan; narray[20] = NULL;</span>
<span class="lineNum">    7768 </span><span class="lineNoCov">          0 :     narray[21] = &amp;ngcd[16]; narray[22] = GCD_ColSpan; narray[23] = NULL;</span>
<span class="lineNum">    7769 </span><span class="lineNoCov">          0 :     narray[24] = &amp;ngcd[17]; narray[25] = GCD_ColSpan; narray[26] = NULL;</span>
<span class="lineNum">    7770 </span><span class="lineNoCov">          0 :     narray[27] = NULL;</span>
<span class="lineNum">    7771 </span>            : 
<span class="lineNum">    7772 </span><span class="lineNoCov">          0 :     nb3.gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    7773 </span><span class="lineNoCov">          0 :     nb3.gd.u.boxelements = narray3;</span>
<span class="lineNum">    7774 </span><span class="lineNoCov">          0 :     nb3.creator = GHBoxCreate;</span>
<span class="lineNum">    7775 </span>            : 
<span class="lineNum">    7776 </span><span class="lineNoCov">          0 :     nb2.gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    7777 </span><span class="lineNoCov">          0 :     nb2.gd.u.boxelements = narray2;</span>
<span class="lineNum">    7778 </span><span class="lineNoCov">          0 :     nb2.creator = GHVBoxCreate;</span>
<span class="lineNum">    7779 </span>            : 
<span class="lineNum">    7780 </span><span class="lineNoCov">          0 :     nb[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    7781 </span><span class="lineNoCov">          0 :     nb[0].gd.u.boxelements = narray;</span>
<span class="lineNum">    7782 </span><span class="lineNoCov">          0 :     nb[0].creator = GHVBoxCreate;</span>
<span class="lineNum">    7783 </span>            : 
<span class="lineNum">    7784 </span>            : /******************************************************************************/
<span class="lineNum">    7785 </span><span class="lineNoCov">          0 :     memset(&amp;xulabel,0,sizeof(xulabel));</span>
<span class="lineNum">    7786 </span><span class="lineNoCov">          0 :     memset(&amp;xugcd,0,sizeof(xugcd));</span>
<span class="lineNum">    7787 </span>            : 
<span class="lineNum">    7788 </span><span class="lineNoCov">          0 :     xulabel[0].text = (unichar_t *) _(&quot;(Adobe now considers XUID/UniqueID unnecessary)&quot;);</span>
<span class="lineNum">    7789 </span><span class="lineNoCov">          0 :     xulabel[0].text_is_1byte = true;</span>
<span class="lineNum">    7790 </span><span class="lineNoCov">          0 :     xulabel[0].text_in_resource = true;</span>
<span class="lineNum">    7791 </span><span class="lineNoCov">          0 :     xugcd[0].gd.label = &amp;xulabel[0];</span>
<span class="lineNum">    7792 </span><span class="lineNoCov">          0 :     xugcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7793 </span><span class="lineNoCov">          0 :     xugcd[0].creator = GLabelCreate;</span>
<span class="lineNum">    7794 </span>            : 
<span class="lineNum">    7795 </span><span class="lineNoCov">          0 :     xulabel[1].text = (unichar_t *) _(&quot;Use XUID&quot;);</span>
<span class="lineNum">    7796 </span><span class="lineNoCov">          0 :     xulabel[1].text_is_1byte = true;</span>
<span class="lineNum">    7797 </span><span class="lineNoCov">          0 :     xulabel[1].text_in_resource = true;</span>
<span class="lineNum">    7798 </span><span class="lineNoCov">          0 :     xugcd[1].gd.label = &amp;xulabel[1];</span>
<span class="lineNum">    7799 </span><span class="lineNoCov">          0 :     xugcd[1].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7800 </span><span class="lineNoCov">          0 :     if ( sf-&gt;use_xuid ) xugcd[1].gd.flags = gg_visible | gg_enabled | gg_cb_on;</span>
<span class="lineNum">    7801 </span><span class="lineNoCov">          0 :     xugcd[1].gd.cid = CID_UseXUID;</span>
<span class="lineNum">    7802 </span><span class="lineNoCov">          0 :     xugcd[1].gd.handle_controlevent = GFI_UseXUIDChanged;</span>
<span class="lineNum">    7803 </span><span class="lineNoCov">          0 :     xugcd[1].creator = GCheckBoxCreate;</span>
<span class="lineNum">    7804 </span>            : 
<span class="lineNum">    7805 </span><span class="lineNoCov">          0 :     xugcd[2].gd.pos.x = 12; xugcd[2].gd.pos.y = 10+6;</span>
<span class="lineNum">    7806 </span><span class="lineNoCov">          0 :     xugcd[2].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7807 </span><span class="lineNoCov">          0 :     xulabel[2].text = (unichar_t *) _(&quot;_XUID:&quot;);</span>
<span class="lineNum">    7808 </span><span class="lineNoCov">          0 :     xulabel[2].text_is_1byte = true;</span>
<span class="lineNum">    7809 </span><span class="lineNoCov">          0 :     xulabel[2].text_in_resource = true;</span>
<span class="lineNum">    7810 </span><span class="lineNoCov">          0 :     xugcd[2].gd.label = &amp;xulabel[2];</span>
<span class="lineNum">    7811 </span><span class="lineNoCov">          0 :     xugcd[2].creator = GLabelCreate;</span>
<span class="lineNum">    7812 </span>            : 
<span class="lineNum">    7813 </span><span class="lineNoCov">          0 :     xugcd[3].gd.flags = gg_visible;</span>
<span class="lineNum">    7814 </span><span class="lineNoCov">          0 :     if ( sf-&gt;use_xuid ) xugcd[3].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7815 </span><span class="lineNoCov">          0 :     if ( sf-&gt;xuid!=NULL ) {</span>
<span class="lineNum">    7816 </span><span class="lineNoCov">          0 :         xulabel[3].text = (unichar_t *) sf-&gt;xuid;</span>
<span class="lineNum">    7817 </span><span class="lineNoCov">          0 :         xulabel[3].text_is_1byte = true;</span>
<span class="lineNum">    7818 </span><span class="lineNoCov">          0 :         xugcd[3].gd.label = &amp;xulabel[3];</span>
<span class="lineNum">    7819 </span>            :     }
<span class="lineNum">    7820 </span><span class="lineNoCov">          0 :     xugcd[3].gd.cid = CID_XUID;</span>
<span class="lineNum">    7821 </span><span class="lineNoCov">          0 :     xugcd[3].creator = GTextFieldCreate;</span>
<span class="lineNum">    7822 </span>            : 
<span class="lineNum">    7823 </span><span class="lineNoCov">          0 :     xulabel[4].text = (unichar_t *) _(&quot;Use UniqueID&quot;);</span>
<span class="lineNum">    7824 </span><span class="lineNoCov">          0 :     xulabel[4].text_is_1byte = true;</span>
<span class="lineNum">    7825 </span><span class="lineNoCov">          0 :     xulabel[4].text_in_resource = true;</span>
<span class="lineNum">    7826 </span><span class="lineNoCov">          0 :     xugcd[4].gd.label = &amp;xulabel[4];</span>
<span class="lineNum">    7827 </span><span class="lineNoCov">          0 :     xugcd[4].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7828 </span><span class="lineNoCov">          0 :     if ( sf-&gt;use_uniqueid ) xugcd[4].gd.flags = gg_visible | gg_enabled | gg_cb_on;</span>
<span class="lineNum">    7829 </span><span class="lineNoCov">          0 :     xugcd[4].gd.cid = CID_UseUniqueID;</span>
<span class="lineNum">    7830 </span><span class="lineNoCov">          0 :     xugcd[4].gd.handle_controlevent = GFI_UseUniqueIDChanged;</span>
<span class="lineNum">    7831 </span><span class="lineNoCov">          0 :     xugcd[4].creator = GCheckBoxCreate;</span>
<span class="lineNum">    7832 </span>            : 
<span class="lineNum">    7833 </span><span class="lineNoCov">          0 :     xulabel[5].text = (unichar_t *) _(&quot;_UniqueID:&quot;);</span>
<span class="lineNum">    7834 </span><span class="lineNoCov">          0 :     xulabel[5].text_is_1byte = true;</span>
<span class="lineNum">    7835 </span><span class="lineNoCov">          0 :     xulabel[5].text_in_resource = true;</span>
<span class="lineNum">    7836 </span><span class="lineNoCov">          0 :     xugcd[5].gd.label = &amp;xulabel[5];</span>
<span class="lineNum">    7837 </span><span class="lineNoCov">          0 :     xugcd[5].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7838 </span><span class="lineNoCov">          0 :     xugcd[5].creator = GLabelCreate;</span>
<span class="lineNum">    7839 </span>            : 
<span class="lineNum">    7840 </span><span class="lineNoCov">          0 :     xugcd[6].gd.flags = gg_visible;</span>
<span class="lineNum">    7841 </span><span class="lineNoCov">          0 :     if ( sf-&gt;use_uniqueid ) xugcd[6].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7842 </span><span class="lineNoCov">          0 :     xulabel[6].text = (unichar_t *) &quot;&quot;;</span>
<span class="lineNum">    7843 </span><span class="lineNoCov">          0 :     xulabel[6].text_is_1byte = true;</span>
<span class="lineNum">    7844 </span><span class="lineNoCov">          0 :     if ( sf-&gt;uniqueid!=0 ) {</span>
<span class="lineNum">    7845 </span><span class="lineNoCov">          0 :         sprintf( uibuf, &quot;%d&quot;, sf-&gt;uniqueid );</span>
<span class="lineNum">    7846 </span><span class="lineNoCov">          0 :         xulabel[6].text = (unichar_t *) uibuf;</span>
<span class="lineNum">    7847 </span>            :     }
<span class="lineNum">    7848 </span><span class="lineNoCov">          0 :     xugcd[6].gd.label = &amp;xulabel[6];</span>
<span class="lineNum">    7849 </span><span class="lineNoCov">          0 :     xugcd[6].gd.cid = CID_UniqueID;</span>
<span class="lineNum">    7850 </span><span class="lineNoCov">          0 :     xugcd[6].creator = GTextFieldCreate;</span>
<span class="lineNum">    7851 </span>            : 
<span class="lineNum">    7852 </span><span class="lineNoCov">          0 :     xuarray[0] = &amp;xugcd[0]; xuarray[1] = GCD_ColSpan; xuarray[2] = NULL;</span>
<span class="lineNum">    7853 </span><span class="lineNoCov">          0 :     xuarray[3] = &amp;xugcd[1]; xuarray[4] = GCD_ColSpan; xuarray[5] = NULL;</span>
<span class="lineNum">    7854 </span><span class="lineNoCov">          0 :     xuarray[6] = &amp;xugcd[2]; xuarray[7] = &amp;xugcd[3]; xuarray[8] = NULL;</span>
<span class="lineNum">    7855 </span><span class="lineNoCov">          0 :     xuarray[9] = &amp;xugcd[4]; xuarray[10] = GCD_ColSpan; xuarray[11] = NULL;</span>
<span class="lineNum">    7856 </span><span class="lineNoCov">          0 :     xuarray[12] = &amp;xugcd[5]; xuarray[13] = &amp;xugcd[6]; xuarray[14] = NULL;</span>
<span class="lineNum">    7857 </span><span class="lineNoCov">          0 :     xuarray[15] = GCD_Glue; xuarray[16] = GCD_Glue; xuarray[17] = NULL;</span>
<span class="lineNum">    7858 </span><span class="lineNoCov">          0 :     xuarray[18] = NULL;</span>
<span class="lineNum">    7859 </span>            : 
<span class="lineNum">    7860 </span><span class="lineNoCov">          0 :     memset(xub,0,sizeof(xub));</span>
<span class="lineNum">    7861 </span><span class="lineNoCov">          0 :     xub[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    7862 </span><span class="lineNoCov">          0 :     xub[0].gd.u.boxelements = xuarray;</span>
<span class="lineNum">    7863 </span><span class="lineNoCov">          0 :     xub[0].creator = GHVBoxCreate;</span>
<span class="lineNum">    7864 </span>            : 
<span class="lineNum">    7865 </span>            : /******************************************************************************/
<span class="lineNum">    7866 </span><span class="lineNoCov">          0 :     memset(&amp;pslabel,0,sizeof(pslabel));</span>
<span class="lineNum">    7867 </span><span class="lineNoCov">          0 :     memset(&amp;psgcd,0,sizeof(psgcd));</span>
<span class="lineNum">    7868 </span>            : 
<span class="lineNum">    7869 </span><span class="lineNoCov">          0 :     psgcd[0].gd.pos.x = 12; psgcd[0].gd.pos.y = 12;</span>
<span class="lineNum">    7870 </span><span class="lineNoCov">          0 :     psgcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7871 </span><span class="lineNoCov">          0 :     pslabel[0].text = (unichar_t *) _(&quot;_Ascent:&quot;);</span>
<span class="lineNum">    7872 </span><span class="lineNoCov">          0 :     pslabel[0].text_is_1byte = true;</span>
<span class="lineNum">    7873 </span><span class="lineNoCov">          0 :     pslabel[0].text_in_resource = true;</span>
<span class="lineNum">    7874 </span><span class="lineNoCov">          0 :     psgcd[0].gd.label = &amp;pslabel[0];</span>
<span class="lineNum">    7875 </span><span class="lineNoCov">          0 :     psgcd[0].creator = GLabelCreate;</span>
<span class="lineNum">    7876 </span>            : 
<span class="lineNum">    7877 </span><span class="lineNoCov">          0 :     psgcd[1].gd.pos.x = 103; psgcd[1].gd.pos.y = psgcd[0].gd.pos.y-6; psgcd[1].gd.pos.width = 47;</span>
<span class="lineNum">    7878 </span><span class="lineNoCov">          0 :     psgcd[1].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7879 </span><span class="lineNoCov">          0 :     sprintf( asbuf, &quot;%d&quot;, sf-&gt;ascent );</span>
<span class="lineNum">    7880 </span><span class="lineNoCov">          0 :     pslabel[1].text = (unichar_t *) asbuf;</span>
<span class="lineNum">    7881 </span><span class="lineNoCov">          0 :     pslabel[1].text_is_1byte = true;</span>
<span class="lineNum">    7882 </span><span class="lineNoCov">          0 :     psgcd[1].gd.label = &amp;pslabel[1];</span>
<span class="lineNum">    7883 </span><span class="lineNoCov">          0 :     psgcd[1].gd.cid = CID_Ascent;</span>
<span class="lineNum">    7884 </span><span class="lineNoCov">          0 :     psgcd[1].gd.handle_controlevent = GFI_EmChanged;</span>
<span class="lineNum">    7885 </span><span class="lineNoCov">          0 :     psgcd[1].creator = GTextFieldCreate;</span>
<span class="lineNum">    7886 </span>            : 
<span class="lineNum">    7887 </span><span class="lineNoCov">          0 :     psgcd[2].gd.pos.x = 155; psgcd[2].gd.pos.y = psgcd[0].gd.pos.y;</span>
<span class="lineNum">    7888 </span><span class="lineNoCov">          0 :     psgcd[2].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7889 </span><span class="lineNoCov">          0 :     pslabel[2].text = (unichar_t *) _(&quot;_Descent:&quot;);</span>
<span class="lineNum">    7890 </span><span class="lineNoCov">          0 :     pslabel[2].text_is_1byte = true;</span>
<span class="lineNum">    7891 </span><span class="lineNoCov">          0 :     pslabel[2].text_in_resource = true;</span>
<span class="lineNum">    7892 </span><span class="lineNoCov">          0 :     psgcd[2].gd.label = &amp;pslabel[2];</span>
<span class="lineNum">    7893 </span><span class="lineNoCov">          0 :     psgcd[2].creator = GLabelCreate;</span>
<span class="lineNum">    7894 </span>            : 
<span class="lineNum">    7895 </span><span class="lineNoCov">          0 :     psgcd[3].gd.pos.x = 200; psgcd[3].gd.pos.y = psgcd[1].gd.pos.y; psgcd[3].gd.pos.width = 47;</span>
<span class="lineNum">    7896 </span><span class="lineNoCov">          0 :     psgcd[3].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7897 </span><span class="lineNoCov">          0 :     sprintf( dsbuf, &quot;%d&quot;, sf-&gt;descent );</span>
<span class="lineNum">    7898 </span><span class="lineNoCov">          0 :     pslabel[3].text = (unichar_t *) dsbuf;</span>
<span class="lineNum">    7899 </span><span class="lineNoCov">          0 :     pslabel[3].text_is_1byte = true;</span>
<span class="lineNum">    7900 </span><span class="lineNoCov">          0 :     psgcd[3].gd.label = &amp;pslabel[3];</span>
<span class="lineNum">    7901 </span><span class="lineNoCov">          0 :     psgcd[3].gd.cid = CID_Descent;</span>
<span class="lineNum">    7902 </span><span class="lineNoCov">          0 :     psgcd[3].gd.handle_controlevent = GFI_EmChanged;</span>
<span class="lineNum">    7903 </span><span class="lineNoCov">          0 :     psgcd[3].creator = GTextFieldCreate;</span>
<span class="lineNum">    7904 </span>            : 
<span class="lineNum">    7905 </span><span class="lineNoCov">          0 :     psgcd[4].gd.pos.x = psgcd[0].gd.pos.x+5; psgcd[4].gd.pos.y = psgcd[0].gd.pos.y+24;</span>
<span class="lineNum">    7906 </span><span class="lineNoCov">          0 :     psgcd[4].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7907 </span><span class="lineNoCov">          0 :     pslabel[4].text = (unichar_t *) _(&quot; _Em Size:&quot;);</span>
<span class="lineNum">    7908 </span><span class="lineNoCov">          0 :     pslabel[4].text_is_1byte = true;</span>
<span class="lineNum">    7909 </span><span class="lineNoCov">          0 :     pslabel[4].text_in_resource = true;</span>
<span class="lineNum">    7910 </span><span class="lineNoCov">          0 :     psgcd[4].gd.label = &amp;pslabel[4];</span>
<span class="lineNum">    7911 </span><span class="lineNoCov">          0 :     psgcd[4].creator = GLabelCreate;</span>
<span class="lineNum">    7912 </span>            : 
<span class="lineNum">    7913 </span><span class="lineNoCov">          0 :     psgcd[5].gd.pos.x = psgcd[1].gd.pos.x-20; psgcd[5].gd.pos.y = psgcd[1].gd.pos.y+24; psgcd[5].gd.pos.width = 67;</span>
<span class="lineNum">    7914 </span><span class="lineNoCov">          0 :     psgcd[5].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7915 </span><span class="lineNoCov">          0 :     sprintf( embuf, &quot;%d&quot;, sf-&gt;descent+sf-&gt;ascent );</span>
<span class="lineNum">    7916 </span><span class="lineNoCov">          0 :     pslabel[5].text = (unichar_t *) embuf;</span>
<span class="lineNum">    7917 </span><span class="lineNoCov">          0 :     pslabel[5].text_is_1byte = true;</span>
<span class="lineNum">    7918 </span><span class="lineNoCov">          0 :     psgcd[5].gd.label = &amp;pslabel[5];</span>
<span class="lineNum">    7919 </span><span class="lineNoCov">          0 :     psgcd[5].gd.cid = CID_Em;</span>
<span class="lineNum">    7920 </span><span class="lineNoCov">          0 :     psgcd[5].gd.u.list = emsizes;</span>
<span class="lineNum">    7921 </span><span class="lineNoCov">          0 :     psgcd[5].gd.handle_controlevent = GFI_EmChanged;</span>
<span class="lineNum">    7922 </span><span class="lineNoCov">          0 :     psgcd[5].creator = GListFieldCreate;</span>
<span class="lineNum">    7923 </span>            : 
<span class="lineNum">    7924 </span><span class="lineNoCov">          0 :     psgcd[6].gd.pos.x = psgcd[2].gd.pos.x; psgcd[6].gd.pos.y = psgcd[4].gd.pos.y-4;</span>
<span class="lineNum">    7925 </span><span class="lineNoCov">          0 :     psgcd[6].gd.flags = gg_visible | gg_enabled | gg_cb_on;</span>
<span class="lineNum">    7926 </span><span class="lineNoCov">          0 :     pslabel[6].text = (unichar_t *) _(&quot;_Scale Outlines&quot;);</span>
<span class="lineNum">    7927 </span><span class="lineNoCov">          0 :     pslabel[6].text_is_1byte = true;</span>
<span class="lineNum">    7928 </span><span class="lineNoCov">          0 :     pslabel[6].text_in_resource = true;</span>
<span class="lineNum">    7929 </span><span class="lineNoCov">          0 :     psgcd[6].gd.label = &amp;pslabel[6];</span>
<span class="lineNum">    7930 </span><span class="lineNoCov">          0 :     psgcd[6].gd.cid = CID_Scale;</span>
<span class="lineNum">    7931 </span><span class="lineNoCov">          0 :     psgcd[6].creator = GCheckBoxCreate;</span>
<span class="lineNum">    7932 </span>            : 
<span class="lineNum">    7933 </span>            : /* I've reversed the label, text field order in the gcd here because */
<span class="lineNum">    7934 </span>            : /*  that way the text field will be displayed on top of the label rather */
<span class="lineNum">    7935 </span>            : /*  than the reverse, and in Russian that's important translation of */
<span class="lineNum">    7936 </span>            : /*  &quot;Italic Angle&quot; is too long. Oops, no it's the next one, might as well leave in here though */
<span class="lineNum">    7937 </span><span class="lineNoCov">          0 :     psgcd[8].gd.pos.x = 12; psgcd[8].gd.pos.y = psgcd[5].gd.pos.y+26+6;</span>
<span class="lineNum">    7938 </span><span class="lineNoCov">          0 :     psgcd[8].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7939 </span><span class="lineNoCov">          0 :     pslabel[8].text = (unichar_t *) _(&quot;_Italic Angle:&quot;);</span>
<span class="lineNum">    7940 </span><span class="lineNoCov">          0 :     pslabel[8].text_is_1byte = true;</span>
<span class="lineNum">    7941 </span><span class="lineNoCov">          0 :     pslabel[8].text_in_resource = true;</span>
<span class="lineNum">    7942 </span><span class="lineNoCov">          0 :     psgcd[8].gd.label = &amp;pslabel[8];</span>
<span class="lineNum">    7943 </span><span class="lineNoCov">          0 :     psgcd[8].creator = GLabelCreate;</span>
<span class="lineNum">    7944 </span>            : 
<span class="lineNum">    7945 </span><span class="lineNoCov">          0 :     psgcd[7].gd.pos.x = 103; psgcd[7].gd.pos.y = psgcd[8].gd.pos.y-6;</span>
<span class="lineNum">    7946 </span><span class="lineNoCov">          0 :     psgcd[7].gd.pos.width = 47;</span>
<span class="lineNum">    7947 </span><span class="lineNoCov">          0 :     psgcd[7].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7948 </span><span class="lineNoCov">          0 :     sprintf( iabuf, &quot;%g&quot;, (double) sf-&gt;italicangle );</span>
<span class="lineNum">    7949 </span><span class="lineNoCov">          0 :     pslabel[7].text = (unichar_t *) iabuf;</span>
<span class="lineNum">    7950 </span><span class="lineNoCov">          0 :     pslabel[7].text_is_1byte = true;</span>
<span class="lineNum">    7951 </span><span class="lineNoCov">          0 :     psgcd[7].gd.label = &amp;pslabel[7];</span>
<span class="lineNum">    7952 </span><span class="lineNoCov">          0 :     psgcd[7].gd.cid = CID_ItalicAngle;</span>
<span class="lineNum">    7953 </span><span class="lineNoCov">          0 :     psgcd[7].creator = GTextFieldCreate;</span>
<span class="lineNum">    7954 </span>            : 
<span class="lineNum">    7955 </span><span class="lineNoCov">          0 :     psgcd[9].gd.pos.y = psgcd[7].gd.pos.y;</span>
<span class="lineNum">    7956 </span><span class="lineNoCov">          0 :     psgcd[9].gd.pos.width = -1; psgcd[9].gd.pos.height = 0;</span>
<span class="lineNum">    7957 </span><span class="lineNoCov">          0 :     psgcd[9].gd.pos.x = psgcd[3].gd.pos.x+psgcd[3].gd.pos.width-</span>
<span class="lineNum">    7958 </span><span class="lineNoCov">          0 :             GIntGetResource(_NUM_Buttonsize)*100/GIntGetResource(_NUM_ScaleFactor);</span>
<span class="lineNum">    7959 </span>            :     /*if ( strstrmatch(sf-&gt;fontname,&quot;Italic&quot;)!=NULL ||strstrmatch(sf-&gt;fontname,&quot;Oblique&quot;)!=NULL )*/
<span class="lineNum">    7960 </span><span class="lineNoCov">          0 :         psgcd[9].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7961 </span><span class="lineNoCov">          0 :     pslabel[9].text = (unichar_t *) _(&quot;_Guess&quot;);</span>
<span class="lineNum">    7962 </span><span class="lineNoCov">          0 :     pslabel[9].text_is_1byte = true;</span>
<span class="lineNum">    7963 </span><span class="lineNoCov">          0 :     pslabel[9].text_in_resource = true;</span>
<span class="lineNum">    7964 </span><span class="lineNoCov">          0 :     psgcd[9].gd.label = &amp;pslabel[9];</span>
<span class="lineNum">    7965 </span><span class="lineNoCov">          0 :     psgcd[9].gd.handle_controlevent = GFI_GuessItalic;</span>
<span class="lineNum">    7966 </span><span class="lineNoCov">          0 :     psgcd[9].creator = GButtonCreate;</span>
<span class="lineNum">    7967 </span>            : 
<span class="lineNum">    7968 </span>            : /* I've reversed the label, text field order in the gcd here because */
<span class="lineNum">    7969 </span>            : /*  that way the text field will be displayed on top of the label rather */
<span class="lineNum">    7970 </span>            : /*  than the reverse, and in Russian that's important translation of */
<span class="lineNum">    7971 </span>            : /*  &quot;Underline position&quot; is too long. */
<span class="lineNum">    7972 </span><span class="lineNoCov">          0 :     psgcd[11].gd.pos.x = 12; psgcd[11].gd.pos.y = psgcd[7].gd.pos.y+26+6;</span>
<span class="lineNum">    7973 </span><span class="lineNoCov">          0 :     psgcd[11].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7974 </span><span class="lineNoCov">          0 :     pslabel[11].text = (unichar_t *) _(&quot;Underline _Position:&quot;);</span>
<span class="lineNum">    7975 </span><span class="lineNoCov">          0 :     pslabel[11].text_is_1byte = true;</span>
<span class="lineNum">    7976 </span><span class="lineNoCov">          0 :     pslabel[11].text_in_resource = true;</span>
<span class="lineNum">    7977 </span><span class="lineNoCov">          0 :     psgcd[11].gd.label = &amp;pslabel[11];</span>
<span class="lineNum">    7978 </span><span class="lineNoCov">          0 :     psgcd[11].creator = GLabelCreate;</span>
<span class="lineNum">    7979 </span>            : 
<span class="lineNum">    7980 </span><span class="lineNoCov">          0 :     psgcd[10].gd.pos.x = 103; psgcd[10].gd.pos.y = psgcd[11].gd.pos.y-6; psgcd[10].gd.pos.width = 47;</span>
<span class="lineNum">    7981 </span><span class="lineNoCov">          0 :     psgcd[10].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7982 </span><span class="lineNoCov">          0 :     sprintf( upbuf, &quot;%g&quot;, (double) sf-&gt;upos );</span>
<span class="lineNum">    7983 </span><span class="lineNoCov">          0 :     pslabel[10].text = (unichar_t *) upbuf;</span>
<span class="lineNum">    7984 </span><span class="lineNoCov">          0 :     pslabel[10].text_is_1byte = true;</span>
<span class="lineNum">    7985 </span><span class="lineNoCov">          0 :     psgcd[10].gd.label = &amp;pslabel[10];</span>
<span class="lineNum">    7986 </span><span class="lineNoCov">          0 :     psgcd[10].gd.cid = CID_UPos;</span>
<span class="lineNum">    7987 </span><span class="lineNoCov">          0 :     psgcd[10].creator = GTextFieldCreate;</span>
<span class="lineNum">    7988 </span>            : 
<span class="lineNum">    7989 </span><span class="lineNoCov">          0 :     psgcd[12].gd.pos.x = 155; psgcd[12].gd.pos.y = psgcd[11].gd.pos.y;</span>
<span class="lineNum">    7990 </span><span class="lineNoCov">          0 :     psgcd[12].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7991 </span><span class="lineNoCov">          0 :     pslabel[12].text = (unichar_t *) S_(&quot;Underline|_Height:&quot;);</span>
<span class="lineNum">    7992 </span><span class="lineNoCov">          0 :     pslabel[12].text_is_1byte = true;</span>
<span class="lineNum">    7993 </span><span class="lineNoCov">          0 :     pslabel[12].text_in_resource = true;</span>
<span class="lineNum">    7994 </span><span class="lineNoCov">          0 :     psgcd[12].gd.label = &amp;pslabel[12];</span>
<span class="lineNum">    7995 </span><span class="lineNoCov">          0 :     psgcd[12].creator = GLabelCreate;</span>
<span class="lineNum">    7996 </span>            : 
<span class="lineNum">    7997 </span><span class="lineNoCov">          0 :     psgcd[13].gd.pos.x = 200; psgcd[13].gd.pos.y = psgcd[10].gd.pos.y; psgcd[13].gd.pos.width = 47;</span>
<span class="lineNum">    7998 </span><span class="lineNoCov">          0 :     psgcd[13].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    7999 </span><span class="lineNoCov">          0 :     sprintf( uwbuf, &quot;%g&quot;, (double) sf-&gt;uwidth );</span>
<span class="lineNum">    8000 </span><span class="lineNoCov">          0 :     pslabel[13].text = (unichar_t *) uwbuf;</span>
<span class="lineNum">    8001 </span><span class="lineNoCov">          0 :     pslabel[13].text_is_1byte = true;</span>
<span class="lineNum">    8002 </span><span class="lineNoCov">          0 :     psgcd[13].gd.label = &amp;pslabel[13];</span>
<span class="lineNum">    8003 </span><span class="lineNoCov">          0 :     psgcd[13].gd.cid = CID_UWidth;</span>
<span class="lineNum">    8004 </span><span class="lineNoCov">          0 :     psgcd[13].creator = GTextFieldCreate;</span>
<span class="lineNum">    8005 </span>            : 
<span class="lineNum">    8006 </span><span class="lineNoCov">          0 :     psgcd[14].gd.pos.x = 12; psgcd[14].gd.pos.y = psgcd[13].gd.pos.y+26;</span>
<span class="lineNum">    8007 </span><span class="lineNoCov">          0 :     pslabel[14].text = (unichar_t *) _(&quot;Has _Vertical Metrics&quot;);</span>
<span class="lineNum">    8008 </span><span class="lineNoCov">          0 :     pslabel[14].text_is_1byte = true;</span>
<span class="lineNum">    8009 </span><span class="lineNoCov">          0 :     pslabel[14].text_in_resource = true;</span>
<span class="lineNum">    8010 </span><span class="lineNoCov">          0 :     psgcd[14].gd.label = &amp;pslabel[14];</span>
<span class="lineNum">    8011 </span><span class="lineNoCov">          0 :     psgcd[14].gd.cid = CID_HasVerticalMetrics;</span>
<span class="lineNum">    8012 </span><span class="lineNoCov">          0 :     psgcd[14].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8013 </span><span class="lineNoCov">          0 :     if ( sf-&gt;hasvmetrics )</span>
<span class="lineNum">    8014 </span><span class="lineNoCov">          0 :         psgcd[14].gd.flags |= gg_cb_on;</span>
<span class="lineNum">    8015 </span><span class="lineNoCov">          0 :     psgcd[14].gd.handle_controlevent = GFI_VMetricsCheck;</span>
<span class="lineNum">    8016 </span><span class="lineNoCov">          0 :     psgcd[14].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8017 </span><span class="lineNoCov">          0 :     k = 15;</span>
<span class="lineNum">    8018 </span>            : 
<span class="lineNum">    8019 </span><span class="lineNoCov">          0 :     psgcd[k].gd.pos.x = psgcd[k-2].gd.pos.x; psgcd[k].gd.pos.y = psgcd[k-1].gd.pos.y+32;</span>
<span class="lineNum">    8020 </span><span class="lineNoCov">          0 :     psgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8021 </span><span class="lineNoCov">          0 :     pslabel[k].text = (unichar_t *) _(&quot;Interpretation:&quot;);</span>
<span class="lineNum">    8022 </span><span class="lineNoCov">          0 :     pslabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8023 </span><span class="lineNoCov">          0 :     pslabel[k].text_in_resource = true;</span>
<span class="lineNum">    8024 </span><span class="lineNoCov">          0 :     psgcd[k].gd.label = &amp;pslabel[k];</span>
<span class="lineNum">    8025 </span><span class="lineNoCov">          0 :     psgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">    8026 </span>            : 
<span class="lineNum">    8027 </span><span class="lineNoCov">          0 :     psgcd[k].gd.pos.x = psgcd[k-2].gd.pos.x; psgcd[k].gd.pos.y = psgcd[k-1].gd.pos.y-6;</span>
<span class="lineNum">    8028 </span><span class="lineNoCov">          0 :     psgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8029 </span><span class="lineNoCov">          0 :     psgcd[k].gd.u.list = interpretations;</span>
<span class="lineNum">    8030 </span><span class="lineNoCov">          0 :     psgcd[k].gd.cid = CID_Interpretation;</span>
<span class="lineNum">    8031 </span><span class="lineNoCov">          0 :     psgcd[k].creator = GListButtonCreate;</span>
<span class="lineNum">    8032 </span><span class="lineNoCov">          0 :     for ( i=0; interpretations[i].text!=NULL || interpretations[i].line; ++i ) {</span>
<span class="lineNum">    8033 </span><span class="lineNoCov">          0 :         if ( (void *) (sf-&gt;uni_interp)==interpretations[i].userdata &amp;&amp;</span>
<span class="lineNum">    8034 </span><span class="lineNoCov">          0 :                 interpretations[i].text!=NULL ) {</span>
<span class="lineNum">    8035 </span><span class="lineNoCov">          0 :             interpretations[i].selected = true;</span>
<span class="lineNum">    8036 </span><span class="lineNoCov">          0 :             psgcd[k].gd.label = &amp;interpretations[i];</span>
<span class="lineNum">    8037 </span>            :         } else
<span class="lineNum">    8038 </span><span class="lineNoCov">          0 :             interpretations[i].selected = false;</span>
<span class="lineNum">    8039 </span>            :     }
<span class="lineNum">    8040 </span><span class="lineNoCov">          0 :     ++k;</span>
<span class="lineNum">    8041 </span>            : 
<span class="lineNum">    8042 </span><span class="lineNoCov">          0 :     psgcd[k].gd.pos.x = psgcd[k-2].gd.pos.x; psgcd[k].gd.pos.y = psgcd[k-1].gd.pos.y+32;</span>
<span class="lineNum">    8043 </span><span class="lineNoCov">          0 :     psgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8044 </span><span class="lineNoCov">          0 :     pslabel[k].text = (unichar_t *) _(&quot;Name List:&quot;);</span>
<span class="lineNum">    8045 </span><span class="lineNoCov">          0 :     pslabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8046 </span><span class="lineNoCov">          0 :     pslabel[k].text_in_resource = true;</span>
<span class="lineNum">    8047 </span><span class="lineNoCov">          0 :     psgcd[k].gd.label = &amp;pslabel[k];</span>
<span class="lineNum">    8048 </span><span class="lineNoCov">          0 :     psgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">    8049 </span>            : 
<span class="lineNum">    8050 </span><span class="lineNoCov">          0 :     psgcd[k].gd.pos.x = psgcd[k-2].gd.pos.x; psgcd[k].gd.pos.y = psgcd[k-1].gd.pos.y-6;</span>
<span class="lineNum">    8051 </span><span class="lineNoCov">          0 :     psgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8052 </span><span class="lineNoCov">          0 :     psgcd[k].gd.cid = CID_Namelist;</span>
<span class="lineNum">    8053 </span><span class="lineNoCov">          0 :     psgcd[k].creator = GListButtonCreate;</span>
<span class="lineNum">    8054 </span><span class="lineNoCov">          0 :     nlnames = AllNamelistNames();</span>
<span class="lineNum">    8055 </span><span class="lineNoCov">          0 :     for ( i=0; nlnames[i]!=NULL; ++i);</span>
<span class="lineNum">    8056 </span><span class="lineNoCov">          0 :     namelistnames = calloc(i+1,sizeof(GTextInfo));</span>
<span class="lineNum">    8057 </span><span class="lineNoCov">          0 :     for ( i=0; nlnames[i]!=NULL; ++i) {</span>
<span class="lineNum">    8058 </span><span class="lineNoCov">          0 :         namelistnames[i].text = (unichar_t *) nlnames[i];</span>
<span class="lineNum">    8059 </span><span class="lineNoCov">          0 :         namelistnames[i].text_is_1byte = true;</span>
<span class="lineNum">    8060 </span><span class="lineNoCov">          0 :         if ( strcmp(_(sf-&gt;for_new_glyphs-&gt;title),nlnames[i])==0 ) {</span>
<span class="lineNum">    8061 </span><span class="lineNoCov">          0 :             namelistnames[i].selected = true;</span>
<span class="lineNum">    8062 </span><span class="lineNoCov">          0 :             psgcd[k].gd.label = &amp;namelistnames[i];</span>
<span class="lineNum">    8063 </span>            :         }
<span class="lineNum">    8064 </span>            :     }
<span class="lineNum">    8065 </span><span class="lineNoCov">          0 :     psgcd[k++].gd.u.list = namelistnames;</span>
<span class="lineNum">    8066 </span><span class="lineNoCov">          0 :     free(nlnames);</span>
<span class="lineNum">    8067 </span>            : 
<span class="lineNum">    8068 </span>            : 
<span class="lineNum">    8069 </span><span class="lineNoCov">          0 :     if ( sf-&gt;subfontcnt!=0 ) {</span>
<span class="lineNum">    8070 </span><span class="lineNoCov">          0 :         for ( i=0; i&lt;=13; ++i )</span>
<span class="lineNum">    8071 </span><span class="lineNoCov">          0 :             psgcd[i].gd.flags &amp;= ~gg_enabled;</span>
<span class="lineNum">    8072 </span><span class="lineNoCov">          0 :     } else if ( sf-&gt;cidmaster!=NULL ) {</span>
<span class="lineNum">    8073 </span><span class="lineNoCov">          0 :         for ( i=14; i&lt;=16; ++i )</span>
<span class="lineNum">    8074 </span><span class="lineNoCov">          0 :             psgcd[i].gd.flags &amp;= ~gg_enabled;</span>
<span class="lineNum">    8075 </span>            :     }
<span class="lineNum">    8076 </span>            : 
<span class="lineNum">    8077 </span><span class="lineNoCov">          0 :     psarray[0] = &amp;psb2[0];</span>
<span class="lineNum">    8078 </span><span class="lineNoCov">          0 :     psarray[1] = &amp;psgcd[14];</span>
<span class="lineNum">    8079 </span><span class="lineNoCov">          0 :     j=2;</span>
<span class="lineNum">    8080 </span><span class="lineNoCov">          0 :     psarray[j++] = &amp;psb2[1];</span>
<span class="lineNum">    8081 </span><span class="lineNoCov">          0 :     psrow = j;</span>
<span class="lineNum">    8082 </span><span class="lineNoCov">          0 :     psarray[j++] = GCD_Glue;</span>
<span class="lineNum">    8083 </span><span class="lineNoCov">          0 :     psarray[j++] = NULL;</span>
<span class="lineNum">    8084 </span>            : 
<span class="lineNum">    8085 </span><span class="lineNoCov">          0 :     psarray2[0] = &amp;psgcd[0]; psarray2[1] = &amp;psgcd[1]; psarray2[2] = &amp;psgcd[2]; psarray2[3] = &amp;psgcd[3]; psarray2[4] = NULL;</span>
<span class="lineNum">    8086 </span><span class="lineNoCov">          0 :     psarray2[5] = &amp;psgcd[4]; psarray2[6] = &amp;psgcd[5]; psarray2[7] = &amp;psgcd[6]; psarray2[8] = GCD_ColSpan; psarray2[9] = NULL;</span>
<span class="lineNum">    8087 </span><span class="lineNoCov">          0 :     psarray2[10] = &amp;psgcd[8]; psarray2[11] = &amp;psgcd[7]; psarray2[12] = &amp;psgcd[9]; psarray2[13] = GCD_ColSpan; psarray2[14] = NULL;</span>
<span class="lineNum">    8088 </span><span class="lineNoCov">          0 :     psarray2[15] = &amp;psgcd[11]; psarray2[16] = &amp;psgcd[10]; psarray2[17] = &amp;psgcd[12]; psarray2[18] = &amp;psgcd[13]; psarray2[19] = NULL;</span>
<span class="lineNum">    8089 </span><span class="lineNoCov">          0 :     psarray2[20] = NULL;</span>
<span class="lineNum">    8090 </span>            : 
<span class="lineNum">    8091 </span><span class="lineNoCov">          0 :     psarray4[0] = &amp;psgcd[k-4]; psarray4[1] = &amp;psgcd[k-3]; psarray4[2] = NULL;</span>
<span class="lineNum">    8092 </span><span class="lineNoCov">          0 :     psarray4[3] = &amp;psgcd[k-2]; psarray4[4] = &amp;psgcd[k-1]; psarray4[5] = NULL;</span>
<span class="lineNum">    8093 </span><span class="lineNoCov">          0 :     psarray4[6] = NULL;</span>
<span class="lineNum">    8094 </span>            : 
<span class="lineNum">    8095 </span><span class="lineNoCov">          0 :     memset(psb,0,sizeof(psb));</span>
<span class="lineNum">    8096 </span><span class="lineNoCov">          0 :     psb[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    8097 </span><span class="lineNoCov">          0 :     psb[0].gd.u.boxelements = psarray;</span>
<span class="lineNum">    8098 </span><span class="lineNoCov">          0 :     psb[0].creator = GVBoxCreate;</span>
<span class="lineNum">    8099 </span>            : 
<span class="lineNum">    8100 </span><span class="lineNoCov">          0 :     memset(psb2,0,sizeof(psb2));</span>
<span class="lineNum">    8101 </span><span class="lineNoCov">          0 :     psb2[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    8102 </span><span class="lineNoCov">          0 :     psb2[0].gd.u.boxelements = psarray2;</span>
<span class="lineNum">    8103 </span><span class="lineNoCov">          0 :     psb2[0].creator = GHVBoxCreate;</span>
<span class="lineNum">    8104 </span>            : 
<span class="lineNum">    8105 </span><span class="lineNoCov">          0 :     psb2[1].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    8106 </span><span class="lineNoCov">          0 :     psb2[1].gd.u.boxelements = psarray4;</span>
<span class="lineNum">    8107 </span><span class="lineNoCov">          0 :     psb2[1].creator = GHVBoxCreate;</span>
<span class="lineNum">    8108 </span>            : /******************************************************************************/
<span class="lineNum">    8109 </span>            : 
<span class="lineNum">    8110 </span><span class="lineNoCov">          0 :     memset(&amp;llabel,0,sizeof(llabel));</span>
<span class="lineNum">    8111 </span><span class="lineNoCov">          0 :     memset(&amp;lgcd,0,sizeof(lgcd));</span>
<span class="lineNum">    8112 </span><span class="lineNoCov">          0 :     memset(&amp;lbox,0,sizeof(lbox));</span>
<span class="lineNum">    8113 </span>            : 
<span class="lineNum">    8114 </span><span class="lineNoCov">          0 :     ltype = -1;</span>
<span class="lineNum">    8115 </span><span class="lineNoCov">          0 :     for ( j=0; j&lt;sf-&gt;layer_cnt; ++j ) {</span>
<span class="lineNum">    8116 </span><span class="lineNoCov">          0 :         if ( ltype==-1 )</span>
<span class="lineNum">    8117 </span><span class="lineNoCov">          0 :             ltype = sf-&gt;layers[j].order2;</span>
<span class="lineNum">    8118 </span><span class="lineNoCov">          0 :         else if ( ltype!=sf-&gt;layers[j].order2 )</span>
<span class="lineNum">    8119 </span><span class="lineNoCov">          0 :             ltype = -2;</span>
<span class="lineNum">    8120 </span>            :     }
<span class="lineNum">    8121 </span>            : 
<span class="lineNum">    8122 </span><span class="lineNoCov">          0 :     k = j = 0;</span>
<span class="lineNum">    8123 </span>            : 
<span class="lineNum">    8124 </span><span class="lineNoCov">          0 :     lgcd[k].gd.pos.x = 12; lgcd[k].gd.pos.y = 0;</span>
<span class="lineNum">    8125 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) _(&quot;Font Type:&quot;);</span>
<span class="lineNum">    8126 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8127 </span><span class="lineNoCov">          0 :     llabel[k].text_in_resource = true;</span>
<span class="lineNum">    8128 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8129 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = (gg_visible | gg_enabled);</span>
<span class="lineNum">    8130 </span><span class="lineNoCov">          0 :     lgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">    8131 </span><span class="lineNoCov">          0 :     larray2[j++] = &amp;lgcd[k-1]; larray2[j++] = GCD_ColSpan; larray2[j++] = GCD_Glue; larray2[j++] = GCD_Glue; larray2[j++] = NULL;</span>
<span class="lineNum">    8132 </span>            : 
<span class="lineNum">    8133 </span><span class="lineNoCov">          0 :     lgcd[k].gd.pos.x = 12; lgcd[k].gd.pos.y = lgcd[k-1].gd.pos.y+k;</span>
<span class="lineNum">    8134 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) _(&quot;_Outline Font&quot;);</span>
<span class="lineNum">    8135 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8136 </span><span class="lineNoCov">          0 :     llabel[k].text_in_resource = true;</span>
<span class="lineNum">    8137 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8138 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = (!sf-&gt;strokedfont &amp;&amp; !sf-&gt;multilayer)?</span>
<span class="lineNum">    8139 </span>            :             (gg_visible | gg_enabled | gg_cb_on) : (gg_visible | gg_enabled);
<span class="lineNum">    8140 </span><span class="lineNoCov">          0 :     lgcd[k].gd.handle_controlevent = GFI_Type3Change;</span>
<span class="lineNum">    8141 </span><span class="lineNoCov">          0 :     lgcd[k++].creator = GRadioCreate;</span>
<span class="lineNum">    8142 </span><span class="lineNoCov">          0 :     larray2[j++] = GCD_HPad10; larray2[j++] = &amp;lgcd[k-1]; larray2[j++] = GCD_Glue; larray2[j++] = GCD_Glue; larray2[j++] = NULL;</span>
<span class="lineNum">    8143 </span>            : 
<span class="lineNum">    8144 </span><span class="lineNoCov">          0 :     lgcd[k].gd.pos.x = 12; lgcd[k].gd.pos.y = lgcd[k-1].gd.pos.y+14;</span>
<span class="lineNum">    8145 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) _(&quot;_Type3 Multi Layered Font&quot;);</span>
<span class="lineNum">    8146 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8147 </span><span class="lineNoCov">          0 :     llabel[k].text_in_resource = true;</span>
<span class="lineNum">    8148 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8149 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = ltype!=0 ? (gg_visible | gg_utf8_popup | gg_rad_continueold) :</span>
<span class="lineNum">    8150 </span><span class="lineNoCov">          0 :         sf-&gt;multilayer ? (gg_visible | gg_enabled | gg_utf8_popup | gg_cb_on | gg_rad_continueold) :</span>
<span class="lineNum">    8151 </span>            :         (gg_visible | gg_enabled | gg_utf8_popup | gg_rad_continueold);
<span class="lineNum">    8152 </span><span class="lineNoCov">          0 :     lgcd[k].gd.cid = CID_IsMultiLayer;</span>
<span class="lineNum">    8153 </span><span class="lineNoCov">          0 :     lgcd[k].gd.handle_controlevent = GFI_Type3Change;</span>
<span class="lineNum">    8154 </span><span class="lineNoCov">          0 :     lgcd[k].creator = GRadioCreate;</span>
<span class="lineNum">    8155 </span><span class="lineNoCov">          0 :     lgcd[k++].gd.popup_msg = (unichar_t *) _(&quot;Allow editing of multiple colors and shades, fills and strokes.\nMulti layered fonts can only be output as type3 or svg fonts.&quot;);</span>
<span class="lineNum">    8156 </span><span class="lineNoCov">          0 :     larray2[j++] = GCD_HPad10; larray2[j++] = &amp;lgcd[k-1]; larray2[j++] = GCD_ColSpan; larray2[j++] = GCD_Glue; larray2[j++] = NULL;</span>
<span class="lineNum">    8157 </span>            : 
<span class="lineNum">    8158 </span><span class="lineNoCov">          0 :     lgcd[k].gd.pos.x = 12; lgcd[k].gd.pos.y = lgcd[k-1].gd.pos.y+14;</span>
<span class="lineNum">    8159 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) _(&quot;_Stroked Font&quot;);</span>
<span class="lineNum">    8160 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8161 </span><span class="lineNoCov">          0 :     llabel[k].text_in_resource = true;</span>
<span class="lineNum">    8162 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8163 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = sf-&gt;strokedfont ? (gg_visible | gg_enabled | gg_utf8_popup | gg_cb_on) : (gg_visible | gg_enabled | gg_utf8_popup);</span>
<span class="lineNum">    8164 </span><span class="lineNoCov">          0 :     lgcd[k].gd.cid = CID_IsStrokedFont;</span>
<span class="lineNum">    8165 </span><span class="lineNoCov">          0 :     lgcd[k].gd.handle_controlevent = GFI_Type3Change;</span>
<span class="lineNum">    8166 </span><span class="lineNoCov">          0 :     lgcd[k].creator = GRadioCreate;</span>
<span class="lineNum">    8167 </span><span class="lineNoCov">          0 :     lgcd[k++].gd.popup_msg = (unichar_t *) _(&quot;Glyphs will be composed of stroked lines rather than filled outlines.\nAll glyphs are stroked at the following width&quot;);</span>
<span class="lineNum">    8168 </span><span class="lineNoCov">          0 :     larray2[j++] = GCD_HPad10; larray2[j++] = &amp;lgcd[k-1];</span>
<span class="lineNum">    8169 </span>            : 
<span class="lineNum">    8170 </span><span class="lineNoCov">          0 :     lgcd[k].gd.pos.x = 12; lgcd[k].gd.pos.y = lgcd[k-1].gd.pos.y+20;</span>
<span class="lineNum">    8171 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) _(&quot;  Stroke _Width:&quot;);</span>
<span class="lineNum">    8172 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8173 </span><span class="lineNoCov">          0 :     llabel[k].text_in_resource = true;</span>
<span class="lineNum">    8174 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8175 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8176 </span><span class="lineNoCov">          0 :     lgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">    8177 </span><span class="lineNoCov">          0 :     larray2[j++] = &amp;lgcd[k-1];</span>
<span class="lineNum">    8178 </span>            : 
<span class="lineNum">    8179 </span><span class="lineNoCov">          0 :     sprintf( swbuf,&quot;%g&quot;, (double) sf-&gt;strokewidth );</span>
<span class="lineNum">    8180 </span><span class="lineNoCov">          0 :     lgcd[k].gd.pos.x = 115; lgcd[k].gd.pos.y = lgcd[k-1].gd.pos.y-6; lgcd[k].gd.pos.width = 137;</span>
<span class="lineNum">    8181 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8182 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) swbuf;</span>
<span class="lineNum">    8183 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8184 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8185 </span><span class="lineNoCov">          0 :     lgcd[k].gd.cid = CID_StrokeWidth;</span>
<span class="lineNum">    8186 </span><span class="lineNoCov">          0 :     lgcd[k++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8187 </span><span class="lineNoCov">          0 :     larray2[j++] = &amp;lgcd[k-1]; larray2[j++] = NULL; larray2[j++] = NULL;</span>
<span class="lineNum">    8188 </span>            : 
<span class="lineNum">    8189 </span><span class="lineNoCov">          0 :     lbox[2].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    8190 </span><span class="lineNoCov">          0 :     lbox[2].gd.u.boxelements = larray2;</span>
<span class="lineNum">    8191 </span><span class="lineNoCov">          0 :     lbox[2].creator = GHVBoxCreate;</span>
<span class="lineNum">    8192 </span><span class="lineNoCov">          0 :     larray[0] = &amp;lbox[2]; larray[1] = NULL;</span>
<span class="lineNum">    8193 </span>            : 
<span class="lineNum">    8194 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) _(&quot;All layers _cubic&quot;);</span>
<span class="lineNum">    8195 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8196 </span><span class="lineNoCov">          0 :     llabel[k].text_in_resource = true;</span>
<span class="lineNum">    8197 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8198 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = ltype==0 || sf-&gt;multilayer ?</span>
<span class="lineNum">    8199 </span>            :         (gg_visible | gg_enabled | gg_cb_on | gg_utf8_popup) :
<span class="lineNum">    8200 </span>            :         (gg_visible | gg_enabled | gg_utf8_popup);
<span class="lineNum">    8201 </span><span class="lineNoCov">          0 :     lgcd[k].gd.cid = CID_IsOrder3;</span>
<span class="lineNum">    8202 </span><span class="lineNoCov">          0 :     lgcd[k].gd.handle_controlevent = GFI_OrderChange;</span>
<span class="lineNum">    8203 </span><span class="lineNoCov">          0 :     lgcd[k].creator = GRadioCreate;</span>
<span class="lineNum">    8204 </span><span class="lineNoCov">          0 :     lgcd[k++].gd.popup_msg = (unichar_t *) _(</span>
<span class="lineNum">    8205 </span>            :         &quot;Use cubic (that is postscript) splines to hold the outlines of all\n&quot;
<span class="lineNum">    8206 </span>            :         &quot;layers of this font. Cubic splines are generally easier to edit\n&quot;
<span class="lineNum">    8207 </span>            :         &quot;than quadratic (and you may still generate a truetype font from them).&quot;);
<span class="lineNum">    8208 </span>            : 
<span class="lineNum">    8209 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) _(&quot;All layers _quadratic&quot;);</span>
<span class="lineNum">    8210 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8211 </span><span class="lineNoCov">          0 :     llabel[k].text_in_resource = true;</span>
<span class="lineNum">    8212 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8213 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = sf-&gt;multilayer ? (gg_visible | gg_utf8_popup) :</span>
<span class="lineNum">    8214 </span>            :             ltype==1 ? (gg_visible | gg_enabled | gg_cb_on | gg_utf8_popup) :
<span class="lineNum">    8215 </span>            :                 (gg_visible | gg_enabled | gg_utf8_popup);
<span class="lineNum">    8216 </span><span class="lineNoCov">          0 :     lgcd[k].gd.cid = CID_IsOrder2;</span>
<span class="lineNum">    8217 </span><span class="lineNoCov">          0 :     lgcd[k].gd.handle_controlevent = GFI_OrderChange;</span>
<span class="lineNum">    8218 </span><span class="lineNoCov">          0 :     lgcd[k].creator = GRadioCreate;</span>
<span class="lineNum">    8219 </span><span class="lineNoCov">          0 :     lgcd[k++].gd.popup_msg = (unichar_t *) _(</span>
<span class="lineNum">    8220 </span>            :         &quot;Use quadratic (that is truetype) splines to hold the outlines of all\n&quot;
<span class="lineNum">    8221 </span>            :         &quot;layers of this font rather than cubic (postscript) splines.&quot;);
<span class="lineNum">    8222 </span>            : 
<span class="lineNum">    8223 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) _(&quot;_Mixed&quot;);</span>
<span class="lineNum">    8224 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8225 </span><span class="lineNoCov">          0 :     llabel[k].text_in_resource = true;</span>
<span class="lineNum">    8226 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8227 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = sf-&gt;multilayer ? (gg_visible | gg_utf8_popup) :</span>
<span class="lineNum">    8228 </span>            :             ltype&lt;0 ? (gg_visible | gg_enabled | gg_cb_on | gg_utf8_popup) :
<span class="lineNum">    8229 </span>            :                 (gg_visible | gg_enabled | gg_utf8_popup);
<span class="lineNum">    8230 </span><span class="lineNoCov">          0 :     lgcd[k].gd.handle_controlevent = GFI_OrderChange;</span>
<span class="lineNum">    8231 </span><span class="lineNoCov">          0 :     lgcd[k].gd.cid = CID_IsMixed;</span>
<span class="lineNum">    8232 </span><span class="lineNoCov">          0 :     lgcd[k].creator = GRadioCreate;</span>
<span class="lineNum">    8233 </span><span class="lineNoCov">          0 :     lgcd[k++].gd.popup_msg = (unichar_t *) _(</span>
<span class="lineNum">    8234 </span>            :         &quot;The order of each layer of the font can be controlled\n&quot;
<span class="lineNum">    8235 </span>            :         &quot;individually. This might be useful if you wished to\n&quot;
<span class="lineNum">    8236 </span>            :         &quot;retain both quadratic and cubic versions of a font.&quot;);
<span class="lineNum">    8237 </span><span class="lineNoCov">          0 :     larray3[0] = &amp;lgcd[k-3]; larray3[1] = &amp;lgcd[k-2]; larray3[2] = &amp;lgcd[k-1]; larray3[3] = GCD_Glue; larray3[4] = NULL;</span>
<span class="lineNum">    8238 </span>            : 
<span class="lineNum">    8239 </span><span class="lineNoCov">          0 :     lbox[3].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    8240 </span><span class="lineNoCov">          0 :     lbox[3].gd.u.boxelements = larray3;</span>
<span class="lineNum">    8241 </span><span class="lineNoCov">          0 :     lbox[3].creator = GHBoxCreate;</span>
<span class="lineNum">    8242 </span><span class="lineNoCov">          0 :     larray[2] = GCD_HPad10; larray[3] = NULL;</span>
<span class="lineNum">    8243 </span><span class="lineNoCov">          0 :     larray[4] = &amp;lbox[3]; larray[5] = NULL;</span>
<span class="lineNum">    8244 </span>            : 
<span class="lineNum">    8245 </span><span class="lineNoCov">          0 :     lgcd[k].gd.pos.x = 12; lgcd[k].gd.pos.y = 0;</span>
<span class="lineNum">    8246 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) _(&quot;Guidelines:&quot;);</span>
<span class="lineNum">    8247 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8248 </span><span class="lineNoCov">          0 :     llabel[k].text_in_resource = true;</span>
<span class="lineNum">    8249 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8250 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = (gg_visible | gg_enabled);</span>
<span class="lineNum">    8251 </span><span class="lineNoCov">          0 :     lgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">    8252 </span><span class="lineNoCov">          0 :     larray4[0] = &amp;lgcd[k-1];</span>
<span class="lineNum">    8253 </span>            : 
<span class="lineNum">    8254 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) _(&quot;Quadratic&quot;);</span>
<span class="lineNum">    8255 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8256 </span><span class="lineNoCov">          0 :     llabel[k].text_in_resource = true;</span>
<span class="lineNum">    8257 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8258 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = sf-&gt;multilayer || ltype&gt;=0 ? (gg_visible | gg_utf8_popup ) :</span>
<span class="lineNum">    8259 </span>            :             (gg_visible | gg_enabled | gg_utf8_popup);
<span class="lineNum">    8260 </span><span class="lineNoCov">          0 :     if ( sf-&gt;grid.order2 )</span>
<span class="lineNum">    8261 </span><span class="lineNoCov">          0 :         lgcd[k].gd.flags |= gg_cb_on;</span>
<span class="lineNum">    8262 </span><span class="lineNoCov">          0 :     lgcd[k].gd.cid = CID_GuideOrder2;</span>
<span class="lineNum">    8263 </span><span class="lineNoCov">          0 :     lgcd[k].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8264 </span><span class="lineNoCov">          0 :     lgcd[k++].gd.popup_msg = (unichar_t *) _(</span>
<span class="lineNum">    8265 </span>            :         &quot;Use quadratic splines for the guidelines layer of the font&quot;);
<span class="lineNum">    8266 </span><span class="lineNoCov">          0 :     larray4[1] = &amp;lgcd[k-1]; larray4[2] = GCD_Glue; larray4[3] = NULL;</span>
<span class="lineNum">    8267 </span>            : 
<span class="lineNum">    8268 </span><span class="lineNoCov">          0 :     lbox[4].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    8269 </span><span class="lineNoCov">          0 :     lbox[4].gd.u.boxelements = larray4;</span>
<span class="lineNum">    8270 </span><span class="lineNoCov">          0 :     lbox[4].creator = GHBoxCreate;</span>
<span class="lineNum">    8271 </span><span class="lineNoCov">          0 :     larray[6] = &amp;lbox[4]; larray[7] = NULL;</span>
<span class="lineNum">    8272 </span>            : 
<span class="lineNum">    8273 </span><span class="lineNoCov">          0 :     lgcd[k].gd.pos.x = 12; lgcd[k].gd.pos.y = 0;</span>
<span class="lineNum">    8274 </span><span class="lineNoCov">          0 :     llabel[k].text = (unichar_t *) _(&quot;\nLayers:&quot;);</span>
<span class="lineNum">    8275 </span><span class="lineNoCov">          0 :     llabel[k].text_is_1byte = true;</span>
<span class="lineNum">    8276 </span><span class="lineNoCov">          0 :     llabel[k].text_in_resource = true;</span>
<span class="lineNum">    8277 </span><span class="lineNoCov">          0 :     lgcd[k].gd.label = &amp;llabel[k];</span>
<span class="lineNum">    8278 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = (gg_visible | gg_enabled);</span>
<span class="lineNum">    8279 </span><span class="lineNoCov">          0 :     lgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">    8280 </span><span class="lineNoCov">          0 :     larray[8] = &amp;lgcd[k-1]; larray[9] = NULL;</span>
<span class="lineNum">    8281 </span>            : 
<span class="lineNum">    8282 </span><span class="lineNoCov">          0 :     LayersMatrixInit(&amp;layersmi,d);</span>
<span class="lineNum">    8283 </span>            : 
<span class="lineNum">    8284 </span><span class="lineNoCov">          0 :     lgcd[k].gd.pos.width = 300; lgcd[k].gd.pos.height = 180;</span>
<span class="lineNum">    8285 </span><span class="lineNoCov">          0 :     lgcd[k].gd.flags = sf-&gt;multilayer ? gg_visible : (gg_enabled | gg_visible);</span>
<span class="lineNum">    8286 </span><span class="lineNoCov">          0 :     lgcd[k].gd.cid = CID_Backgrounds;</span>
<span class="lineNum">    8287 </span><span class="lineNoCov">          0 :     lgcd[k].gd.u.matrix = &amp;layersmi;</span>
<span class="lineNum">    8288 </span><span class="lineNoCov">          0 :     lgcd[k].data = d;</span>
<span class="lineNum">    8289 </span><span class="lineNoCov">          0 :     lgcd[k++].creator = GMatrixEditCreate;</span>
<span class="lineNum">    8290 </span><span class="lineNoCov">          0 :     larray[10] = &amp;lgcd[k-1]; larray[11] = NULL; larray[12] = NULL;</span>
<span class="lineNum">    8291 </span>            : 
<span class="lineNum">    8292 </span><span class="lineNoCov">          0 :     lbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    8293 </span><span class="lineNoCov">          0 :     lbox[0].gd.u.boxelements = larray;</span>
<span class="lineNum">    8294 </span><span class="lineNoCov">          0 :     lbox[0].creator = GHVGroupCreate;</span>
<span class="lineNum">    8295 </span>            : 
<span class="lineNum">    8296 </span>            : /******************************************************************************/
<span class="lineNum">    8297 </span>            : 
<span class="lineNum">    8298 </span><span class="lineNoCov">          0 :     memset(&amp;plabel,0,sizeof(plabel));</span>
<span class="lineNum">    8299 </span><span class="lineNoCov">          0 :     memset(&amp;pgcd,0,sizeof(pgcd));</span>
<span class="lineNum">    8300 </span>            : 
<span class="lineNum">    8301 </span><span class="lineNoCov">          0 :     PSPrivate_MatrixInit(&amp;private_mi,d);</span>
<span class="lineNum">    8302 </span>            : 
<span class="lineNum">    8303 </span><span class="lineNoCov">          0 :     i=0;</span>
<span class="lineNum">    8304 </span><span class="lineNoCov">          0 :     pgcd[i].gd.pos.width = 300; pgcd[i].gd.pos.height = 200;</span>
<span class="lineNum">    8305 </span><span class="lineNoCov">          0 :     pgcd[i].gd.flags = gg_enabled | gg_visible | gg_utf8_popup;</span>
<span class="lineNum">    8306 </span><span class="lineNoCov">          0 :     pgcd[i].gd.cid = CID_Private;</span>
<span class="lineNum">    8307 </span><span class="lineNoCov">          0 :     pgcd[i].gd.u.matrix = &amp;private_mi;</span>
<span class="lineNum">    8308 </span><span class="lineNoCov">          0 :     pgcd[i].gd.popup_msg = (unichar_t *) _(</span>
<span class="lineNum">    8309 </span>            :         &quot;The PostScript 'Private' dictionary gives you control over\n&quot;
<span class="lineNum">    8310 </span>            :         &quot;several font-wide versions of hinting.\n&quot;
<span class="lineNum">    8311 </span>            :         &quot;The 'Private' dictionary only applies to PostScript fonts.&quot;);
<span class="lineNum">    8312 </span><span class="lineNoCov">          0 :     pgcd[i].data = d;</span>
<span class="lineNum">    8313 </span><span class="lineNoCov">          0 :     pgcd[i++].creator = GMatrixEditCreate;</span>
<span class="lineNum">    8314 </span><span class="lineNoCov">          0 :     pparray[0] = &amp;pgcd[0]; pparray[1] = NULL;</span>
<span class="lineNum">    8315 </span>            : 
<span class="lineNum">    8316 </span><span class="lineNoCov">          0 :     memset(ppbox,0,sizeof(ppbox));</span>
<span class="lineNum">    8317 </span><span class="lineNoCov">          0 :     ppbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    8318 </span><span class="lineNoCov">          0 :     ppbox[0].gd.u.boxelements = pparray;</span>
<span class="lineNum">    8319 </span><span class="lineNoCov">          0 :     ppbox[0].creator = GVBoxCreate;</span>
<span class="lineNum">    8320 </span>            : 
<span class="lineNum">    8321 </span>            : 
<span class="lineNum">    8322 </span><span class="lineNoCov">          0 :     memset(&amp;privatelabel_def,0,sizeof(privatelabel_def));</span>
<span class="lineNum">    8323 </span><span class="lineNoCov">          0 :     memset(&amp;privategcd_def,0,sizeof(privategcd_def));</span>
<span class="lineNum">    8324 </span><span class="lineNoCov">          0 :     privategcd_def[0].gd.flags = gg_visible ;</span>
<span class="lineNum">    8325 </span><span class="lineNoCov">          0 :     privatelabel_def[0].text = (unichar_t *) _(&quot;_Guess&quot;);</span>
<span class="lineNum">    8326 </span><span class="lineNoCov">          0 :     privatelabel_def[0].text_is_1byte = true;</span>
<span class="lineNum">    8327 </span><span class="lineNoCov">          0 :     privatelabel_def[0].text_in_resource = true;</span>
<span class="lineNum">    8328 </span><span class="lineNoCov">          0 :     privategcd_def[0].gd.label = &amp;privatelabel_def[0];</span>
<span class="lineNum">    8329 </span><span class="lineNoCov">          0 :     privategcd_def[0].gd.handle_controlevent = PI_Guess;</span>
<span class="lineNum">    8330 </span><span class="lineNoCov">          0 :     privategcd_def[0].gd.cid = CID_Guess;</span>
<span class="lineNum">    8331 </span><span class="lineNoCov">          0 :     privategcd_def[0].creator = GButtonCreate;</span>
<span class="lineNum">    8332 </span>            : 
<span class="lineNum">    8333 </span><span class="lineNoCov">          0 :     privategcd_def[1].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">    8334 </span><span class="lineNoCov">          0 :     privatelabel_def[1].text = (unichar_t *) _(&quot;_Histogram&quot;);</span>
<span class="lineNum">    8335 </span><span class="lineNoCov">          0 :     privatelabel_def[1].text_is_1byte = true;</span>
<span class="lineNum">    8336 </span><span class="lineNoCov">          0 :     privatelabel_def[1].text_in_resource = true;</span>
<span class="lineNum">    8337 </span><span class="lineNoCov">          0 :     privategcd_def[1].gd.label = &amp;privatelabel_def[1];</span>
<span class="lineNum">    8338 </span><span class="lineNoCov">          0 :     privategcd_def[1].gd.handle_controlevent = PI_Hist;</span>
<span class="lineNum">    8339 </span><span class="lineNoCov">          0 :     privategcd_def[1].gd.cid = CID_Hist;</span>
<span class="lineNum">    8340 </span><span class="lineNoCov">          0 :     privategcd_def[1].gd.popup_msg = (unichar_t *) _(&quot;Histogram Dialog&quot;);</span>
<span class="lineNum">    8341 </span><span class="lineNoCov">          0 :     privategcd_def[1].creator = GButtonCreate;</span>
<span class="lineNum">    8342 </span>            : 
<span class="lineNum">    8343 </span>            : /******************************************************************************/
<span class="lineNum">    8344 </span><span class="lineNoCov">          0 :     memset(&amp;vlabel,0,sizeof(vlabel));</span>
<span class="lineNum">    8345 </span><span class="lineNoCov">          0 :     memset(&amp;vgcd,0,sizeof(vgcd));</span>
<span class="lineNum">    8346 </span>            : 
<span class="lineNum">    8347 </span><span class="lineNoCov">          0 :     vgcd[0].gd.pos.x = 10; vgcd[0].gd.pos.y = 12;</span>
<span class="lineNum">    8348 </span><span class="lineNoCov">          0 :     vlabel[0].text = (unichar_t *) _(&quot;_Weight Class&quot;);</span>
<span class="lineNum">    8349 </span><span class="lineNoCov">          0 :     vlabel[0].text_is_1byte = true;</span>
<span class="lineNum">    8350 </span><span class="lineNoCov">          0 :     vlabel[0].text_in_resource = true;</span>
<span class="lineNum">    8351 </span><span class="lineNoCov">          0 :     vgcd[0].gd.label = &amp;vlabel[0];</span>
<span class="lineNum">    8352 </span><span class="lineNoCov">          0 :     vgcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8353 </span><span class="lineNoCov">          0 :     vgcd[0].creator = GLabelCreate;</span>
<span class="lineNum">    8354 </span>            : 
<span class="lineNum">    8355 </span><span class="lineNoCov">          0 :     vgcd[1].gd.pos.x = 90; vgcd[1].gd.pos.y = vgcd[0].gd.pos.y-6; vgcd[1].gd.pos.width = 140;</span>
<span class="lineNum">    8356 </span><span class="lineNoCov">          0 :     vgcd[1].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8357 </span><span class="lineNoCov">          0 :     vgcd[1].gd.cid = CID_WeightClass;</span>
<span class="lineNum">    8358 </span><span class="lineNoCov">          0 :     vgcd[1].gd.u.list = weightclass;</span>
<span class="lineNum">    8359 </span><span class="lineNoCov">          0 :     vgcd[1].creator = GListFieldCreate;</span>
<span class="lineNum">    8360 </span>            : 
<span class="lineNum">    8361 </span><span class="lineNoCov">          0 :     vgcd[2].gd.pos.x = 10; vgcd[2].gd.pos.y = vgcd[1].gd.pos.y+26+6;</span>
<span class="lineNum">    8362 </span><span class="lineNoCov">          0 :     vlabel[2].text = (unichar_t *) _(&quot;Width _Class&quot;);</span>
<span class="lineNum">    8363 </span><span class="lineNoCov">          0 :     vlabel[2].text_is_1byte = true;</span>
<span class="lineNum">    8364 </span><span class="lineNoCov">          0 :     vlabel[2].text_in_resource = true;</span>
<span class="lineNum">    8365 </span><span class="lineNoCov">          0 :     vgcd[2].gd.label = &amp;vlabel[2];</span>
<span class="lineNum">    8366 </span><span class="lineNoCov">          0 :     vgcd[2].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8367 </span><span class="lineNoCov">          0 :     vgcd[2].creator = GLabelCreate;</span>
<span class="lineNum">    8368 </span>            : 
<span class="lineNum">    8369 </span><span class="lineNoCov">          0 :     vgcd[3].gd.pos.x = 90; vgcd[3].gd.pos.y = vgcd[2].gd.pos.y-6;</span>
<span class="lineNum">    8370 </span><span class="lineNoCov">          0 :     vgcd[3].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8371 </span><span class="lineNoCov">          0 :     vgcd[3].gd.cid = CID_WidthClass;</span>
<span class="lineNum">    8372 </span><span class="lineNoCov">          0 :     vgcd[3].gd.u.list = widthclass;</span>
<span class="lineNum">    8373 </span><span class="lineNoCov">          0 :     vgcd[3].creator = GListButtonCreate;</span>
<span class="lineNum">    8374 </span>            : 
<span class="lineNum">    8375 </span><span class="lineNoCov">          0 :     vgcd[4].gd.pos.x = 10; vgcd[4].gd.pos.y = vgcd[3].gd.pos.y+26+6;</span>
<span class="lineNum">    8376 </span><span class="lineNoCov">          0 :     vlabel[4].text = (unichar_t *) _(&quot;P_FM Family&quot;);</span>
<span class="lineNum">    8377 </span><span class="lineNoCov">          0 :     vlabel[4].text_is_1byte = true;</span>
<span class="lineNum">    8378 </span><span class="lineNoCov">          0 :     vlabel[4].text_in_resource = true;</span>
<span class="lineNum">    8379 </span><span class="lineNoCov">          0 :     vgcd[4].gd.label = &amp;vlabel[4];</span>
<span class="lineNum">    8380 </span><span class="lineNoCov">          0 :     vgcd[4].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8381 </span><span class="lineNoCov">          0 :     vgcd[4].creator = GLabelCreate;</span>
<span class="lineNum">    8382 </span>            : 
<span class="lineNum">    8383 </span><span class="lineNoCov">          0 :     vgcd[5].gd.pos.x = 90; vgcd[5].gd.pos.y = vgcd[4].gd.pos.y-6; vgcd[5].gd.pos.width = 140;</span>
<span class="lineNum">    8384 </span><span class="lineNoCov">          0 :     vgcd[5].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8385 </span><span class="lineNoCov">          0 :     vgcd[5].gd.cid = CID_PFMFamily;</span>
<span class="lineNum">    8386 </span><span class="lineNoCov">          0 :     vgcd[5].gd.u.list = pfmfamily;</span>
<span class="lineNum">    8387 </span><span class="lineNoCov">          0 :     vgcd[5].creator = GListButtonCreate;</span>
<span class="lineNum">    8388 </span>            : 
<span class="lineNum">    8389 </span><span class="lineNoCov">          0 :     vgcd[6].gd.pos.x = 10; vgcd[6].gd.pos.y = vgcd[5].gd.pos.y+26+6;</span>
<span class="lineNum">    8390 </span><span class="lineNoCov">          0 :     vlabel[6].text = (unichar_t *) _(&quot;_Embeddable&quot;);</span>
<span class="lineNum">    8391 </span><span class="lineNoCov">          0 :     vlabel[6].text_is_1byte = true;</span>
<span class="lineNum">    8392 </span><span class="lineNoCov">          0 :     vlabel[6].text_in_resource = true;</span>
<span class="lineNum">    8393 </span><span class="lineNoCov">          0 :     vgcd[6].gd.label = &amp;vlabel[6];</span>
<span class="lineNum">    8394 </span><span class="lineNoCov">          0 :     vgcd[6].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8395 </span><span class="lineNoCov">          0 :     vgcd[6].gd.popup_msg = (unichar_t *) _(&quot;Can this font be embedded in a downloadable (pdf)\ndocument, and if so, what behaviors are permitted on\nboth the document and the font.&quot;);</span>
<span class="lineNum">    8396 </span><span class="lineNoCov">          0 :     vgcd[6].creator = GLabelCreate;</span>
<span class="lineNum">    8397 </span>            : 
<span class="lineNum">    8398 </span><span class="lineNoCov">          0 :     vgcd[7].gd.pos.x = 90; vgcd[7].gd.pos.y = vgcd[6].gd.pos.y-6;</span>
<span class="lineNum">    8399 </span><span class="lineNoCov">          0 :     vgcd[7].gd.pos.width = 140;</span>
<span class="lineNum">    8400 </span><span class="lineNoCov">          0 :     vgcd[7].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8401 </span><span class="lineNoCov">          0 :     vgcd[7].gd.cid = CID_FSType;</span>
<span class="lineNum">    8402 </span><span class="lineNoCov">          0 :     vgcd[7].gd.u.list = fstype;</span>
<span class="lineNum">    8403 </span><span class="lineNoCov">          0 :     vgcd[7].gd.popup_msg = vgcd[6].gd.popup_msg;</span>
<span class="lineNum">    8404 </span><span class="lineNoCov">          0 :     vgcd[7].creator = GListButtonCreate;</span>
<span class="lineNum">    8405 </span><span class="lineNoCov">          0 :     fstype[0].selected = fstype[1].selected =</span>
<span class="lineNum">    8406 </span><span class="lineNoCov">          0 :             fstype[2].selected = fstype[3].selected = false;</span>
<span class="lineNum">    8407 </span><span class="lineNoCov">          0 :     if ( sf-&gt;pfminfo.fstype == -1 )</span>
<span class="lineNum">    8408 </span><span class="lineNoCov">          0 :         i = 3;</span>
<span class="lineNum">    8409 </span><span class="lineNoCov">          0 :     else if ( sf-&gt;pfminfo.fstype&amp;0x8 )</span>
<span class="lineNum">    8410 </span><span class="lineNoCov">          0 :         i = 2;</span>
<span class="lineNum">    8411 </span><span class="lineNoCov">          0 :     else if ( sf-&gt;pfminfo.fstype&amp;0x4 )</span>
<span class="lineNum">    8412 </span><span class="lineNoCov">          0 :         i = 1;</span>
<span class="lineNum">    8413 </span><span class="lineNoCov">          0 :     else if ( sf-&gt;pfminfo.fstype&amp;0x2 )</span>
<span class="lineNum">    8414 </span><span class="lineNoCov">          0 :         i = 0;</span>
<span class="lineNum">    8415 </span>            :     else
<span class="lineNum">    8416 </span><span class="lineNoCov">          0 :         i = 3;</span>
<span class="lineNum">    8417 </span><span class="lineNoCov">          0 :     fstype[i].selected = true;</span>
<span class="lineNum">    8418 </span><span class="lineNoCov">          0 :     vgcd[7].gd.label = &amp;fstype[i];</span>
<span class="lineNum">    8419 </span>            : 
<span class="lineNum">    8420 </span><span class="lineNoCov">          0 :     vgcd[8].gd.pos.x = 20; vgcd[8].gd.pos.y = vgcd[7].gd.pos.y+26;</span>
<span class="lineNum">    8421 </span><span class="lineNoCov">          0 :     vlabel[8].text = (unichar_t *) _(&quot;No Subsetting&quot;);</span>
<span class="lineNum">    8422 </span><span class="lineNoCov">          0 :     vlabel[8].text_is_1byte = true;</span>
<span class="lineNum">    8423 </span><span class="lineNoCov">          0 :     vgcd[8].gd.label = &amp;vlabel[8];</span>
<span class="lineNum">    8424 </span><span class="lineNoCov">          0 :     vgcd[8].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8425 </span><span class="lineNoCov">          0 :     if ( sf-&gt;pfminfo.fstype!=-1 &amp;&amp; (sf-&gt;pfminfo.fstype&amp;0x100) )</span>
<span class="lineNum">    8426 </span><span class="lineNoCov">          0 :         vgcd[8].gd.flags |= gg_cb_on;</span>
<span class="lineNum">    8427 </span><span class="lineNoCov">          0 :     vgcd[8].gd.popup_msg = (unichar_t *) _(&quot;If set then the entire font must be\nembedded in a document when any character is.\nOtherwise the document creator need\nonly include the characters it uses.&quot;);</span>
<span class="lineNum">    8428 </span><span class="lineNoCov">          0 :     vgcd[8].gd.cid = CID_NoSubsetting;</span>
<span class="lineNum">    8429 </span><span class="lineNoCov">          0 :     vgcd[8].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8430 </span>            : 
<span class="lineNum">    8431 </span><span class="lineNoCov">          0 :     vgcd[9].gd.pos.x = 110; vgcd[9].gd.pos.y = vgcd[8].gd.pos.y;</span>
<span class="lineNum">    8432 </span><span class="lineNoCov">          0 :     vlabel[9].text = (unichar_t *) _(&quot;Only Embed Bitmaps&quot;);</span>
<span class="lineNum">    8433 </span><span class="lineNoCov">          0 :     vlabel[9].text_is_1byte = true;</span>
<span class="lineNum">    8434 </span><span class="lineNoCov">          0 :     vgcd[9].gd.label = &amp;vlabel[9];</span>
<span class="lineNum">    8435 </span><span class="lineNoCov">          0 :     vgcd[9].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8436 </span><span class="lineNoCov">          0 :     if ( sf-&gt;pfminfo.fstype!=-1 &amp;&amp; ( sf-&gt;pfminfo.fstype&amp;0x200 ))</span>
<span class="lineNum">    8437 </span><span class="lineNoCov">          0 :         vgcd[9].gd.flags |= gg_cb_on;</span>
<span class="lineNum">    8438 </span><span class="lineNoCov">          0 :     vgcd[9].gd.popup_msg = (unichar_t *) _(&quot;Only Bitmaps may be embedded.\nOutline descriptions may not be\n(if font file contains no bitmaps\nthen nothing may be embedded).&quot;);</span>
<span class="lineNum">    8439 </span><span class="lineNoCov">          0 :     vgcd[9].gd.cid = CID_OnlyBitmaps;</span>
<span class="lineNum">    8440 </span><span class="lineNoCov">          0 :     vgcd[9].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8441 </span>            : 
<span class="lineNum">    8442 </span><span class="lineNoCov">          0 :     vgcd[10].gd.pos.x = 10; vgcd[10].gd.pos.y = vgcd[9].gd.pos.y+24;</span>
<span class="lineNum">    8443 </span><span class="lineNoCov">          0 :     vlabel[10].text = (unichar_t *) _(&quot;Vendor ID:&quot;);</span>
<span class="lineNum">    8444 </span><span class="lineNoCov">          0 :     vlabel[10].text_is_1byte = true;</span>
<span class="lineNum">    8445 </span><span class="lineNoCov">          0 :     vgcd[10].gd.label = &amp;vlabel[10];</span>
<span class="lineNum">    8446 </span><span class="lineNoCov">          0 :     vgcd[10].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8447 </span><span class="lineNoCov">          0 :     vgcd[10].creator = GLabelCreate;</span>
<span class="lineNum">    8448 </span>            : 
<span class="lineNum">    8449 </span><span class="lineNoCov">          0 :     vgcd[11].gd.pos.x = 90; vgcd[11].gd.pos.y = vgcd[11-1].gd.pos.y-4;</span>
<span class="lineNum">    8450 </span><span class="lineNoCov">          0 :     vgcd[11].gd.pos.width = 50;</span>
<span class="lineNum">    8451 </span><span class="lineNoCov">          0 :     vgcd[11].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8452 </span>            :         /* value set later */
<span class="lineNum">    8453 </span><span class="lineNoCov">          0 :     vgcd[11].gd.cid = CID_Vendor;</span>
<span class="lineNum">    8454 </span><span class="lineNoCov">          0 :     vgcd[11].creator = GTextFieldCreate;</span>
<span class="lineNum">    8455 </span>            : 
<span class="lineNum">    8456 </span><span class="lineNoCov">          0 :     vgcd[12].gd.pos.x = 10; vgcd[12].gd.pos.y = vgcd[11].gd.pos.y+24+6;</span>
<span class="lineNum">    8457 </span><span class="lineNoCov">          0 :     vlabel[12].text = (unichar_t *) _(&quot;_IBM Family:&quot;);</span>
<span class="lineNum">    8458 </span><span class="lineNoCov">          0 :     vlabel[12].text_is_1byte = true;</span>
<span class="lineNum">    8459 </span><span class="lineNoCov">          0 :     vlabel[12].text_in_resource = true;</span>
<span class="lineNum">    8460 </span><span class="lineNoCov">          0 :     vgcd[12].gd.label = &amp;vlabel[12];</span>
<span class="lineNum">    8461 </span><span class="lineNoCov">          0 :     vgcd[12].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8462 </span><span class="lineNoCov">          0 :     vgcd[12].creator = GLabelCreate;</span>
<span class="lineNum">    8463 </span>            : 
<span class="lineNum">    8464 </span><span class="lineNoCov">          0 :     vgcd[13].gd.pos.x = 90; vgcd[13].gd.pos.y = vgcd[12].gd.pos.y-4; vgcd[13].gd.pos.width = vgcd[7].gd.pos.width;</span>
<span class="lineNum">    8465 </span><span class="lineNoCov">          0 :     vgcd[13].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8466 </span><span class="lineNoCov">          0 :     vgcd[13].gd.cid = CID_IBMFamily;</span>
<span class="lineNum">    8467 </span><span class="lineNoCov">          0 :     vgcd[13].gd.u.list = ibmfamily;</span>
<span class="lineNum">    8468 </span><span class="lineNoCov">          0 :     vgcd[13].creator = GListButtonCreate;</span>
<span class="lineNum">    8469 </span>            : 
<span class="lineNum">    8470 </span><span class="lineNoCov">          0 :     vgcd[15].gd.pos.x = 10; vgcd[15].gd.pos.y = vgcd[11].gd.pos.y+24+6;</span>
<span class="lineNum">    8471 </span><span class="lineNoCov">          0 :     vlabel[15].text = (unichar_t *) _(&quot;_OS/2 Version&quot;);</span>
<span class="lineNum">    8472 </span><span class="lineNoCov">          0 :     vlabel[15].text_is_1byte = true;</span>
<span class="lineNum">    8473 </span><span class="lineNoCov">          0 :     vlabel[15].text_in_resource = true;</span>
<span class="lineNum">    8474 </span><span class="lineNoCov">          0 :     vgcd[15].gd.label = &amp;vlabel[15];</span>
<span class="lineNum">    8475 </span><span class="lineNoCov">          0 :     vgcd[15].gd.popup_msg = (unichar_t *) _(&quot;The 'OS/2' table has changed slightly over the years.\nGenerally fields have been added, but occasionally their\nmeanings have been redefined.&quot; );</span>
<span class="lineNum">    8476 </span><span class="lineNoCov">          0 :     vgcd[15].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8477 </span><span class="lineNoCov">          0 :     vgcd[15].creator = GLabelCreate;</span>
<span class="lineNum">    8478 </span>            : 
<span class="lineNum">    8479 </span><span class="lineNoCov">          0 :     vgcd[16].gd.pos.x = 90; vgcd[16].gd.pos.y = vgcd[15].gd.pos.y-4; vgcd[16].gd.pos.width = vgcd[7].gd.pos.width;</span>
<span class="lineNum">    8480 </span><span class="lineNoCov">          0 :     vgcd[16].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8481 </span><span class="lineNoCov">          0 :     vgcd[16].gd.cid = CID_OS2Version;</span>
<span class="lineNum">    8482 </span><span class="lineNoCov">          0 :     vgcd[16].gd.u.list = os2versions;</span>
<span class="lineNum">    8483 </span><span class="lineNoCov">          0 :     vgcd[16].creator = GListFieldCreate;</span>
<span class="lineNum">    8484 </span>            :     
<span class="lineNum">    8485 </span><span class="lineNoCov">          0 :     vgcd[17].gd.pos.x = 10; vgcd[17].gd.pos.y = vgcd[13].gd.pos.y+26+6;</span>
<span class="lineNum">    8486 </span><span class="lineNoCov">          0 :     vlabel[17].text = (unichar_t *) _(&quot;Style Map:&quot;);</span>
<span class="lineNum">    8487 </span><span class="lineNoCov">          0 :     vlabel[17].text_is_1byte = true;</span>
<span class="lineNum">    8488 </span><span class="lineNoCov">          0 :     vlabel[17].text_in_resource = true;</span>
<span class="lineNum">    8489 </span><span class="lineNoCov">          0 :     vgcd[17].gd.label = &amp;vlabel[17];</span>
<span class="lineNum">    8490 </span><span class="lineNoCov">          0 :     vgcd[17].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8491 </span><span class="lineNoCov">          0 :     vgcd[17].creator = GLabelCreate;</span>
<span class="lineNum">    8492 </span>            : 
<span class="lineNum">    8493 </span><span class="lineNoCov">          0 :     vgcd[18].gd.pos.x = 90; vgcd[18].gd.pos.y = vgcd[17].gd.pos.y-6; vgcd[18].gd.pos.width = vgcd[7].gd.pos.width;</span>
<span class="lineNum">    8494 </span><span class="lineNoCov">          0 :     vgcd[18].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8495 </span><span class="lineNoCov">          0 :     vgcd[18].gd.cid = CID_StyleMap;</span>
<span class="lineNum">    8496 </span><span class="lineNoCov">          0 :     vgcd[18].gd.u.list = stylemap;</span>
<span class="lineNum">    8497 </span><span class="lineNoCov">          0 :     vgcd[18].creator = GListButtonCreate;</span>
<span class="lineNum">    8498 </span><span class="lineNoCov">          0 :     stylemap[0].selected = stylemap[1].selected =</span>
<span class="lineNum">    8499 </span><span class="lineNoCov">          0 :             stylemap[2].selected = stylemap[3].selected =</span>
<span class="lineNum">    8500 </span><span class="lineNoCov">          0 :         stylemap[4].selected = stylemap[5].selected = false;</span>
<span class="lineNum">    8501 </span><span class="lineNoCov">          0 :     if ( sf-&gt;pfminfo.stylemap == 0x00 )</span>
<span class="lineNum">    8502 </span><span class="lineNoCov">          0 :         i = 1;</span>
<span class="lineNum">    8503 </span><span class="lineNoCov">          0 :     else if ( sf-&gt;pfminfo.stylemap == 0x40 )</span>
<span class="lineNum">    8504 </span><span class="lineNoCov">          0 :         i = 2;</span>
<span class="lineNum">    8505 </span><span class="lineNoCov">          0 :     else if ( sf-&gt;pfminfo.stylemap == 0x01 )</span>
<span class="lineNum">    8506 </span><span class="lineNoCov">          0 :         i = 3;</span>
<span class="lineNum">    8507 </span><span class="lineNoCov">          0 :     else if ( sf-&gt;pfminfo.stylemap == 0x20 )</span>
<span class="lineNum">    8508 </span><span class="lineNoCov">          0 :         i = 4;</span>
<span class="lineNum">    8509 </span><span class="lineNoCov">          0 :     else if ( sf-&gt;pfminfo.stylemap == 0x21 )</span>
<span class="lineNum">    8510 </span><span class="lineNoCov">          0 :         i = 5;</span>
<span class="lineNum">    8511 </span>            :     else
<span class="lineNum">    8512 </span><span class="lineNoCov">          0 :         i = 0;</span>
<span class="lineNum">    8513 </span><span class="lineNoCov">          0 :     stylemap[i].selected = true;</span>
<span class="lineNum">    8514 </span><span class="lineNoCov">          0 :     vgcd[18].gd.label = &amp;stylemap[i];</span>
<span class="lineNum">    8515 </span>            : 
<span class="lineNum">    8516 </span><span class="lineNoCov">          0 :     vgcd[14].gd.pos.x = 10; vgcd[14].gd.pos.y = vgcd[18].gd.pos.y+24+6;</span>
<span class="lineNum">    8517 </span><span class="lineNoCov">          0 :     vlabel[14].text = (unichar_t *) _(&quot;Weight, Width, Slope Only&quot;);</span>
<span class="lineNum">    8518 </span><span class="lineNoCov">          0 :     vlabel[14].text_is_1byte = true;</span>
<span class="lineNum">    8519 </span><span class="lineNoCov">          0 :     vlabel[14].text_in_resource = true;</span>
<span class="lineNum">    8520 </span><span class="lineNoCov">          0 :     vgcd[14].gd.label = &amp;vlabel[14];</span>
<span class="lineNum">    8521 </span><span class="lineNoCov">          0 :     vgcd[14].gd.cid = CID_WeightWidthSlopeOnly;</span>
<span class="lineNum">    8522 </span><span class="lineNoCov">          0 :     vgcd[14].gd.popup_msg = (unichar_t *) _(&quot;MS needs to know whether a font family's members differ\nonly in weight, width and slope (and not in other variables\nlike optical size).&quot; );</span>
<span class="lineNum">    8523 </span><span class="lineNoCov">          0 :     vgcd[14].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8524 </span><span class="lineNoCov">          0 :     vgcd[14].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8525 </span>            : 
<span class="lineNum">    8526 </span><span class="lineNoCov">          0 :     vradio[0] = GCD_Glue; vradio[1] = &amp;vgcd[8]; vradio[2] = &amp;vgcd[9]; vradio[3] = GCD_Glue; vradio[4] = NULL;</span>
<span class="lineNum">    8527 </span>            : 
<span class="lineNum">    8528 </span><span class="lineNoCov">          0 :     varray[0] = &amp;vgcd[15]; varray[1] = &amp;vgcd[16]; varray[2] = NULL;</span>
<span class="lineNum">    8529 </span><span class="lineNoCov">          0 :     varray[3] = &amp;vgcd[0]; varray[4] = &amp;vgcd[1]; varray[5] = NULL;</span>
<span class="lineNum">    8530 </span><span class="lineNoCov">          0 :     varray[6] = &amp;vgcd[2]; varray[7] = &amp;vgcd[3]; varray[8] = NULL;</span>
<span class="lineNum">    8531 </span><span class="lineNoCov">          0 :     varray[9] = &amp;vgcd[4]; varray[10] = &amp;vgcd[5]; varray[11] = NULL;</span>
<span class="lineNum">    8532 </span><span class="lineNoCov">          0 :     varray[12] = &amp;vgcd[6]; varray[13] = &amp;vgcd[7]; varray[14] = NULL;</span>
<span class="lineNum">    8533 </span><span class="lineNoCov">          0 :     varray[15] = &amp;vbox[2]; varray[16] = GCD_ColSpan; varray[17] = NULL;</span>
<span class="lineNum">    8534 </span><span class="lineNoCov">          0 :     varray[18] = &amp;vgcd[10]; varray[19] = &amp;vgcd[11]; varray[20] = NULL;</span>
<span class="lineNum">    8535 </span><span class="lineNoCov">          0 :     varray[21] = &amp;vgcd[12]; varray[22] = &amp;vgcd[13]; varray[23] = NULL;</span>
<span class="lineNum">    8536 </span><span class="lineNoCov">          0 :     varray[24] = &amp;vgcd[17]; varray[25] = &amp;vgcd[18]; varray[26] = NULL;</span>
<span class="lineNum">    8537 </span><span class="lineNoCov">          0 :     varray[27] = &amp;vgcd[14]; varray[28] = GCD_ColSpan; varray[29] = NULL;</span>
<span class="lineNum">    8538 </span><span class="lineNoCov">          0 :     varray[30] = GCD_Glue; varray[31] = GCD_Glue; varray[32] = NULL;</span>
<span class="lineNum">    8539 </span><span class="lineNoCov">          0 :     varray[33] = GCD_Glue; varray[34] = GCD_Glue; varray[35] = NULL;</span>
<span class="lineNum">    8540 </span><span class="lineNoCov">          0 :     varray[36] = varray[40] = NULL;</span>
<span class="lineNum">    8541 </span>            : 
<span class="lineNum">    8542 </span><span class="lineNoCov">          0 :     memset(vbox,0,sizeof(vbox));</span>
<span class="lineNum">    8543 </span><span class="lineNoCov">          0 :     vbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    8544 </span><span class="lineNoCov">          0 :     vbox[0].gd.u.boxelements = varray;</span>
<span class="lineNum">    8545 </span><span class="lineNoCov">          0 :     vbox[0].creator = GHVBoxCreate;</span>
<span class="lineNum">    8546 </span>            : 
<span class="lineNum">    8547 </span><span class="lineNoCov">          0 :     vbox[2].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    8548 </span><span class="lineNoCov">          0 :     vbox[2].gd.u.boxelements = vradio;</span>
<span class="lineNum">    8549 </span><span class="lineNoCov">          0 :     vbox[2].creator = GHBoxCreate;</span>
<span class="lineNum">    8550 </span>            : 
<span class="lineNum">    8551 </span>            : /******************************************************************************/
<span class="lineNum">    8552 </span>            : 
<span class="lineNum">    8553 </span><span class="lineNoCov">          0 :     memset(&amp;metgcd,0,sizeof(metgcd));</span>
<span class="lineNum">    8554 </span><span class="lineNoCov">          0 :     memset(&amp;metlabel,'\0',sizeof(metlabel));</span>
<span class="lineNum">    8555 </span><span class="lineNoCov">          0 :     memset(&amp;metarray,'\0',sizeof(metarray));</span>
<span class="lineNum">    8556 </span>            : 
<span class="lineNum">    8557 </span><span class="lineNoCov">          0 :     i = j = 0;</span>
<span class="lineNum">    8558 </span>            : 
<span class="lineNum">    8559 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 10; metgcd[i].gd.pos.y = 9;</span>
<span class="lineNum">    8560 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;Win _Ascent Offset:&quot;);</span>
<span class="lineNum">    8561 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8562 </span><span class="lineNoCov">          0 :     metlabel[i].text_in_resource = true;</span>
<span class="lineNum">    8563 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8564 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8565 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Anything outside the OS/2 WinAscent &amp;\nWinDescent fields will be clipped by windows.\nThis includes marks, etc. that have been repositioned by GPOS.\n(The descent field is usually positive.)\nIf the \&quot;[] Is Offset\&quot; checkbox is clear then\nany number you enter will be the value used in OS/2.\nIf set then any number you enter will be added to the\nfont's bounds. You should leave this\nfield 0 and check \&quot;[*] Is Offset\&quot; in most cases.\n\nNote: WinDescent is a POSITIVE number for\nthings below the baseline&quot;);</span>
<span class="lineNum">    8566 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_WinAscentLab;</span>
<span class="lineNum">    8567 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8568 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8569 </span>            : 
<span class="lineNum">    8570 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 125; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y-4;</span>
<span class="lineNum">    8571 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8572 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8573 </span>            :         /* value set later */
<span class="lineNum">    8574 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_WinAscent;</span>
<span class="lineNum">    8575 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8576 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8577 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8578 </span>            : 
<span class="lineNum">    8579 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 178; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    8580 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;Is Offset&quot;);</span>
<span class="lineNum">    8581 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8582 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8583 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8584 </span>            :         /* value set later */
<span class="lineNum">    8585 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_WinAscentIsOff;</span>
<span class="lineNum">    8586 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8587 </span><span class="lineNoCov">          0 :     metgcd[i].gd.handle_controlevent = GFI_AsDesIsOff;</span>
<span class="lineNum">    8588 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8589 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8590 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8591 </span>            : 
<span class="lineNum">    8592 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 10; metgcd[i].gd.pos.y = metgcd[i-2].gd.pos.y+26+4;</span>
<span class="lineNum">    8593 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;Win _Descent Offset:&quot;);</span>
<span class="lineNum">    8594 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8595 </span><span class="lineNoCov">          0 :     metlabel[i].text_in_resource = true;</span>
<span class="lineNum">    8596 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8597 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8598 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8599 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_WinDescentLab;</span>
<span class="lineNum">    8600 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8601 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8602 </span>            : 
<span class="lineNum">    8603 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 125; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y-4;</span>
<span class="lineNum">    8604 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8605 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8606 </span>            :         /* value set later */
<span class="lineNum">    8607 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_WinDescent;</span>
<span class="lineNum">    8608 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8609 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8610 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8611 </span>            : 
<span class="lineNum">    8612 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 178; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    8613 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;Is Offset&quot;);</span>
<span class="lineNum">    8614 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8615 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8616 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8617 </span>            :         /* value set later */
<span class="lineNum">    8618 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_WinDescentIsOff;</span>
<span class="lineNum">    8619 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8620 </span><span class="lineNoCov">          0 :     metgcd[i].gd.handle_controlevent = GFI_AsDesIsOff;</span>
<span class="lineNum">    8621 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8622 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8623 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8624 </span>            : 
<span class="lineNum">    8625 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 5; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    8626 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;Really use Typo metrics&quot;);</span>
<span class="lineNum">    8627 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8628 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8629 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8630 </span>            :         /* value set later */
<span class="lineNum">    8631 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_UseTypoMetrics;</span>
<span class="lineNum">    8632 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = (unichar_t *) _(&quot;The specification already says that the typo metrics should be\nused to determine line spacing. But so many\nprograms fail to follow the spec. that MS decided an additional\nbit was needed to remind them to do so.&quot;);</span>
<span class="lineNum">    8633 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i]; metarray[j++] = GCD_ColSpan; metarray[j++] = GCD_Glue;</span>
<span class="lineNum">    8634 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8635 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8636 </span>            : 
<span class="lineNum">    8637 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 10; metgcd[i].gd.pos.y = metgcd[i-2].gd.pos.y+26+4;</span>
<span class="lineNum">    8638 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;_Typo Ascent Offset:&quot;);</span>
<span class="lineNum">    8639 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8640 </span><span class="lineNoCov">          0 :     metlabel[i].text_in_resource = true;</span>
<span class="lineNum">    8641 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8642 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8643 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = (unichar_t *) _(&quot;The typo ascent&amp;descent fields are&gt;supposed&lt;\nto specify the line spacing on windows.\nIn fact usually the win ascent/descent fields do.\n(The descent field is usually negative.)\nIf the \&quot;[] Is Offset\&quot; checkbox is clear then\nany number you enter will be the value used in OS/2.\nIf set then any number you enter will be added to the\nEm-size. You should leave this\nfield 0 and check \&quot;[*] Is Offset\&quot; in most cases.\n\nNOTE: Typo Descent is a NEGATIVE number for\nthings below the baseline&quot;);</span>
<span class="lineNum">    8644 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_TypoAscentLab;</span>
<span class="lineNum">    8645 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8646 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8647 </span>            : 
<span class="lineNum">    8648 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 125; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y-4;</span>
<span class="lineNum">    8649 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8650 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8651 </span>            :         /* value set later */
<span class="lineNum">    8652 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_TypoAscent;</span>
<span class="lineNum">    8653 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8654 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8655 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8656 </span>            : 
<span class="lineNum">    8657 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 178; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    8658 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;Is Offset&quot;);</span>
<span class="lineNum">    8659 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8660 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8661 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8662 </span>            :         /* value set later */
<span class="lineNum">    8663 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_TypoAscentIsOff;</span>
<span class="lineNum">    8664 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8665 </span><span class="lineNoCov">          0 :     metgcd[i].gd.handle_controlevent = GFI_AsDesIsOff;</span>
<span class="lineNum">    8666 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8667 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8668 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8669 </span>            : 
<span class="lineNum">    8670 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 10; metgcd[i].gd.pos.y = metgcd[i-2].gd.pos.y+26+4;</span>
<span class="lineNum">    8671 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;T_ypo Descent Offset:&quot;);</span>
<span class="lineNum">    8672 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8673 </span><span class="lineNoCov">          0 :     metlabel[i].text_in_resource = true;</span>
<span class="lineNum">    8674 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8675 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8676 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8677 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_TypoDescentLab;</span>
<span class="lineNum">    8678 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8679 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8680 </span>            : 
<span class="lineNum">    8681 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 125; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y-4;</span>
<span class="lineNum">    8682 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8683 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8684 </span>            :         /* value set later */
<span class="lineNum">    8685 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_TypoDescent;</span>
<span class="lineNum">    8686 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8687 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8688 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8689 </span>            : 
<span class="lineNum">    8690 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 178; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    8691 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;Is Offset&quot;);</span>
<span class="lineNum">    8692 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8693 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8694 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8695 </span>            :         /* value set later */
<span class="lineNum">    8696 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_TypoDescentIsOff;</span>
<span class="lineNum">    8697 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8698 </span><span class="lineNoCov">          0 :     metgcd[i].gd.handle_controlevent = GFI_AsDesIsOff;</span>
<span class="lineNum">    8699 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8700 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8701 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8702 </span>            : 
<span class="lineNum">    8703 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 10; metgcd[i].gd.pos.y = metgcd[i-2].gd.pos.y+26+4;</span>
<span class="lineNum">    8704 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;Typo Line _Gap:&quot;);</span>
<span class="lineNum">    8705 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8706 </span><span class="lineNoCov">          0 :     metlabel[i].text_in_resource = true;</span>
<span class="lineNum">    8707 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8708 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8709 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Sets the TypoLinegap field in the OS/2 table, used on MS Windows&quot;);</span>
<span class="lineNum">    8710 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8711 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8712 </span>            : 
<span class="lineNum">    8713 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 125; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y-4;</span>
<span class="lineNum">    8714 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8715 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8716 </span>            :         /* Line gap value set later */
<span class="lineNum">    8717 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_TypoLineGap;</span>
<span class="lineNum">    8718 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8719 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8720 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8721 </span><span class="lineNoCov">          0 :     metarray[j++] = GCD_Glue;</span>
<span class="lineNum">    8722 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8723 </span>            : 
<span class="lineNum">    8724 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 10; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y+26+4;</span>
<span class="lineNum">    8725 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;_HHead Ascent Offset:&quot;);</span>
<span class="lineNum">    8726 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8727 </span><span class="lineNoCov">          0 :     metlabel[i].text_in_resource = true;</span>
<span class="lineNum">    8728 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8729 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8730 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = (unichar_t *) _(&quot;This specifies the line spacing on the mac.\n(The descent field is usually negative.)\nIf the \&quot;[] Is Offset\&quot; checkbox is clear then\nany number you enter will be the value used in hhea.\nIf set then any number you enter will be added to the\nfont's bounds. You should leave this\nfield 0 and check \&quot;[*] Is Offset\&quot; in most cases.\n\nNOTE: hhea Descent is a NEGATIVE value for things\nbelow the baseline&quot;);</span>
<span class="lineNum">    8731 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_HHeadAscentLab;</span>
<span class="lineNum">    8732 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8733 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8734 </span>            : 
<span class="lineNum">    8735 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 125; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y-4;</span>
<span class="lineNum">    8736 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8737 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8738 </span>            :         /* value set later */
<span class="lineNum">    8739 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_HHeadAscent;</span>
<span class="lineNum">    8740 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8741 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8742 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8743 </span>            : 
<span class="lineNum">    8744 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 178; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    8745 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;Is Offset&quot;);</span>
<span class="lineNum">    8746 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8747 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8748 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8749 </span>            :         /* value set later */
<span class="lineNum">    8750 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_HHeadAscentIsOff;</span>
<span class="lineNum">    8751 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8752 </span><span class="lineNoCov">          0 :     metgcd[i].gd.handle_controlevent = GFI_AsDesIsOff;</span>
<span class="lineNum">    8753 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8754 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8755 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8756 </span>            : 
<span class="lineNum">    8757 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 10; metgcd[i].gd.pos.y = metgcd[i-2].gd.pos.y+26+4;</span>
<span class="lineNum">    8758 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;HHead De_scent Offset:&quot;);</span>
<span class="lineNum">    8759 </span><span class="lineNoCov">          0 :     metlabel[i].text_in_resource = true;</span>
<span class="lineNum">    8760 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8761 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8762 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8763 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8764 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_HHeadDescentLab;</span>
<span class="lineNum">    8765 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8766 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8767 </span>            : 
<span class="lineNum">    8768 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 125; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y-4;</span>
<span class="lineNum">    8769 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8770 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8771 </span>            :         /* value set later */
<span class="lineNum">    8772 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_HHeadDescent;</span>
<span class="lineNum">    8773 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8774 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8775 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8776 </span>            : 
<span class="lineNum">    8777 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 178; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    8778 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;Is Offset&quot;);</span>
<span class="lineNum">    8779 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8780 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8781 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8782 </span>            :         /* value set later */
<span class="lineNum">    8783 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_HHeadDescentIsOff;</span>
<span class="lineNum">    8784 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8785 </span><span class="lineNoCov">          0 :     metgcd[i].gd.handle_controlevent = GFI_AsDesIsOff;</span>
<span class="lineNum">    8786 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8787 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8788 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8789 </span>            : 
<span class="lineNum">    8790 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 10; metgcd[i].gd.pos.y = metgcd[i-2].gd.pos.y+26+4;</span>
<span class="lineNum">    8791 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;HHead _Line Gap:&quot;);</span>
<span class="lineNum">    8792 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8793 </span><span class="lineNoCov">          0 :     metlabel[i].text_in_resource = true;</span>
<span class="lineNum">    8794 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8795 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8796 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Sets the linegap field in the hhea table, used on the mac&quot;);</span>
<span class="lineNum">    8797 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8798 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8799 </span>            : 
<span class="lineNum">    8800 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 125; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y-4;</span>
<span class="lineNum">    8801 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8802 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8803 </span>            :         /* Line gap value set later */
<span class="lineNum">    8804 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_LineGap;</span>
<span class="lineNum">    8805 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8806 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8807 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8808 </span><span class="lineNoCov">          0 :     metarray[j++] = GCD_Glue;</span>
<span class="lineNum">    8809 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8810 </span>            : 
<span class="lineNum">    8811 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 10; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y+26+6;</span>
<span class="lineNum">    8812 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;VHead _Column Spacing:&quot;);</span>
<span class="lineNum">    8813 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8814 </span><span class="lineNoCov">          0 :     metlabel[i].text_in_resource = true;</span>
<span class="lineNum">    8815 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8816 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = sf-&gt;hasvmetrics ? (gg_visible | gg_enabled | gg_utf8_popup) : (gg_visible | gg_utf8_popup);</span>
<span class="lineNum">    8817 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Sets the linegap field in the vhea table.\nThis is the horizontal spacing between rows\nof vertically set text.&quot;);</span>
<span class="lineNum">    8818 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_VLineGapLab;</span>
<span class="lineNum">    8819 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8820 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8821 </span>            : 
<span class="lineNum">    8822 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 125; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y-6;</span>
<span class="lineNum">    8823 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8824 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = sf-&gt;hasvmetrics ? (gg_visible | gg_enabled | gg_utf8_popup) : (gg_visible | gg_utf8_popup);</span>
<span class="lineNum">    8825 </span>            :         /* V Line gap value set later */
<span class="lineNum">    8826 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_VLineGap;</span>
<span class="lineNum">    8827 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[17].gd.popup_msg;</span>
<span class="lineNum">    8828 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8829 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8830 </span><span class="lineNoCov">          0 :     metarray[j++] = GCD_Glue;</span>
<span class="lineNum">    8831 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8832 </span>            : 
<span class="lineNum">    8833 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 10; metgcd[i].gd.pos.y = metgcd[i-2].gd.pos.y+26+6;</span>
<span class="lineNum">    8834 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;Ca_pital Height:&quot;);</span>
<span class="lineNum">    8835 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8836 </span><span class="lineNoCov">          0 :     metlabel[i].text_in_resource = true;</span>
<span class="lineNum">    8837 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8838 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8839 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = (unichar_t *) _(&quot;This denotes the height of X.&quot;);</span>
<span class="lineNum">    8840 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_CapHeightLab;</span>
<span class="lineNum">    8841 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8842 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8843 </span>            : 
<span class="lineNum">    8844 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 125; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y-4;</span>
<span class="lineNum">    8845 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8846 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8847 </span>            :         /* value set later */
<span class="lineNum">    8848 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_CapHeight;</span>
<span class="lineNum">    8849 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8850 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8851 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8852 </span><span class="lineNoCov">          0 :     metarray[j++] = GCD_Glue;</span>
<span class="lineNum">    8853 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8854 </span>            : 
<span class="lineNum">    8855 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 10; metgcd[i].gd.pos.y = metgcd[i-2].gd.pos.y+26+6;</span>
<span class="lineNum">    8856 </span><span class="lineNoCov">          0 :     metlabel[i].text = (unichar_t *) _(&quot;_X Height:&quot;);</span>
<span class="lineNum">    8857 </span><span class="lineNoCov">          0 :     metlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8858 </span><span class="lineNoCov">          0 :     metlabel[i].text_in_resource = true;</span>
<span class="lineNum">    8859 </span><span class="lineNoCov">          0 :     metgcd[i].gd.label = &amp;metlabel[i];</span>
<span class="lineNum">    8860 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8861 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = (unichar_t *) _(&quot;This denotes the height of x.&quot;);</span>
<span class="lineNum">    8862 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_XHeightLab;</span>
<span class="lineNum">    8863 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8864 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8865 </span>            : 
<span class="lineNum">    8866 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.x = 125; metgcd[i].gd.pos.y = metgcd[i-1].gd.pos.y-4;</span>
<span class="lineNum">    8867 </span><span class="lineNoCov">          0 :     metgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8868 </span><span class="lineNoCov">          0 :     metgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    8869 </span>            :         /* value set later */
<span class="lineNum">    8870 </span><span class="lineNoCov">          0 :     metgcd[i].gd.cid = CID_XHeight;</span>
<span class="lineNum">    8871 </span><span class="lineNoCov">          0 :     metgcd[i].gd.popup_msg = metgcd[i-1].gd.popup_msg;</span>
<span class="lineNum">    8872 </span><span class="lineNoCov">          0 :     metarray[j++] = &amp;metgcd[i];</span>
<span class="lineNum">    8873 </span><span class="lineNoCov">          0 :     metgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8874 </span><span class="lineNoCov">          0 :     metarray[j++] = GCD_Glue;</span>
<span class="lineNum">    8875 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL;</span>
<span class="lineNum">    8876 </span>            : 
<span class="lineNum">    8877 </span><span class="lineNoCov">          0 :     metarray[j++] = GCD_Glue; metarray[j++] = GCD_Glue; metarray[j++] = GCD_Glue;</span>
<span class="lineNum">    8878 </span>            : 
<span class="lineNum">    8879 </span><span class="lineNoCov">          0 :     metarray[j++] = NULL; metarray[j++] = NULL;</span>
<span class="lineNum">    8880 </span>            : 
<span class="lineNum">    8881 </span><span class="lineNoCov">          0 :     memset(metbox,0,sizeof(metbox));</span>
<span class="lineNum">    8882 </span><span class="lineNoCov">          0 :     metbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    8883 </span><span class="lineNoCov">          0 :     metbox[0].gd.u.boxelements = metarray;</span>
<span class="lineNum">    8884 </span><span class="lineNoCov">          0 :     metbox[0].creator = GHVBoxCreate;</span>
<span class="lineNum">    8885 </span>            : /******************************************************************************/
<span class="lineNum">    8886 </span>            : 
<span class="lineNum">    8887 </span><span class="lineNoCov">          0 :     memset(&amp;ssgcd,0,sizeof(ssgcd));</span>
<span class="lineNum">    8888 </span><span class="lineNoCov">          0 :     memset(&amp;sslabel,'\0',sizeof(sslabel));</span>
<span class="lineNum">    8889 </span>            : 
<span class="lineNum">    8890 </span><span class="lineNoCov">          0 :     i = j = 0;</span>
<span class="lineNum">    8891 </span>            : 
<span class="lineNum">    8892 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 5; ssgcd[i].gd.pos.y = 5;</span>
<span class="lineNum">    8893 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) S_(&quot;SubscriptSuperUse|Default&quot;);</span>
<span class="lineNum">    8894 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8895 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    8896 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8897 </span>            :         /* value set later */
<span class="lineNum">    8898 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.cid = CID_SubSuperDefault;</span>
<span class="lineNum">    8899 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.handle_controlevent = GFI_SubSuperDefault;</span>
<span class="lineNum">    8900 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8901 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    8902 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue; ssarray[j++] = GCD_Glue; ssarray[j++] = GCD_Glue;</span>
<span class="lineNum">    8903 </span><span class="lineNoCov">          0 :     ssarray[j++] = NULL;</span>
<span class="lineNum">    8904 </span>            : 
<span class="lineNum">    8905 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 5; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y+16;</span>
<span class="lineNum">    8906 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) _(&quot;Subscript&quot;);</span>
<span class="lineNum">    8907 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8908 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    8909 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8910 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8911 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8912 </span>            : 
<span class="lineNum">    8913 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 120; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y-4;</span>
<span class="lineNum">    8914 </span>            : /* GT: X is a coordinate, the leading spaces help to align it */
<span class="lineNum">    8915 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) _(&quot;  X&quot;);</span>
<span class="lineNum">    8916 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8917 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    8918 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8919 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8920 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8921 </span>            : 
<span class="lineNum">    8922 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 180; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    8923 </span>            : /* GT: Y is a coordinate, the leading spaces help to align it */
<span class="lineNum">    8924 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) _(&quot;Y&quot;);</span>
<span class="lineNum">    8925 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8926 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    8927 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8928 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8929 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8930 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue; ssarray[j++] = NULL;</span>
<span class="lineNum">    8931 </span>            : 
<span class="lineNum">    8932 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 10; ssgcd[i].gd.pos.y = ssgcd[i-3].gd.pos.y+14+4;</span>
<span class="lineNum">    8933 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) _(&quot;Size&quot;);</span>
<span class="lineNum">    8934 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8935 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    8936 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8937 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8938 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8939 </span>            : 
<span class="lineNum">    8940 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 100; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y-6;</span>
<span class="lineNum">    8941 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8942 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8943 </span>            :         /* set later */
<span class="lineNum">    8944 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.cid = CID_SubXSize;</span>
<span class="lineNum">    8945 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8946 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8947 </span>            : 
<span class="lineNum">    8948 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 160; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    8949 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8950 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8951 </span>            :         /* set later */
<span class="lineNum">    8952 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.cid = CID_SubYSize;</span>
<span class="lineNum">    8953 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8954 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8955 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue; ssarray[j++] = NULL;</span>
<span class="lineNum">    8956 </span>            : 
<span class="lineNum">    8957 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 10; ssgcd[i].gd.pos.y = ssgcd[i-3].gd.pos.y+26;</span>
<span class="lineNum">    8958 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) _(&quot;Offset&quot;);</span>
<span class="lineNum">    8959 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8960 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    8961 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8962 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8963 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8964 </span>            : 
<span class="lineNum">    8965 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 100; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y-6;</span>
<span class="lineNum">    8966 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8967 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8968 </span>            :         /* set later */
<span class="lineNum">    8969 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.cid = CID_SubXOffset;</span>
<span class="lineNum">    8970 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8971 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8972 </span>            : 
<span class="lineNum">    8973 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 160; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    8974 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    8975 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8976 </span>            :         /* set later */
<span class="lineNum">    8977 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.cid = CID_SubYOffset;</span>
<span class="lineNum">    8978 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8979 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    8980 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue; ssarray[j++] = NULL;</span>
<span class="lineNum">    8981 </span>            : 
<span class="lineNum">    8982 </span>            : 
<span class="lineNum">    8983 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 5; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y+30;</span>
<span class="lineNum">    8984 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) _(&quot;Superscript&quot;);</span>
<span class="lineNum">    8985 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8986 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    8987 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8988 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8989 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    8990 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue; ssarray[j++] = GCD_Glue; ssarray[j++] = GCD_Glue;</span>
<span class="lineNum">    8991 </span><span class="lineNoCov">          0 :     ssarray[j++] = NULL;</span>
<span class="lineNum">    8992 </span>            : 
<span class="lineNum">    8993 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 10; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y+14+4;</span>
<span class="lineNum">    8994 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) _(&quot;Size&quot;);</span>
<span class="lineNum">    8995 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    8996 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    8997 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    8998 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    8999 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9000 </span>            : 
<span class="lineNum">    9001 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 100; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y-6;</span>
<span class="lineNum">    9002 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    9003 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9004 </span>            :         /* set later */
<span class="lineNum">    9005 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.cid = CID_SuperXSize;</span>
<span class="lineNum">    9006 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    9007 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    9008 </span>            : 
<span class="lineNum">    9009 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 160; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    9010 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    9011 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9012 </span>            :         /* set later */
<span class="lineNum">    9013 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.cid = CID_SuperYSize;</span>
<span class="lineNum">    9014 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    9015 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    9016 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue; ssarray[j++] = NULL;</span>
<span class="lineNum">    9017 </span>            : 
<span class="lineNum">    9018 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 10; ssgcd[i].gd.pos.y = ssgcd[i-3].gd.pos.y+26;</span>
<span class="lineNum">    9019 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) _(&quot;Offset&quot;);</span>
<span class="lineNum">    9020 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9021 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    9022 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9023 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    9024 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9025 </span>            : 
<span class="lineNum">    9026 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 100; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y-6;</span>
<span class="lineNum">    9027 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    9028 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9029 </span>            :         /* set later */
<span class="lineNum">    9030 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.cid = CID_SuperXOffset;</span>
<span class="lineNum">    9031 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    9032 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    9033 </span>            : 
<span class="lineNum">    9034 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 160; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y;</span>
<span class="lineNum">    9035 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    9036 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9037 </span>            :         /* set later */
<span class="lineNum">    9038 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.cid = CID_SuperYOffset;</span>
<span class="lineNum">    9039 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    9040 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    9041 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue; ssarray[j++] = NULL;</span>
<span class="lineNum">    9042 </span>            : 
<span class="lineNum">    9043 </span>            : 
<span class="lineNum">    9044 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 5; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y+30;</span>
<span class="lineNum">    9045 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) _(&quot;Strikeout&quot;);</span>
<span class="lineNum">    9046 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9047 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    9048 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9049 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    9050 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9051 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue; ssarray[j++] = GCD_Glue; ssarray[j++] = GCD_Glue;</span>
<span class="lineNum">    9052 </span><span class="lineNoCov">          0 :     ssarray[j++] = NULL;</span>
<span class="lineNum">    9053 </span>            : 
<span class="lineNum">    9054 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 10; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y+14+4;</span>
<span class="lineNum">    9055 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) _(&quot;Size&quot;);</span>
<span class="lineNum">    9056 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9057 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    9058 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9059 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    9060 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9061 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue;</span>
<span class="lineNum">    9062 </span>            : 
<span class="lineNum">    9063 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 160; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y-6;</span>
<span class="lineNum">    9064 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    9065 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9066 </span>            :         /* set later */
<span class="lineNum">    9067 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.cid = CID_StrikeoutSize;</span>
<span class="lineNum">    9068 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    9069 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    9070 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue; ssarray[j++] = NULL;</span>
<span class="lineNum">    9071 </span>            : 
<span class="lineNum">    9072 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 10; ssgcd[i].gd.pos.y = ssgcd[i-2].gd.pos.y+26;</span>
<span class="lineNum">    9073 </span><span class="lineNoCov">          0 :     sslabel[i].text = (unichar_t *) _(&quot;Pos&quot;);</span>
<span class="lineNum">    9074 </span><span class="lineNoCov">          0 :     sslabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9075 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.label = &amp;sslabel[i];</span>
<span class="lineNum">    9076 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9077 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    9078 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9079 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue;</span>
<span class="lineNum">    9080 </span>            : 
<span class="lineNum">    9081 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.x = 160; ssgcd[i].gd.pos.y = ssgcd[i-1].gd.pos.y-6;</span>
<span class="lineNum">    9082 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.pos.width = 50;</span>
<span class="lineNum">    9083 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9084 </span>            :         /* set later */
<span class="lineNum">    9085 </span><span class="lineNoCov">          0 :     ssgcd[i].gd.cid = CID_StrikeoutPos;</span>
<span class="lineNum">    9086 </span><span class="lineNoCov">          0 :     ssarray[j++] = &amp;ssgcd[i];</span>
<span class="lineNum">    9087 </span><span class="lineNoCov">          0 :     ssgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    9088 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue; ssarray[j++] = NULL;</span>
<span class="lineNum">    9089 </span>            : 
<span class="lineNum">    9090 </span><span class="lineNoCov">          0 :     ssarray[j++] = GCD_Glue; ssarray[j++] = GCD_Glue; ssarray[j++] = GCD_Glue; ssarray[j++] = GCD_Glue;</span>
<span class="lineNum">    9091 </span>            : 
<span class="lineNum">    9092 </span><span class="lineNoCov">          0 :     ssarray[j++] = NULL; ssarray[j++] = NULL;</span>
<span class="lineNum">    9093 </span>            : 
<span class="lineNum">    9094 </span><span class="lineNoCov">          0 :     memset(ssbox,0,sizeof(ssbox));</span>
<span class="lineNum">    9095 </span><span class="lineNoCov">          0 :     ssbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9096 </span><span class="lineNoCov">          0 :     ssbox[0].gd.u.boxelements = ssarray;</span>
<span class="lineNum">    9097 </span><span class="lineNoCov">          0 :     ssbox[0].creator = GHVBoxCreate;</span>
<span class="lineNum">    9098 </span>            : /******************************************************************************/
<span class="lineNum">    9099 </span><span class="lineNoCov">          0 :     memset(&amp;panlabel,0,sizeof(panlabel));</span>
<span class="lineNum">    9100 </span><span class="lineNoCov">          0 :     memset(&amp;pangcd,0,sizeof(pangcd));</span>
<span class="lineNum">    9101 </span>            : 
<span class="lineNum">    9102 </span><span class="lineNoCov">          0 :     if ( small_blue_box.main_foreground==0 ) {</span>
<span class="lineNum">    9103 </span>            :         extern void _GButtonInit(void);
<span class="lineNum">    9104 </span><span class="lineNoCov">          0 :         _GButtonInit();</span>
<span class="lineNum">    9105 </span><span class="lineNoCov">          0 :         small_blue_box = _GGadget_button_box;</span>
<span class="lineNum">    9106 </span><span class="lineNoCov">          0 :         small_blue_box.border_type = bt_box;</span>
<span class="lineNum">    9107 </span><span class="lineNoCov">          0 :         small_blue_box.border_shape = bs_rect;</span>
<span class="lineNum">    9108 </span><span class="lineNoCov">          0 :         small_blue_box.border_width = 1;</span>
<span class="lineNum">    9109 </span><span class="lineNoCov">          0 :         small_blue_box.flags = 0;</span>
<span class="lineNum">    9110 </span><span class="lineNoCov">          0 :         small_blue_box.padding = 0;</span>
<span class="lineNum">    9111 </span><span class="lineNoCov">          0 :         small_blue_box.main_foreground = 0x0000ff;</span>
<span class="lineNum">    9112 </span><span class="lineNoCov">          0 :         small_blue_box.border_darker = small_blue_box.main_foreground;</span>
<span class="lineNum">    9113 </span><span class="lineNoCov">          0 :         small_blue_box.border_darkest = small_blue_box.border_brighter =</span>
<span class="lineNum">    9114 </span><span class="lineNoCov">          0 :                 small_blue_box.border_brightest =</span>
<span class="lineNum">    9115 </span><span class="lineNoCov">          0 :                 small_blue_box.main_background = GDrawGetDefaultBackground(NULL);</span>
<span class="lineNum">    9116 </span>            :     }
<span class="lineNum">    9117 </span>            : 
<span class="lineNum">    9118 </span><span class="lineNoCov">          0 :     i = j = 0;</span>
<span class="lineNum">    9119 </span>            : 
<span class="lineNum">    9120 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 5; pangcd[i].gd.pos.y = 5;</span>
<span class="lineNum">    9121 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) S_(&quot;PanoseUse|Default&quot;);</span>
<span class="lineNum">    9122 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9123 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9124 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9125 </span>            :         /* value set later */
<span class="lineNum">    9126 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanDefault;</span>
<span class="lineNum">    9127 </span>            :     /*pangcd[i].gd.popup_msg = pangcd[i-1].gd.popup_msg;*/
<span class="lineNum">    9128 </span><span class="lineNoCov">          0 :     pangcd[i].gd.handle_controlevent = GFI_PanoseDefault;</span>
<span class="lineNum">    9129 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9130 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    9131 </span>            : 
<span class="lineNum">    9132 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) _( &quot;http://panose.com/&quot;);</span>
<span class="lineNum">    9133 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9134 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9135 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 12; ugcd[1].gd.pos.y = 10;</span>
<span class="lineNum">    9136 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled | gg_dontcopybox;</span>
<span class="lineNum">    9137 </span><span class="lineNoCov">          0 :     pangcd[i].gd.box = &amp;small_blue_box;</span>
<span class="lineNum">    9138 </span><span class="lineNoCov">          0 :     pangcd[i].gd.handle_controlevent = GFI_ShowPanoseDocs;</span>
<span class="lineNum">    9139 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">    9140 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i-1]; panarray[j++] = NULL;</span>
<span class="lineNum">    9141 </span>            : 
<span class="lineNum">    9142 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 20; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y+14+4;</span>
<span class="lineNum">    9143 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) S_(&quot;Panose|_Family Kind&quot;);</span>
<span class="lineNum">    9144 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9145 </span><span class="lineNoCov">          0 :     panlabel[i].text_in_resource = true;</span>
<span class="lineNum">    9146 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9147 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanFamilyLab;</span>
<span class="lineNum">    9148 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9149 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9150 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9151 </span>            : 
<span class="lineNum">    9152 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 100; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y-6; pangcd[i].gd.pos.width = 120;</span>
<span class="lineNum">    9153 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9154 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanFamily;</span>
<span class="lineNum">    9155 </span><span class="lineNoCov">          0 :     pangcd[i].gd.u.list = panfamily;</span>
<span class="lineNum">    9156 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9157 </span><span class="lineNoCov">          0 :     pangcd[i].gd.handle_controlevent = GFI_ChangePanoseFamily;</span>
<span class="lineNum">    9158 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GListButtonCreate;</span>
<span class="lineNum">    9159 </span><span class="lineNoCov">          0 :     panarray[j++] = NULL;</span>
<span class="lineNum">    9160 </span>            : 
<span class="lineNum">    9161 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 20; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y+26+5;</span>
<span class="lineNum">    9162 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) _(&quot;_Serifs&quot;);</span>
<span class="lineNum">    9163 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9164 </span><span class="lineNoCov">          0 :     panlabel[i].text_in_resource = true;</span>
<span class="lineNum">    9165 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9166 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanSerifsLab;</span>
<span class="lineNum">    9167 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9168 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9169 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9170 </span>            : 
<span class="lineNum">    9171 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 100; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y-6; pangcd[i].gd.pos.width = 120;</span>
<span class="lineNum">    9172 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9173 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanSerifs;</span>
<span class="lineNum">    9174 </span><span class="lineNoCov">          0 :     pangcd[i].gd.u.list = panserifs;</span>
<span class="lineNum">    9175 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9176 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GListButtonCreate;</span>
<span class="lineNum">    9177 </span><span class="lineNoCov">          0 :     panarray[j++] = NULL;</span>
<span class="lineNum">    9178 </span>            : 
<span class="lineNum">    9179 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 20; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y+26+5;</span>
<span class="lineNum">    9180 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) S_(&quot;Panose|_Weight&quot;);</span>
<span class="lineNum">    9181 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9182 </span><span class="lineNoCov">          0 :     panlabel[i].text_in_resource = true;</span>
<span class="lineNum">    9183 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9184 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanWeightLab;</span>
<span class="lineNum">    9185 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9186 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9187 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9188 </span>            : 
<span class="lineNum">    9189 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 100; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y-6; pangcd[i].gd.pos.width = 120;</span>
<span class="lineNum">    9190 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9191 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanWeight;</span>
<span class="lineNum">    9192 </span><span class="lineNoCov">          0 :     pangcd[i].gd.u.list = panweight;</span>
<span class="lineNum">    9193 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9194 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GListButtonCreate;</span>
<span class="lineNum">    9195 </span><span class="lineNoCov">          0 :     panarray[j++] = NULL;</span>
<span class="lineNum">    9196 </span>            : 
<span class="lineNum">    9197 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 20; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y+26+5;</span>
<span class="lineNum">    9198 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) _(&quot;_Proportion&quot;);</span>
<span class="lineNum">    9199 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9200 </span><span class="lineNoCov">          0 :     panlabel[i].text_in_resource = true;</span>
<span class="lineNum">    9201 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9202 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanPropLab;</span>
<span class="lineNum">    9203 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9204 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9205 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9206 </span>            : 
<span class="lineNum">    9207 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 100; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y-6; pangcd[i].gd.pos.width = 120;</span>
<span class="lineNum">    9208 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9209 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanProp;</span>
<span class="lineNum">    9210 </span><span class="lineNoCov">          0 :     pangcd[i].gd.u.list = panprop;</span>
<span class="lineNum">    9211 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9212 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GListButtonCreate;</span>
<span class="lineNum">    9213 </span><span class="lineNoCov">          0 :     panarray[j++] = NULL;</span>
<span class="lineNum">    9214 </span>            : 
<span class="lineNum">    9215 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 20; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y+26+5;</span>
<span class="lineNum">    9216 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) _(&quot;_Contrast&quot;);</span>
<span class="lineNum">    9217 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9218 </span><span class="lineNoCov">          0 :     panlabel[i].text_in_resource = true;</span>
<span class="lineNum">    9219 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9220 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanContrastLab;</span>
<span class="lineNum">    9221 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9222 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9223 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9224 </span>            : 
<span class="lineNum">    9225 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 100; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y-6; pangcd[i].gd.pos.width = 120;</span>
<span class="lineNum">    9226 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9227 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanContrast;</span>
<span class="lineNum">    9228 </span><span class="lineNoCov">          0 :     pangcd[i].gd.u.list = pancontrast;</span>
<span class="lineNum">    9229 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9230 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GListButtonCreate;</span>
<span class="lineNum">    9231 </span><span class="lineNoCov">          0 :     panarray[j++] = NULL;</span>
<span class="lineNum">    9232 </span>            : 
<span class="lineNum">    9233 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 20; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y+26+5;</span>
<span class="lineNum">    9234 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) _(&quot;Stroke _Variation&quot;);</span>
<span class="lineNum">    9235 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9236 </span><span class="lineNoCov">          0 :     panlabel[i].text_in_resource = true;</span>
<span class="lineNum">    9237 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9238 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanStrokeVarLab;</span>
<span class="lineNum">    9239 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9240 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9241 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9242 </span>            : 
<span class="lineNum">    9243 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 100; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y-6; pangcd[i].gd.pos.width = 120;</span>
<span class="lineNum">    9244 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9245 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanStrokeVar;</span>
<span class="lineNum">    9246 </span><span class="lineNoCov">          0 :     pangcd[i].gd.u.list = panstrokevar;</span>
<span class="lineNum">    9247 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9248 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GListButtonCreate;</span>
<span class="lineNum">    9249 </span><span class="lineNoCov">          0 :     panarray[j++] = NULL;</span>
<span class="lineNum">    9250 </span>            : 
<span class="lineNum">    9251 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 20; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y+26+5;</span>
<span class="lineNum">    9252 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) _(&quot;_Arm Style&quot;);</span>
<span class="lineNum">    9253 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9254 </span><span class="lineNoCov">          0 :     panlabel[i].text_in_resource = true;</span>
<span class="lineNum">    9255 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9256 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanArmStyleLab;</span>
<span class="lineNum">    9257 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9258 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9259 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9260 </span>            : 
<span class="lineNum">    9261 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 100; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y-6; pangcd[i].gd.pos.width = 120;</span>
<span class="lineNum">    9262 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9263 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanArmStyle;</span>
<span class="lineNum">    9264 </span><span class="lineNoCov">          0 :     pangcd[i].gd.u.list = panarmstyle;</span>
<span class="lineNum">    9265 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9266 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GListButtonCreate;</span>
<span class="lineNum">    9267 </span><span class="lineNoCov">          0 :     panarray[j++] = NULL;</span>
<span class="lineNum">    9268 </span>            : 
<span class="lineNum">    9269 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 20; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y+26+5;</span>
<span class="lineNum">    9270 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) _(&quot;_Letterform&quot;);</span>
<span class="lineNum">    9271 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9272 </span><span class="lineNoCov">          0 :     panlabel[i].text_in_resource = true;</span>
<span class="lineNum">    9273 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9274 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanLetterformLab;</span>
<span class="lineNum">    9275 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9276 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9277 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9278 </span>            : 
<span class="lineNum">    9279 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 100; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y-6; pangcd[i].gd.pos.width = 120;</span>
<span class="lineNum">    9280 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9281 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanLetterform;</span>
<span class="lineNum">    9282 </span><span class="lineNoCov">          0 :     pangcd[i].gd.u.list = panletterform;</span>
<span class="lineNum">    9283 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9284 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GListButtonCreate;</span>
<span class="lineNum">    9285 </span><span class="lineNoCov">          0 :     panarray[j++] = NULL;</span>
<span class="lineNum">    9286 </span>            : 
<span class="lineNum">    9287 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 20; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y+26+5;</span>
<span class="lineNum">    9288 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) _(&quot;_Midline&quot;);</span>
<span class="lineNum">    9289 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9290 </span><span class="lineNoCov">          0 :     panlabel[i].text_in_resource = true;</span>
<span class="lineNum">    9291 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9292 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanMidLineLab;</span>
<span class="lineNum">    9293 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9294 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9295 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9296 </span>            : 
<span class="lineNum">    9297 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 100; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y-6; pangcd[i].gd.pos.width = 120;</span>
<span class="lineNum">    9298 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9299 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanMidLine;</span>
<span class="lineNum">    9300 </span><span class="lineNoCov">          0 :     pangcd[i].gd.u.list = panmidline;</span>
<span class="lineNum">    9301 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9302 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GListButtonCreate;</span>
<span class="lineNum">    9303 </span><span class="lineNoCov">          0 :     panarray[j++] = NULL;</span>
<span class="lineNum">    9304 </span>            : 
<span class="lineNum">    9305 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 20; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y+26+5;</span>
<span class="lineNum">    9306 </span><span class="lineNoCov">          0 :     panlabel[i].text = (unichar_t *) _(&quot;_X-Height&quot;);</span>
<span class="lineNum">    9307 </span><span class="lineNoCov">          0 :     panlabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9308 </span><span class="lineNoCov">          0 :     panlabel[i].text_in_resource = true;</span>
<span class="lineNum">    9309 </span><span class="lineNoCov">          0 :     pangcd[i].gd.label = &amp;panlabel[i];</span>
<span class="lineNum">    9310 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanXHeightLab;</span>
<span class="lineNum">    9311 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9312 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9313 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9314 </span>            : 
<span class="lineNum">    9315 </span><span class="lineNoCov">          0 :     pangcd[i].gd.pos.x = 100; pangcd[i].gd.pos.y = pangcd[i-1].gd.pos.y-6; pangcd[i].gd.pos.width = 120;</span>
<span class="lineNum">    9316 </span><span class="lineNoCov">          0 :     pangcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9317 </span><span class="lineNoCov">          0 :     pangcd[i].gd.cid = CID_PanXHeight;</span>
<span class="lineNum">    9318 </span><span class="lineNoCov">          0 :     pangcd[i].gd.u.list = panxheight;</span>
<span class="lineNum">    9319 </span><span class="lineNoCov">          0 :     panarray[j++] = &amp;pangcd[i];</span>
<span class="lineNum">    9320 </span><span class="lineNoCov">          0 :     pangcd[i++].creator = GListButtonCreate;</span>
<span class="lineNum">    9321 </span><span class="lineNoCov">          0 :     panarray[j++] = NULL;</span>
<span class="lineNum">    9322 </span>            : 
<span class="lineNum">    9323 </span><span class="lineNoCov">          0 :     panarray[j++] = GCD_Glue; panarray[j++] = GCD_Glue;</span>
<span class="lineNum">    9324 </span>            : 
<span class="lineNum">    9325 </span><span class="lineNoCov">          0 :     panarray[j++] = NULL; panarray[j++] = NULL;</span>
<span class="lineNum">    9326 </span>            : 
<span class="lineNum">    9327 </span><span class="lineNoCov">          0 :     memset(panbox,0,sizeof(panbox));</span>
<span class="lineNum">    9328 </span><span class="lineNoCov">          0 :     panbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9329 </span><span class="lineNoCov">          0 :     panbox[0].gd.u.boxelements = panarray;</span>
<span class="lineNum">    9330 </span><span class="lineNoCov">          0 :     panbox[0].creator = GHVBoxCreate;</span>
<span class="lineNum">    9331 </span>            : /******************************************************************************/
<span class="lineNum">    9332 </span><span class="lineNoCov">          0 :     memset(cgcd,0,sizeof(cgcd));</span>
<span class="lineNum">    9333 </span><span class="lineNoCov">          0 :     memset(clabel,0,sizeof(clabel));</span>
<span class="lineNum">    9334 </span><span class="lineNoCov">          0 :     memset(cbox,0,sizeof(cbox));</span>
<span class="lineNum">    9335 </span>            : 
<span class="lineNum">    9336 </span><span class="lineNoCov">          0 :     i = j = 0;</span>
<span class="lineNum">    9337 </span><span class="lineNoCov">          0 :     clabel[i].text = (unichar_t *) _(&quot;Unicode Ranges:&quot;);</span>
<span class="lineNum">    9338 </span><span class="lineNoCov">          0 :     clabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9339 </span><span class="lineNoCov">          0 :     cgcd[i].gd.label = &amp;clabel[i];</span>
<span class="lineNum">    9340 </span><span class="lineNoCov">          0 :     cgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9341 </span><span class="lineNoCov">          0 :     cgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9342 </span><span class="lineNoCov">          0 :     charray1[0] = &amp;cgcd[i-1];</span>
<span class="lineNum">    9343 </span>            : 
<span class="lineNum">    9344 </span><span class="lineNoCov">          0 :     clabel[i].text = (unichar_t *) _(&quot;Default&quot;);</span>
<span class="lineNum">    9345 </span><span class="lineNoCov">          0 :     clabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9346 </span><span class="lineNoCov">          0 :     cgcd[i].gd.label = &amp;clabel[i];</span>
<span class="lineNum">    9347 </span><span class="lineNoCov">          0 :     cgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9348 </span><span class="lineNoCov">          0 :     if ( !sf-&gt;pfminfo.hasunicoderanges ) {</span>
<span class="lineNum">    9349 </span><span class="lineNoCov">          0 :         cgcd[i].gd.flags = gg_visible | gg_enabled | gg_cb_on;</span>
<span class="lineNum">    9350 </span><span class="lineNoCov">          0 :         OS2FigureUnicodeRanges(sf,sf-&gt;pfminfo.unicoderanges);</span>
<span class="lineNum">    9351 </span>            :     }
<span class="lineNum">    9352 </span><span class="lineNoCov">          0 :     cgcd[i].gd.cid = CID_URangesDefault;</span>
<span class="lineNum">    9353 </span><span class="lineNoCov">          0 :     cgcd[i].gd.handle_controlevent = OS2_URangesDefault;</span>
<span class="lineNum">    9354 </span><span class="lineNoCov">          0 :     cgcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    9355 </span><span class="lineNoCov">          0 :     charray1[1] = &amp;cgcd[i-1]; charray1[2] = GCD_Glue; charray1[3] = NULL;</span>
<span class="lineNum">    9356 </span>            : 
<span class="lineNum">    9357 </span><span class="lineNoCov">          0 :     cbox[2].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9358 </span><span class="lineNoCov">          0 :     cbox[2].gd.u.boxelements = charray1;</span>
<span class="lineNum">    9359 </span><span class="lineNoCov">          0 :     cbox[2].creator = GHBoxCreate;</span>
<span class="lineNum">    9360 </span><span class="lineNoCov">          0 :     cvarray[j++] = &amp;cbox[2];</span>
<span class="lineNum">    9361 </span>            : 
<span class="lineNum">    9362 </span><span class="lineNoCov">          0 :     sprintf( ranges, &quot;%08x.%08x.%08x.%08x&quot;,</span>
<span class="lineNum">    9363 </span>            :             sf-&gt;pfminfo.unicoderanges[3], sf-&gt;pfminfo.unicoderanges[2],
<span class="lineNum">    9364 </span>            :             sf-&gt;pfminfo.unicoderanges[1], sf-&gt;pfminfo.unicoderanges[0]);
<span class="lineNum">    9365 </span><span class="lineNoCov">          0 :     clabel[i].text = (unichar_t *) ranges;</span>
<span class="lineNum">    9366 </span><span class="lineNoCov">          0 :     clabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9367 </span><span class="lineNoCov">          0 :     cgcd[i].gd.label = &amp;clabel[i];</span>
<span class="lineNum">    9368 </span><span class="lineNoCov">          0 :     cgcd[i].gd.pos.width = 270;</span>
<span class="lineNum">    9369 </span><span class="lineNoCov">          0 :     cgcd[i].gd.flags = /* gg_visible |*/ gg_enabled;</span>
<span class="lineNum">    9370 </span><span class="lineNoCov">          0 :     if ( !sf-&gt;pfminfo.hasunicoderanges )</span>
<span class="lineNum">    9371 </span><span class="lineNoCov">          0 :         cgcd[i].gd.flags = /* gg_visible*/ 0;</span>
<span class="lineNum">    9372 </span><span class="lineNoCov">          0 :     cgcd[i].gd.cid = CID_UnicodeRanges;</span>
<span class="lineNum">    9373 </span><span class="lineNoCov">          0 :     cgcd[i].gd.handle_controlevent = OS2_UnicodeChange;</span>
<span class="lineNum">    9374 </span><span class="lineNoCov">          0 :     cgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    9375 </span><span class="lineNoCov">          0 :     cvarray[j++] = &amp;cgcd[i-1];</span>
<span class="lineNum">    9376 </span>            : 
<span class="lineNum">    9377 </span><span class="lineNoCov">          0 :     cgcd[i].gd.pos.width = 220; cgcd[i].gd.pos.height = 6*12+10;</span>
<span class="lineNum">    9378 </span><span class="lineNoCov">          0 :     cgcd[i].gd.flags = gg_visible | gg_enabled | gg_list_multiplesel;</span>
<span class="lineNum">    9379 </span><span class="lineNoCov">          0 :     if ( !sf-&gt;pfminfo.hasunicoderanges )</span>
<span class="lineNum">    9380 </span><span class="lineNoCov">          0 :         cgcd[i].gd.flags = gg_visible | gg_list_multiplesel;</span>
<span class="lineNum">    9381 </span><span class="lineNoCov">          0 :     cgcd[i].gd.cid = CID_UnicodeList;</span>
<span class="lineNum">    9382 </span><span class="lineNoCov">          0 :     cgcd[i].gd.u.list = unicoderangenames;</span>
<span class="lineNum">    9383 </span><span class="lineNoCov">          0 :     cgcd[i].gd.handle_controlevent = OS2_UnicodeChange;</span>
<span class="lineNum">    9384 </span><span class="lineNoCov">          0 :     cgcd[i++].creator = GListCreate;</span>
<span class="lineNum">    9385 </span><span class="lineNoCov">          0 :     cvarray[j++] = &amp;cgcd[i-1];</span>
<span class="lineNum">    9386 </span>            : 
<span class="lineNum">    9387 </span><span class="lineNoCov">          0 :     cgcd[i].gd.flags = gg_visible | gg_enabled ;</span>
<span class="lineNum">    9388 </span><span class="lineNoCov">          0 :     cgcd[i++].creator = GLineCreate;</span>
<span class="lineNum">    9389 </span><span class="lineNoCov">          0 :     cvarray[j++] = &amp;cgcd[i-1];</span>
<span class="lineNum">    9390 </span>            : 
<span class="lineNum">    9391 </span><span class="lineNoCov">          0 :     clabel[i].text = (unichar_t *) _(&quot;MS Code Pages:&quot;);</span>
<span class="lineNum">    9392 </span><span class="lineNoCov">          0 :     clabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9393 </span><span class="lineNoCov">          0 :     cgcd[i].gd.label = &amp;clabel[i];</span>
<span class="lineNum">    9394 </span><span class="lineNoCov">          0 :     cgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9395 </span><span class="lineNoCov">          0 :     cgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9396 </span><span class="lineNoCov">          0 :     charray2[0] = &amp;cgcd[i-1];</span>
<span class="lineNum">    9397 </span>            : 
<span class="lineNum">    9398 </span><span class="lineNoCov">          0 :     clabel[i].text = (unichar_t *) _(&quot;Default&quot;);</span>
<span class="lineNum">    9399 </span><span class="lineNoCov">          0 :     clabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9400 </span><span class="lineNoCov">          0 :     cgcd[i].gd.label = &amp;clabel[i];</span>
<span class="lineNum">    9401 </span><span class="lineNoCov">          0 :     cgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9402 </span><span class="lineNoCov">          0 :     if ( !sf-&gt;pfminfo.hascodepages ) {</span>
<span class="lineNum">    9403 </span><span class="lineNoCov">          0 :         cgcd[i].gd.flags = gg_visible | gg_enabled | gg_cb_on;</span>
<span class="lineNum">    9404 </span><span class="lineNoCov">          0 :         OS2FigureCodePages(sf,sf-&gt;pfminfo.codepages);</span>
<span class="lineNum">    9405 </span>            :     }
<span class="lineNum">    9406 </span><span class="lineNoCov">          0 :     cgcd[i].gd.cid = CID_CPageDefault;</span>
<span class="lineNum">    9407 </span><span class="lineNoCov">          0 :     cgcd[i].gd.handle_controlevent = OS2_CPageDefault;</span>
<span class="lineNum">    9408 </span><span class="lineNoCov">          0 :     cgcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    9409 </span><span class="lineNoCov">          0 :     charray2[1] = &amp;cgcd[i-1]; charray2[2] = GCD_Glue; charray2[3] = NULL;</span>
<span class="lineNum">    9410 </span>            : 
<span class="lineNum">    9411 </span><span class="lineNoCov">          0 :     cbox[3].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9412 </span><span class="lineNoCov">          0 :     cbox[3].gd.u.boxelements = charray2;</span>
<span class="lineNum">    9413 </span><span class="lineNoCov">          0 :     cbox[3].creator = GHBoxCreate;</span>
<span class="lineNum">    9414 </span><span class="lineNoCov">          0 :     cvarray[j++] = &amp;cbox[3];</span>
<span class="lineNum">    9415 </span>            : 
<span class="lineNum">    9416 </span><span class="lineNoCov">          0 :     sprintf( codepages, &quot;%08x.%08x&quot;,</span>
<span class="lineNum">    9417 </span>            :             sf-&gt;pfminfo.codepages[1], sf-&gt;pfminfo.codepages[0]);
<span class="lineNum">    9418 </span><span class="lineNoCov">          0 :     clabel[i].text = (unichar_t *) codepages;</span>
<span class="lineNum">    9419 </span><span class="lineNoCov">          0 :     clabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9420 </span><span class="lineNoCov">          0 :     cgcd[i].gd.label = &amp;clabel[i];</span>
<span class="lineNum">    9421 </span><span class="lineNoCov">          0 :     cgcd[i].gd.pos.width = 140;</span>
<span class="lineNum">    9422 </span><span class="lineNoCov">          0 :     cgcd[i].gd.flags = /*gg_visible |*/ gg_enabled;</span>
<span class="lineNum">    9423 </span><span class="lineNoCov">          0 :     if ( !sf-&gt;pfminfo.hascodepages )</span>
<span class="lineNum">    9424 </span><span class="lineNoCov">          0 :         cgcd[i].gd.flags = /*gg_visible*/ 0;</span>
<span class="lineNum">    9425 </span><span class="lineNoCov">          0 :     cgcd[i].gd.cid = CID_CodePageRanges;</span>
<span class="lineNum">    9426 </span><span class="lineNoCov">          0 :     cgcd[i].gd.handle_controlevent = OS2_CodePageChange;</span>
<span class="lineNum">    9427 </span><span class="lineNoCov">          0 :     cgcd[i++].creator = GTextFieldCreate;</span>
<span class="lineNum">    9428 </span><span class="lineNoCov">          0 :     cvarray2[0] = &amp;cgcd[i-1]; cvarray2[1] = GCD_Glue; cvarray2[2] = NULL;</span>
<span class="lineNum">    9429 </span>            : 
<span class="lineNum">    9430 </span><span class="lineNoCov">          0 :     cbox[4].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9431 </span><span class="lineNoCov">          0 :     cbox[4].gd.u.boxelements = cvarray2;</span>
<span class="lineNum">    9432 </span><span class="lineNoCov">          0 :     cbox[4].creator = GVBoxCreate;</span>
<span class="lineNum">    9433 </span><span class="lineNoCov">          0 :     charray3[0] = &amp;cbox[4];</span>
<span class="lineNum">    9434 </span>            : 
<span class="lineNum">    9435 </span><span class="lineNoCov">          0 :     cgcd[i].gd.pos.width = 200; cgcd[i].gd.pos.height = 6*12+10;</span>
<span class="lineNum">    9436 </span><span class="lineNoCov">          0 :     cgcd[i].gd.flags = gg_visible | gg_enabled | gg_list_multiplesel;</span>
<span class="lineNum">    9437 </span><span class="lineNoCov">          0 :     if ( !sf-&gt;pfminfo.hascodepages )</span>
<span class="lineNum">    9438 </span><span class="lineNoCov">          0 :         cgcd[i].gd.flags = gg_visible | gg_list_multiplesel;</span>
<span class="lineNum">    9439 </span><span class="lineNoCov">          0 :     cgcd[i].gd.cid = CID_CodePageList;</span>
<span class="lineNum">    9440 </span><span class="lineNoCov">          0 :     cgcd[i].gd.u.list = codepagenames;</span>
<span class="lineNum">    9441 </span><span class="lineNoCov">          0 :     cgcd[i].gd.handle_controlevent = OS2_CodePageChange;</span>
<span class="lineNum">    9442 </span><span class="lineNoCov">          0 :     cgcd[i++].creator = GListCreate;</span>
<span class="lineNum">    9443 </span><span class="lineNoCov">          0 :     charray3[1] = &amp;cgcd[i-1]; charray3[2] = NULL;</span>
<span class="lineNum">    9444 </span>            : 
<span class="lineNum">    9445 </span><span class="lineNoCov">          0 :     cbox[5].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9446 </span><span class="lineNoCov">          0 :     cbox[5].gd.u.boxelements = charray3;</span>
<span class="lineNum">    9447 </span><span class="lineNoCov">          0 :     cbox[5].creator = GHBoxCreate;</span>
<span class="lineNum">    9448 </span><span class="lineNoCov">          0 :     cvarray[j++] = &amp;cbox[5]; cvarray[j++] = GCD_Glue; cvarray[j++] = NULL;</span>
<span class="lineNum">    9449 </span>            : 
<span class="lineNum">    9450 </span><span class="lineNoCov">          0 :     cbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9451 </span><span class="lineNoCov">          0 :     cbox[0].gd.u.boxelements = cvarray;</span>
<span class="lineNum">    9452 </span><span class="lineNoCov">          0 :     cbox[0].creator = GVBoxCreate;</span>
<span class="lineNum">    9453 </span>            : 
<span class="lineNum">    9454 </span>            : /******************************************************************************/
<span class="lineNum">    9455 </span>            : 
<span class="lineNum">    9456 </span><span class="lineNoCov">          0 :     memset(&amp;vagcd,0,sizeof(vagcd));</span>
<span class="lineNum">    9457 </span><span class="lineNoCov">          0 :     memset(&amp;vaspects,'\0',sizeof(vaspects));</span>
<span class="lineNum">    9458 </span>            : 
<span class="lineNum">    9459 </span><span class="lineNoCov">          0 :     i = 0;</span>
<span class="lineNum">    9460 </span><span class="lineNoCov">          0 :     vaspects[i].text = (unichar_t *) _(&quot;Misc.&quot;);</span>
<span class="lineNum">    9461 </span><span class="lineNoCov">          0 :     vaspects[i].text_is_1byte = true;</span>
<span class="lineNum">    9462 </span><span class="lineNoCov">          0 :     vaspects[i++].gcd = vbox;</span>
<span class="lineNum">    9463 </span>            : 
<span class="lineNum">    9464 </span><span class="lineNoCov">          0 :     vaspects[i].text = (unichar_t *) _(&quot;Metrics&quot;);</span>
<span class="lineNum">    9465 </span><span class="lineNoCov">          0 :     vaspects[i].text_is_1byte = true;</span>
<span class="lineNum">    9466 </span><span class="lineNoCov">          0 :     vaspects[i++].gcd = metbox;</span>
<span class="lineNum">    9467 </span>            : 
<span class="lineNum">    9468 </span><span class="lineNoCov">          0 :     vaspects[i].text = (unichar_t *) _(&quot;Sub/Super&quot;);</span>
<span class="lineNum">    9469 </span><span class="lineNoCov">          0 :     vaspects[i].text_is_1byte = true;</span>
<span class="lineNum">    9470 </span><span class="lineNoCov">          0 :     vaspects[i++].gcd = ssbox;</span>
<span class="lineNum">    9471 </span>            : 
<span class="lineNum">    9472 </span><span class="lineNoCov">          0 :     vaspects[i].text = (unichar_t *) _(&quot;Panose&quot;);</span>
<span class="lineNum">    9473 </span><span class="lineNoCov">          0 :     vaspects[i].text_is_1byte = true;</span>
<span class="lineNum">    9474 </span><span class="lineNoCov">          0 :     vaspects[i++].gcd = panbox;</span>
<span class="lineNum">    9475 </span>            : 
<span class="lineNum">    9476 </span><span class="lineNoCov">          0 :     vaspects[i].text = (unichar_t *) _(&quot;Charsets&quot;);</span>
<span class="lineNum">    9477 </span><span class="lineNoCov">          0 :     vaspects[i].text_is_1byte = true;</span>
<span class="lineNum">    9478 </span><span class="lineNoCov">          0 :     vaspects[i++].gcd = cbox;</span>
<span class="lineNum">    9479 </span>            : 
<span class="lineNum">    9480 </span><span class="lineNoCov">          0 :     vagcd[0].gd.pos.x = 4; vagcd[0].gd.pos.y = 6;</span>
<span class="lineNum">    9481 </span><span class="lineNoCov">          0 :     vagcd[0].gd.pos.width = 252;</span>
<span class="lineNum">    9482 </span><span class="lineNoCov">          0 :     vagcd[0].gd.pos.height = 300;</span>
<span class="lineNum">    9483 </span><span class="lineNoCov">          0 :     vagcd[0].gd.u.tabs = vaspects;</span>
<span class="lineNum">    9484 </span><span class="lineNoCov">          0 :     vagcd[0].gd.flags = gg_visible | gg_enabled | gg_tabset_scroll;</span>
<span class="lineNum">    9485 </span>            :     /*vagcd[0].gd.handle_controlevent = GFI_TTFAspectChange;*/
<span class="lineNum">    9486 </span><span class="lineNoCov">          0 :     vagcd[0].gd.cid = CID_TTFTabs;</span>
<span class="lineNum">    9487 </span><span class="lineNoCov">          0 :     vagcd[0].creator = GTabSetCreate;</span>
<span class="lineNum">    9488 </span>            : 
<span class="lineNum">    9489 </span>            : /******************************************************************************/
<span class="lineNum">    9490 </span><span class="lineNoCov">          0 :     memset(&amp;gaspboxes,0,sizeof(gaspboxes));</span>
<span class="lineNum">    9491 </span><span class="lineNoCov">          0 :     memset(&amp;gaspgcd,0,sizeof(gaspgcd));</span>
<span class="lineNum">    9492 </span><span class="lineNoCov">          0 :     memset(&amp;gasplabel,0,sizeof(gasplabel));</span>
<span class="lineNum">    9493 </span><span class="lineNoCov">          0 :     memset(&amp;gaspgcd_def,0,sizeof(gaspgcd_def));</span>
<span class="lineNum">    9494 </span>            : 
<span class="lineNum">    9495 </span><span class="lineNoCov">          0 :     GaspMatrixInit(&amp;gaspmi,d);</span>
<span class="lineNum">    9496 </span>            : 
<span class="lineNum">    9497 </span><span class="lineNoCov">          0 :     i = j = 0;</span>
<span class="lineNum">    9498 </span>            : 
<span class="lineNum">    9499 </span><span class="lineNoCov">          0 :     gasplabel[i].text = (unichar_t *) S_(&quot;Gasp|_Version&quot;);</span>
<span class="lineNum">    9500 </span><span class="lineNoCov">          0 :     gasplabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9501 </span><span class="lineNoCov">          0 :     gasplabel[i].text_in_resource = true;</span>
<span class="lineNum">    9502 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.label = &amp;gasplabel[i];</span>
<span class="lineNum">    9503 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9504 </span><span class="lineNoCov">          0 :     gaspharray[j++] = &amp;gaspgcd[i];</span>
<span class="lineNum">    9505 </span><span class="lineNoCov">          0 :     gaspgcd[i++].creator = GLabelCreate;</span>
<span class="lineNum">    9506 </span>            : 
<span class="lineNum">    9507 </span><span class="lineNoCov">          0 :     for ( g=0; gaspversions[g].text!=NULL; ++g )</span>
<span class="lineNum">    9508 </span><span class="lineNoCov">          0 :         gaspversions[g].selected = false;</span>
<span class="lineNum">    9509 </span><span class="lineNoCov">          0 :     g = ( sf-&gt;gasp_version&gt;=0 &amp;&amp; sf-&gt;gasp_version&lt;g ) ? sf-&gt;gasp_version : 0;</span>
<span class="lineNum">    9510 </span>            : 
<span class="lineNum">    9511 </span><span class="lineNoCov">          0 :     gaspversions[g].selected = true;</span>
<span class="lineNum">    9512 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9513 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.cid = CID_GaspVersion;</span>
<span class="lineNum">    9514 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.label = &amp;gaspversions[g];</span>
<span class="lineNum">    9515 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.u.list = gaspversions;</span>
<span class="lineNum">    9516 </span><span class="lineNoCov">          0 :     gaspharray[j++] = &amp;gaspgcd[i];</span>
<span class="lineNum">    9517 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.handle_controlevent = GFI_GaspVersion;</span>
<span class="lineNum">    9518 </span><span class="lineNoCov">          0 :     gaspgcd[i++].creator = GListButtonCreate;</span>
<span class="lineNum">    9519 </span><span class="lineNoCov">          0 :     gaspharray[j++] = GCD_HPad10;</span>
<span class="lineNum">    9520 </span>            : 
<span class="lineNum">    9521 </span><span class="lineNoCov">          0 :     gasplabel[i].text = (unichar_t *) _(&quot;Optimized For ClearType&quot;);</span>
<span class="lineNum">    9522 </span><span class="lineNoCov">          0 :     gasplabel[i].text_is_1byte = true;</span>
<span class="lineNum">    9523 </span><span class="lineNoCov">          0 :     gasplabel[i].text_in_resource = true;</span>
<span class="lineNum">    9524 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.label = &amp;gasplabel[i];</span>
<span class="lineNum">    9525 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    9526 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.cid = CID_HeadClearType;</span>
<span class="lineNum">    9527 </span><span class="lineNoCov">          0 :     if ( sf-&gt;head_optimized_for_cleartype )</span>
<span class="lineNum">    9528 </span><span class="lineNoCov">          0 :         gaspgcd[i].gd.flags |= gg_cb_on;</span>
<span class="lineNum">    9529 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Actually a bit in the 'head' table.\nIf unset then certain East Asian fonts will not be hinted&quot;);</span>
<span class="lineNum">    9530 </span><span class="lineNoCov">          0 :     gaspharray[j++] = &amp;gaspgcd[i];</span>
<span class="lineNum">    9531 </span><span class="lineNoCov">          0 :     gaspgcd[i++].creator = GCheckBoxCreate;</span>
<span class="lineNum">    9532 </span><span class="lineNoCov">          0 :     gaspharray[j++] = NULL;</span>
<span class="lineNum">    9533 </span>            : 
<span class="lineNum">    9534 </span><span class="lineNoCov">          0 :     gaspboxes[2].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9535 </span><span class="lineNoCov">          0 :     gaspboxes[2].gd.u.boxelements = gaspharray;</span>
<span class="lineNum">    9536 </span><span class="lineNoCov">          0 :     gaspboxes[2].creator = GHBoxCreate;</span>
<span class="lineNum">    9537 </span>            : 
<span class="lineNum">    9538 </span><span class="lineNoCov">          0 :     gaspvarray[0] = &amp;gaspboxes[2];</span>
<span class="lineNum">    9539 </span>            : 
<span class="lineNum">    9540 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.pos.width = 300; gaspgcd[i].gd.pos.height = 200;</span>
<span class="lineNum">    9541 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.flags = gg_enabled | gg_visible | gg_utf8_popup;</span>
<span class="lineNum">    9542 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.cid = CID_Gasp;</span>
<span class="lineNum">    9543 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.u.matrix = &amp;gaspmi;</span>
<span class="lineNum">    9544 </span><span class="lineNoCov">          0 :     gaspgcd[i].gd.popup_msg = (unichar_t *) _(</span>
<span class="lineNum">    9545 </span>            :         &quot;The 'gasp' table gives you control over when grid-fitting and\n&quot;
<span class="lineNum">    9546 </span>            :         &quot;anti-aliased rasterizing are done.\n&quot;
<span class="lineNum">    9547 </span>            :         &quot;The table consists of an (ordered) list of pixel sizes each with\n&quot;
<span class="lineNum">    9548 </span>            :         &quot;a set of flags. Those flags apply to all pixel sizes bigger than\n&quot;
<span class="lineNum">    9549 </span>            :         &quot;the previous table entry but less than or equal to the current.\n&quot;
<span class="lineNum">    9550 </span>            :         &quot;The list must be terminated with a pixel size of 65535.\n&quot;
<span class="lineNum">    9551 </span>            :         &quot;Version 1 of the table contains two additional flags that\n&quot;
<span class="lineNum">    9552 </span>            :         &quot;apply to MS's ClearType rasterizer.\n\n&quot;
<span class="lineNum">    9553 </span>            :         &quot;The 'gasp' table only applies to truetype fonts.&quot;);
<span class="lineNum">    9554 </span><span class="lineNoCov">          0 :     gaspgcd[i].data = d;</span>
<span class="lineNum">    9555 </span><span class="lineNoCov">          0 :     gaspgcd[i].creator = GMatrixEditCreate;</span>
<span class="lineNum">    9556 </span><span class="lineNoCov">          0 :     gaspvarray[1] = &amp;gaspgcd[i];</span>
<span class="lineNum">    9557 </span><span class="lineNoCov">          0 :     gaspvarray[2] = NULL;</span>
<span class="lineNum">    9558 </span>            : 
<span class="lineNum">    9559 </span><span class="lineNoCov">          0 :     gaspboxes[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9560 </span><span class="lineNoCov">          0 :     gaspboxes[0].gd.u.boxelements = gaspvarray;</span>
<span class="lineNum">    9561 </span><span class="lineNoCov">          0 :     gaspboxes[0].creator = GVBoxCreate;</span>
<span class="lineNum">    9562 </span>            : 
<span class="lineNum">    9563 </span><span class="lineNoCov">          0 :     gaspgcd_def[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9564 </span><span class="lineNoCov">          0 :     gasplabel[4].text = (unichar_t *) S_(&quot;Gasp|_Default&quot;);</span>
<span class="lineNum">    9565 </span><span class="lineNoCov">          0 :     gasplabel[4].text_is_1byte = true;</span>
<span class="lineNum">    9566 </span><span class="lineNoCov">          0 :     gasplabel[4].text_in_resource = true;</span>
<span class="lineNum">    9567 </span><span class="lineNoCov">          0 :     gaspgcd_def[0].gd.label = &amp;gasplabel[4];</span>
<span class="lineNum">    9568 </span><span class="lineNoCov">          0 :     gaspgcd_def[0].gd.handle_controlevent = Gasp_Default;</span>
<span class="lineNum">    9569 </span><span class="lineNoCov">          0 :     gaspgcd_def[0].creator = GButtonCreate;</span>
<span class="lineNum">    9570 </span>            : /******************************************************************************/
<span class="lineNum">    9571 </span><span class="lineNoCov">          0 :     memset(&amp;tnlabel,0,sizeof(tnlabel));</span>
<span class="lineNum">    9572 </span><span class="lineNoCov">          0 :     memset(&amp;tngcd,0,sizeof(tngcd));</span>
<span class="lineNum">    9573 </span><span class="lineNoCov">          0 :     memset(&amp;tnboxes,0,sizeof(tnboxes));</span>
<span class="lineNum">    9574 </span>            : 
<span class="lineNum">    9575 </span><span class="lineNoCov">          0 :     TNMatrixInit(&amp;mi,d);</span>
<span class="lineNum">    9576 </span>            : 
<span class="lineNum">    9577 </span><span class="lineNoCov">          0 :     tngcd[0].gd.pos.x = 5; tngcd[0].gd.pos.y = 6;</span>
<span class="lineNum">    9578 </span><span class="lineNoCov">          0 :     tngcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9579 </span><span class="lineNoCov">          0 :     tnlabel[0].text = (unichar_t *) _(&quot;Sort By:&quot;);</span>
<span class="lineNum">    9580 </span><span class="lineNoCov">          0 :     tnlabel[0].text_is_1byte = true;</span>
<span class="lineNum">    9581 </span><span class="lineNoCov">          0 :     tngcd[0].gd.label = &amp;tnlabel[0];</span>
<span class="lineNum">    9582 </span><span class="lineNoCov">          0 :     tngcd[0].creator = GLabelCreate;</span>
<span class="lineNum">    9583 </span><span class="lineNoCov">          0 :     tnharray[0] = &amp;tngcd[0];</span>
<span class="lineNum">    9584 </span>            : 
<span class="lineNum">    9585 </span><span class="lineNoCov">          0 :     tngcd[1].gd.pos.x = 50; tngcd[1].gd.pos.y = tngcd[0].gd.pos.y-4;</span>
<span class="lineNum">    9586 </span><span class="lineNoCov">          0 :     tngcd[1].gd.flags = gg_enabled | gg_visible;</span>
<span class="lineNum">    9587 </span><span class="lineNoCov">          0 :     tngcd[1].gd.cid = CID_TNLangSort;</span>
<span class="lineNum">    9588 </span><span class="lineNoCov">          0 :     tnlabel[1].text = (unichar_t *) _(&quot;_Language&quot;);</span>
<span class="lineNum">    9589 </span><span class="lineNoCov">          0 :     tnlabel[1].text_is_1byte = true;</span>
<span class="lineNum">    9590 </span><span class="lineNoCov">          0 :     tnlabel[1].text_in_resource = true;</span>
<span class="lineNum">    9591 </span><span class="lineNoCov">          0 :     tngcd[1].gd.label = &amp;tnlabel[1];</span>
<span class="lineNum">    9592 </span><span class="lineNoCov">          0 :     tngcd[1].creator = GRadioCreate;</span>
<span class="lineNum">    9593 </span><span class="lineNoCov">          0 :     tngcd[1].gd.handle_controlevent = GFI_SortBy;</span>
<span class="lineNum">    9594 </span><span class="lineNoCov">          0 :     tnharray[1] = &amp;tngcd[1];</span>
<span class="lineNum">    9595 </span>            : 
<span class="lineNum">    9596 </span><span class="lineNoCov">          0 :     tngcd[2].gd.pos.x = 120; tngcd[2].gd.pos.y = tngcd[1].gd.pos.y;</span>
<span class="lineNum">    9597 </span><span class="lineNoCov">          0 :     tngcd[2].gd.flags = gg_visible | gg_enabled | gg_rad_continueold;</span>
<span class="lineNum">    9598 </span><span class="lineNoCov">          0 :     tngcd[2].gd.cid = CID_TNStringSort;</span>
<span class="lineNum">    9599 </span><span class="lineNoCov">          0 :     tnlabel[2].text = (unichar_t *) _(&quot;_String Type&quot;);</span>
<span class="lineNum">    9600 </span><span class="lineNoCov">          0 :     tnlabel[2].text_is_1byte = true;</span>
<span class="lineNum">    9601 </span><span class="lineNoCov">          0 :     tnlabel[2].text_in_resource = true;</span>
<span class="lineNum">    9602 </span><span class="lineNoCov">          0 :     tngcd[2].gd.label = &amp;tnlabel[2];</span>
<span class="lineNum">    9603 </span><span class="lineNoCov">          0 :     tngcd[2].creator = GRadioCreate;</span>
<span class="lineNum">    9604 </span><span class="lineNoCov">          0 :     tngcd[2].gd.handle_controlevent = GFI_SortBy;</span>
<span class="lineNum">    9605 </span><span class="lineNoCov">          0 :     tnharray[2] = &amp;tngcd[2];</span>
<span class="lineNum">    9606 </span>            : 
<span class="lineNum">    9607 </span><span class="lineNoCov">          0 :     tngcd[3].gd.pos.x = 195; tngcd[3].gd.pos.y = tngcd[1].gd.pos.y;</span>
<span class="lineNum">    9608 </span><span class="lineNoCov">          0 :     tngcd[3].gd.flags = gg_visible | gg_enabled | gg_cb_on | gg_rad_continueold;</span>
<span class="lineNum">    9609 </span><span class="lineNoCov">          0 :     tnlabel[3].text = (unichar_t *) S_(&quot;SortingScheme|Default&quot;);</span>
<span class="lineNum">    9610 </span><span class="lineNoCov">          0 :     tnlabel[3].text_is_1byte = true;</span>
<span class="lineNum">    9611 </span><span class="lineNoCov">          0 :     tngcd[3].gd.label = &amp;tnlabel[3];</span>
<span class="lineNum">    9612 </span><span class="lineNoCov">          0 :     tngcd[3].creator = GRadioCreate;</span>
<span class="lineNum">    9613 </span><span class="lineNoCov">          0 :     tngcd[3].gd.handle_controlevent = GFI_SortBy;</span>
<span class="lineNum">    9614 </span><span class="lineNoCov">          0 :     tnharray[3] = &amp;tngcd[3]; tnharray[4] = GCD_Glue; tnharray[5] = NULL;</span>
<span class="lineNum">    9615 </span>            : 
<span class="lineNum">    9616 </span><span class="lineNoCov">          0 :     tngcd[4].gd.pos.x = 10; tngcd[4].gd.pos.y = tngcd[1].gd.pos.y+14;</span>
<span class="lineNum">    9617 </span><span class="lineNoCov">          0 :     tngcd[4].gd.pos.width = 300; tngcd[4].gd.pos.height = 200;</span>
<span class="lineNum">    9618 </span><span class="lineNoCov">          0 :     tngcd[4].gd.flags = gg_enabled | gg_visible | gg_utf8_popup;</span>
<span class="lineNum">    9619 </span><span class="lineNoCov">          0 :     tngcd[4].gd.cid = CID_TNames;</span>
<span class="lineNum">    9620 </span><span class="lineNoCov">          0 :     tngcd[4].gd.u.matrix = &amp;mi;</span>
<span class="lineNum">    9621 </span><span class="lineNoCov">          0 :     tngcd[4].gd.popup_msg = (unichar_t *) _(</span>
<span class="lineNum">    9622 </span>            :         &quot;To create a new name, left click on the &lt;New&gt; button, and select a locale.\n&quot;
<span class="lineNum">    9623 </span>            :         &quot;To change the locale, left click on it.\n&quot;
<span class="lineNum">    9624 </span>            :         &quot;To change the string type, left click on it.\n&quot;
<span class="lineNum">    9625 </span>            :         &quot;To change the text, left click in it and then type.\n&quot;
<span class="lineNum">    9626 </span>            :         &quot;To delete a name, right click on the name &amp; select Delete from the menu.\n&quot;
<span class="lineNum">    9627 </span>            :         &quot;To associate or disassociate a truetype name to its postscript equivalent\n&quot;
<span class="lineNum">    9628 </span>            :         &quot;right click and select the appropriate menu item.&quot; );
<span class="lineNum">    9629 </span><span class="lineNoCov">          0 :     tngcd[4].data = d;</span>
<span class="lineNum">    9630 </span><span class="lineNoCov">          0 :     tngcd[4].creator = GMatrixEditCreate;</span>
<span class="lineNum">    9631 </span>            : 
<span class="lineNum">    9632 </span><span class="lineNoCov">          0 :     tngcd[5].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    9633 </span>            : /* GT: when translating this please leave the &quot;SIL Open Font License&quot; in */
<span class="lineNum">    9634 </span>            : /* GT: English (possibly translating it in parentheses). I believe there */
<span class="lineNum">    9635 </span>            : /* GT: are legal reasons for this. */
<span class="lineNum">    9636 </span>            : /* GT: So &quot;Aadir SIL Open Font License (licencia de fuentes libres)&quot; */
<span class="lineNum">    9637 </span><span class="lineNoCov">          0 :     tnlabel[5].text = (unichar_t *) S_(&quot;Add OFL&quot;);</span>
<span class="lineNum">    9638 </span><span class="lineNoCov">          0 :     tnlabel[5].image_precedes = false;</span>
<span class="lineNum">    9639 </span><span class="lineNoCov">          0 :     tnlabel[5].image = &amp;OFL_logo;</span>
<span class="lineNum">    9640 </span><span class="lineNoCov">          0 :     tnlabel[5].text_is_1byte = true;</span>
<span class="lineNum">    9641 </span><span class="lineNoCov">          0 :     tnlabel[5].text_in_resource = true;</span>
<span class="lineNum">    9642 </span><span class="lineNoCov">          0 :     tngcd[5].gd.label = &amp;tnlabel[5];</span>
<span class="lineNum">    9643 </span><span class="lineNoCov">          0 :     tngcd[5].gd.handle_controlevent = GFI_AddOFL;</span>
<span class="lineNum">    9644 </span><span class="lineNoCov">          0 :     tngcd[5].gd.popup_msg = (unichar_t *) _(</span>
<span class="lineNum">    9645 </span>            :         &quot;Click here to add the OFL metadata to your own font in the License and License URL fields. \n&quot;
<span class="lineNum">    9646 </span>            :         &quot;Then click on the License field to fill in the placeholders in sync with OFL.txt. \n&quot;);
<span class="lineNum">    9647 </span><span class="lineNoCov">          0 :     tngcd[5].creator = GButtonCreate;</span>
<span class="lineNum">    9648 </span>            : 
<span class="lineNum">    9649 </span><span class="lineNoCov">          0 :     tngcd[6].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    9650 </span><span class="lineNoCov">          0 :     tnlabel[6].text = (unichar_t *) S_(&quot;scripts.sil.org/OFL&quot;);</span>
<span class="lineNum">    9651 </span><span class="lineNoCov">          0 :     tnlabel[6].text_is_1byte = true;</span>
<span class="lineNum">    9652 </span><span class="lineNoCov">          0 :     tnlabel[6].text_in_resource = true;</span>
<span class="lineNum">    9653 </span><span class="lineNoCov">          0 :     tngcd[6].gd.label = &amp;tnlabel[6];</span>
<span class="lineNum">    9654 </span><span class="lineNoCov">          0 :     tngcd[6].gd.handle_controlevent = GFI_HelpOFL;</span>
<span class="lineNum">    9655 </span><span class="lineNoCov">          0 :     tngcd[6].gd.popup_msg = (unichar_t *) _(</span>
<span class="lineNum">    9656 </span>            :         &quot;Click here for more information about the OFL (SIL Open Font License) \n&quot;
<span class="lineNum">    9657 </span>            :         &quot;including the corresponding FAQ. \n&quot;);
<span class="lineNum">    9658 </span><span class="lineNoCov">          0 :     tngcd[6].creator = GButtonCreate;</span>
<span class="lineNum">    9659 </span><span class="lineNoCov">          0 :     tnharray2[0] = &amp;tngcd[5]; tnharray2[1] = &amp;tngcd[6]; tnharray2[2] = GCD_Glue; tnharray2[3] = NULL;</span>
<span class="lineNum">    9660 </span><span class="lineNoCov">          0 :     tnvarray[0] = &amp;tnboxes[2]; tnvarray[1] = &amp;tngcd[4]; tnvarray[2] = &amp;tnboxes[3]; tnvarray[3] = NULL;</span>
<span class="lineNum">    9661 </span>            : 
<span class="lineNum">    9662 </span><span class="lineNoCov">          0 :     tnboxes[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9663 </span><span class="lineNoCov">          0 :     tnboxes[0].gd.u.boxelements = tnvarray;</span>
<span class="lineNum">    9664 </span><span class="lineNoCov">          0 :     tnboxes[0].creator = GVBoxCreate;</span>
<span class="lineNum">    9665 </span>            : 
<span class="lineNum">    9666 </span><span class="lineNoCov">          0 :     tnboxes[2].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9667 </span><span class="lineNoCov">          0 :     tnboxes[2].gd.u.boxelements = tnharray;</span>
<span class="lineNum">    9668 </span><span class="lineNoCov">          0 :     tnboxes[2].creator = GHBoxCreate;</span>
<span class="lineNum">    9669 </span>            : 
<span class="lineNum">    9670 </span><span class="lineNoCov">          0 :     tnboxes[3].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9671 </span><span class="lineNoCov">          0 :     tnboxes[3].gd.u.boxelements = tnharray2;</span>
<span class="lineNum">    9672 </span><span class="lineNoCov">          0 :     tnboxes[3].creator = GHBoxCreate;</span>
<span class="lineNum">    9673 </span>            : /******************************************************************************/
<span class="lineNum">    9674 </span><span class="lineNoCov">          0 :     memset(&amp;ssnlabel,0,sizeof(ssnlabel));</span>
<span class="lineNum">    9675 </span><span class="lineNoCov">          0 :     memset(&amp;ssngcd,0,sizeof(ssngcd));</span>
<span class="lineNum">    9676 </span><span class="lineNoCov">          0 :     memset(&amp;ssboxes,0,sizeof(ssboxes));</span>
<span class="lineNum">    9677 </span>            : 
<span class="lineNum">    9678 </span><span class="lineNoCov">          0 :     SSMatrixInit(&amp;ssmi,d);</span>
<span class="lineNum">    9679 </span>            : 
<span class="lineNum">    9680 </span><span class="lineNoCov">          0 :     ssngcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9681 </span><span class="lineNoCov">          0 :     ssnlabel[0].text = (unichar_t *) _(&quot;The OpenType Style Set features ('ss01'-'ss20') may\n&quot;</span>
<span class="lineNum">    9682 </span>            :                                       &quot;be assigned human readable names here.&quot;);
<span class="lineNum">    9683 </span><span class="lineNoCov">          0 :     ssnlabel[0].text_is_1byte = true;</span>
<span class="lineNum">    9684 </span><span class="lineNoCov">          0 :     ssngcd[0].gd.label = &amp;ssnlabel[0];</span>
<span class="lineNum">    9685 </span><span class="lineNoCov">          0 :     ssngcd[0].creator = GLabelCreate;</span>
<span class="lineNum">    9686 </span><span class="lineNoCov">          0 :     ssvarray[0] = &amp;ssngcd[0];</span>
<span class="lineNum">    9687 </span>            : 
<span class="lineNum">    9688 </span><span class="lineNoCov">          0 :     ssngcd[1].gd.pos.width = 300; ssngcd[1].gd.pos.height = 200;</span>
<span class="lineNum">    9689 </span><span class="lineNoCov">          0 :     ssngcd[1].gd.flags = gg_enabled | gg_visible | gg_utf8_popup;</span>
<span class="lineNum">    9690 </span><span class="lineNoCov">          0 :     ssngcd[1].gd.cid = CID_SSNames;</span>
<span class="lineNum">    9691 </span><span class="lineNoCov">          0 :     ssngcd[1].gd.u.matrix = &amp;ssmi;</span>
<span class="lineNum">    9692 </span><span class="lineNoCov">          0 :     ssngcd[1].gd.popup_msg = (unichar_t *) _(</span>
<span class="lineNum">    9693 </span>            :         &quot;To create a new name, left click on the &lt;New&gt; button, and select a locale (language).\n&quot;
<span class="lineNum">    9694 </span>            :         &quot;To change the locale, left click on it.\n&quot;
<span class="lineNum">    9695 </span>            :         &quot;To change the feature, left click on it.\n&quot;
<span class="lineNum">    9696 </span>            :         &quot;To change the text, left click in it and then type.\n&quot;
<span class="lineNum">    9697 </span>            :         );
<span class="lineNum">    9698 </span><span class="lineNoCov">          0 :     ssngcd[1].data = d;</span>
<span class="lineNum">    9699 </span><span class="lineNoCov">          0 :     ssngcd[1].creator = GMatrixEditCreate;</span>
<span class="lineNum">    9700 </span><span class="lineNoCov">          0 :     ssvarray[1] = &amp;ssngcd[1]; ssvarray[2] = NULL;</span>
<span class="lineNum">    9701 </span>            : 
<span class="lineNum">    9702 </span><span class="lineNoCov">          0 :     ssboxes[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9703 </span><span class="lineNoCov">          0 :     ssboxes[0].gd.u.boxelements = ssvarray;</span>
<span class="lineNum">    9704 </span><span class="lineNoCov">          0 :     ssboxes[0].creator = GVBoxCreate;</span>
<span class="lineNum">    9705 </span>            : /******************************************************************************/
<span class="lineNum">    9706 </span><span class="lineNoCov">          0 :     memset(&amp;comlabel,0,sizeof(comlabel));</span>
<span class="lineNum">    9707 </span><span class="lineNoCov">          0 :     memset(&amp;comgcd,0,sizeof(comgcd));</span>
<span class="lineNum">    9708 </span>            : 
<span class="lineNum">    9709 </span><span class="lineNoCov">          0 :     comgcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9710 </span><span class="lineNoCov">          0 :     comlabel[0].text = (unichar_t *) _(&quot;The font comment can contain whatever you feel it should&quot;);</span>
<span class="lineNum">    9711 </span><span class="lineNoCov">          0 :     comlabel[0].text_is_1byte = true;</span>
<span class="lineNum">    9712 </span><span class="lineNoCov">          0 :     comgcd[0].gd.label = &amp;comlabel[0];</span>
<span class="lineNum">    9713 </span><span class="lineNoCov">          0 :     comgcd[0].creator = GLabelCreate;</span>
<span class="lineNum">    9714 </span>            : 
<span class="lineNum">    9715 </span><span class="lineNoCov">          0 :     comgcd[1].gd.pos.x = 10; comgcd[1].gd.pos.y = 10;</span>
<span class="lineNum">    9716 </span><span class="lineNoCov">          0 :     comgcd[1].gd.pos.width = ngcd[11].gd.pos.width; comgcd[1].gd.pos.height = 230;</span>
<span class="lineNum">    9717 </span><span class="lineNoCov">          0 :     comgcd[1].gd.flags = gg_visible | gg_enabled | gg_textarea_wrap | gg_text_xim;</span>
<span class="lineNum">    9718 </span><span class="lineNoCov">          0 :     comgcd[1].gd.cid = CID_Comment;</span>
<span class="lineNum">    9719 </span><span class="lineNoCov">          0 :     comlabel[1].text = (unichar_t *) sf-&gt;comments;</span>
<span class="lineNum">    9720 </span><span class="lineNoCov">          0 :     comlabel[1].text_is_1byte = true;</span>
<span class="lineNum">    9721 </span><span class="lineNoCov">          0 :     if ( comlabel[1].text==NULL ) comlabel[1].text = (unichar_t *) &quot;&quot;;</span>
<span class="lineNum">    9722 </span><span class="lineNoCov">          0 :     comgcd[1].gd.label = &amp;comlabel[1];</span>
<span class="lineNum">    9723 </span><span class="lineNoCov">          0 :     comgcd[1].creator = GTextAreaCreate;</span>
<span class="lineNum">    9724 </span>            : 
<span class="lineNum">    9725 </span><span class="lineNoCov">          0 :     comarray[0] = &amp;comgcd[0]; comarray[1] = &amp;comgcd[1]; comarray[2] = NULL;</span>
<span class="lineNum">    9726 </span><span class="lineNoCov">          0 :     memset(combox,0,sizeof(combox));</span>
<span class="lineNum">    9727 </span><span class="lineNoCov">          0 :     combox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9728 </span><span class="lineNoCov">          0 :     combox[0].gd.u.boxelements = comarray;</span>
<span class="lineNum">    9729 </span><span class="lineNoCov">          0 :     combox[0].creator = GVBoxCreate;</span>
<span class="lineNum">    9730 </span>            : 
<span class="lineNum">    9731 </span>            : /******************************************************************************/
<span class="lineNum">    9732 </span><span class="lineNoCov">          0 :     memset(&amp;floglabel,0,sizeof(floglabel));</span>
<span class="lineNum">    9733 </span><span class="lineNoCov">          0 :     memset(&amp;floggcd,0,sizeof(floggcd));</span>
<span class="lineNum">    9734 </span>            : 
<span class="lineNum">    9735 </span><span class="lineNoCov">          0 :     floggcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9736 </span><span class="lineNoCov">          0 :     floglabel[0].text = (unichar_t *) _(&quot;The FONTLOG contains some description of the \n font project, a detailed changelog, and a list of contributors&quot;);</span>
<span class="lineNum">    9737 </span><span class="lineNoCov">          0 :     floglabel[0].text_is_1byte = true;</span>
<span class="lineNum">    9738 </span><span class="lineNoCov">          0 :     floggcd[0].gd.label = &amp;floglabel[0];</span>
<span class="lineNum">    9739 </span><span class="lineNoCov">          0 :     floggcd[0].creator = GLabelCreate;</span>
<span class="lineNum">    9740 </span>            : 
<span class="lineNum">    9741 </span><span class="lineNoCov">          0 :     floggcd[1].gd.flags = gg_visible | gg_enabled | gg_textarea_wrap | gg_text_xim;</span>
<span class="lineNum">    9742 </span><span class="lineNoCov">          0 :     floggcd[1].gd.cid = CID_FontLog;</span>
<span class="lineNum">    9743 </span><span class="lineNoCov">          0 :     floglabel[1].text = (unichar_t *) sf-&gt;fontlog;</span>
<span class="lineNum">    9744 </span><span class="lineNoCov">          0 :     floglabel[1].text_is_1byte = true;</span>
<span class="lineNum">    9745 </span><span class="lineNoCov">          0 :     if ( floglabel[1].text==NULL ) floglabel[1].text = (unichar_t *) &quot;&quot;;</span>
<span class="lineNum">    9746 </span><span class="lineNoCov">          0 :     floggcd[1].gd.label = &amp;floglabel[1];</span>
<span class="lineNum">    9747 </span><span class="lineNoCov">          0 :     floggcd[1].creator = GTextAreaCreate;</span>
<span class="lineNum">    9748 </span>            : 
<span class="lineNum">    9749 </span><span class="lineNoCov">          0 :     flogarray[0] = &amp;floggcd[0]; flogarray[1] = &amp;floggcd[1]; flogarray[2] = NULL;</span>
<span class="lineNum">    9750 </span><span class="lineNoCov">          0 :     memset(flogbox,0,sizeof(flogbox));</span>
<span class="lineNum">    9751 </span><span class="lineNoCov">          0 :     flogbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9752 </span><span class="lineNoCov">          0 :     flogbox[0].gd.u.boxelements = flogarray;</span>
<span class="lineNum">    9753 </span><span class="lineNoCov">          0 :     flogbox[0].creator = GVBoxCreate;</span>
<span class="lineNum">    9754 </span>            : 
<span class="lineNum">    9755 </span>            : /******************************************************************************/
<span class="lineNum">    9756 </span><span class="lineNoCov">          0 :     memset(&amp;mklabel,0,sizeof(mklabel));</span>
<span class="lineNum">    9757 </span><span class="lineNoCov">          0 :     memset(&amp;mkgcd,0,sizeof(mkgcd));</span>
<span class="lineNum">    9758 </span>            : 
<span class="lineNum">    9759 </span><span class="lineNoCov">          0 :     mklabel[0].text = (unichar_t *) _(</span>
<span class="lineNum">    9760 </span>            :         &quot;These are not Anchor Classes. For them see the \&quot;Lookups\&quot; pane.\n&quot;
<span class="lineNum">    9761 </span>            :         &quot;(Mark Classes can control when lookups are active, they do NOT\n&quot;
<span class="lineNum">    9762 </span>            :         &quot; position glyphs.)&quot;);
<span class="lineNum">    9763 </span><span class="lineNoCov">          0 :     mklabel[0].text_is_1byte = true;</span>
<span class="lineNum">    9764 </span><span class="lineNoCov">          0 :     mkgcd[0].gd.label = &amp;mklabel[0];</span>
<span class="lineNum">    9765 </span><span class="lineNoCov">          0 :     mkgcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9766 </span><span class="lineNoCov">          0 :     mkgcd[0].creator = GLabelCreate;</span>
<span class="lineNum">    9767 </span>            : 
<span class="lineNum">    9768 </span><span class="lineNoCov">          0 :     memset(&amp;markc_mi,0,sizeof(markc_mi));</span>
<span class="lineNum">    9769 </span><span class="lineNoCov">          0 :     markc_mi.col_cnt = 2;</span>
<span class="lineNum">    9770 </span><span class="lineNoCov">          0 :     markc_mi.col_init = markc_ci;</span>
<span class="lineNum">    9771 </span>            : 
<span class="lineNum">    9772 </span>            :     /* Class 0 is unused */
<span class="lineNum">    9773 </span><span class="lineNoCov">          0 :     markc_md = calloc(sf-&gt;mark_class_cnt+1,2*sizeof(struct matrix_data));</span>
<span class="lineNum">    9774 </span><span class="lineNoCov">          0 :     for ( i=1; i&lt;sf-&gt;mark_class_cnt; ++i ) {</span>
<span class="lineNum">    9775 </span><span class="lineNoCov">          0 :         markc_md[2*(i-1)+0].u.md_str = copy(sf-&gt;mark_class_names[i]);</span>
<span class="lineNum">    9776 </span><span class="lineNoCov">          0 :         markc_md[2*(i-1)+1].u.md_str = SFNameList2NameUni(sf,sf-&gt;mark_classes[i]);</span>
<span class="lineNum">    9777 </span>            :     }
<span class="lineNum">    9778 </span><span class="lineNoCov">          0 :     markc_mi.matrix_data = markc_md;</span>
<span class="lineNum">    9779 </span><span class="lineNoCov">          0 :     markc_mi.initial_row_cnt = sf-&gt;mark_class_cnt&gt;0?sf-&gt;mark_class_cnt-1:0;</span>
<span class="lineNum">    9780 </span><span class="lineNoCov">          0 :     markc_mi.finishedit = GFI_Mark_FinishEdit;</span>
<span class="lineNum">    9781 </span>            : 
<span class="lineNum">    9782 </span><span class="lineNoCov">          0 :     mkgcd[1].gd.pos.x = 10; mkgcd[1].gd.pos.y = 10;</span>
<span class="lineNum">    9783 </span><span class="lineNoCov">          0 :     mkgcd[1].gd.pos.width = ngcd[15].gd.pos.width; mkgcd[1].gd.pos.height = 200;</span>
<span class="lineNum">    9784 </span><span class="lineNoCov">          0 :     mkgcd[1].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9785 </span><span class="lineNoCov">          0 :     mkgcd[1].gd.cid = CID_MarkClasses;</span>
<span class="lineNum">    9786 </span><span class="lineNoCov">          0 :     mkgcd[1].gd.u.matrix = &amp;markc_mi;</span>
<span class="lineNum">    9787 </span><span class="lineNoCov">          0 :     mkgcd[1].creator = GMatrixEditCreate;</span>
<span class="lineNum">    9788 </span>            : 
<span class="lineNum">    9789 </span><span class="lineNoCov">          0 :     mkgcd[2].gd.pos.x = 10; mkgcd[2].gd.pos.y = mkgcd[1].gd.pos.y+mkgcd[1].gd.pos.height+4;</span>
<span class="lineNum">    9790 </span><span class="lineNoCov">          0 :     mkgcd[2].gd.pos.width = -1;</span>
<span class="lineNum">    9791 </span><span class="lineNoCov">          0 :     mkgcd[2].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9792 </span>            : 
<span class="lineNum">    9793 </span><span class="lineNoCov">          0 :     mkarray[0] = &amp;mkgcd[0]; mkarray[1] = &amp;mkgcd[1];</span>
<span class="lineNum">    9794 </span><span class="lineNoCov">          0 :       mkarray[2] = NULL;</span>
<span class="lineNum">    9795 </span><span class="lineNoCov">          0 :     memset(mkbox,0,sizeof(mkbox));</span>
<span class="lineNum">    9796 </span><span class="lineNoCov">          0 :     mkbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9797 </span><span class="lineNoCov">          0 :     mkbox[0].gd.u.boxelements = mkarray;</span>
<span class="lineNum">    9798 </span><span class="lineNoCov">          0 :     mkbox[0].creator = GVBoxCreate;</span>
<span class="lineNum">    9799 </span>            : /******************************************************************************/
<span class="lineNum">    9800 </span><span class="lineNoCov">          0 :     memset(&amp;mslabel,0,sizeof(mslabel));</span>
<span class="lineNum">    9801 </span><span class="lineNoCov">          0 :     memset(&amp;msgcd,0,sizeof(msgcd));</span>
<span class="lineNum">    9802 </span>            : 
<span class="lineNum">    9803 </span><span class="lineNoCov">          0 :     mslabel[0].text = (unichar_t *) _(</span>
<span class="lineNum">    9804 </span>            :         &quot;These are not Anchor Classes. For them see the \&quot;Lookups\&quot; pane.\n&quot;
<span class="lineNum">    9805 </span>            :         &quot;(Mark Sets, like Mark Classes can control when lookups are active,\n&quot;
<span class="lineNum">    9806 </span>            :         &quot; they do NOT position glyphs.)&quot;);
<span class="lineNum">    9807 </span><span class="lineNoCov">          0 :     mslabel[0].text_is_1byte = true;</span>
<span class="lineNum">    9808 </span><span class="lineNoCov">          0 :     msgcd[0].gd.label = &amp;mslabel[0];</span>
<span class="lineNum">    9809 </span><span class="lineNoCov">          0 :     msgcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9810 </span><span class="lineNoCov">          0 :     msgcd[0].creator = GLabelCreate;</span>
<span class="lineNum">    9811 </span>            : 
<span class="lineNum">    9812 </span><span class="lineNoCov">          0 :     memset(&amp;marks_mi,0,sizeof(marks_mi));</span>
<span class="lineNum">    9813 </span><span class="lineNoCov">          0 :     marks_mi.col_cnt = 2;</span>
<span class="lineNum">    9814 </span><span class="lineNoCov">          0 :     marks_mi.col_init = marks_ci;</span>
<span class="lineNum">    9815 </span>            : 
<span class="lineNum">    9816 </span>            :     /* Set 0 is used */
<span class="lineNum">    9817 </span><span class="lineNoCov">          0 :     marks_md = calloc(sf-&gt;mark_set_cnt+1,2*sizeof(struct matrix_data));</span>
<span class="lineNum">    9818 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;sf-&gt;mark_set_cnt; ++i ) {</span>
<span class="lineNum">    9819 </span><span class="lineNoCov">          0 :         marks_md[2*i+0].u.md_str = copy(sf-&gt;mark_set_names[i]);</span>
<span class="lineNum">    9820 </span><span class="lineNoCov">          0 :         marks_md[2*i+1].u.md_str = SFNameList2NameUni(sf,sf-&gt;mark_sets[i]);</span>
<span class="lineNum">    9821 </span>            :     }
<span class="lineNum">    9822 </span><span class="lineNoCov">          0 :     marks_mi.matrix_data = marks_md;</span>
<span class="lineNum">    9823 </span><span class="lineNoCov">          0 :     marks_mi.initial_row_cnt = sf-&gt;mark_set_cnt;</span>
<span class="lineNum">    9824 </span><span class="lineNoCov">          0 :     marks_mi.finishedit = GFI_Mark_FinishEdit;</span>
<span class="lineNum">    9825 </span>            : 
<span class="lineNum">    9826 </span><span class="lineNoCov">          0 :     msgcd[1].gd.pos.x = 10; msgcd[1].gd.pos.y = 10;</span>
<span class="lineNum">    9827 </span><span class="lineNoCov">          0 :     msgcd[1].gd.pos.width = ngcd[15].gd.pos.width; msgcd[1].gd.pos.height = 200;</span>
<span class="lineNum">    9828 </span><span class="lineNoCov">          0 :     msgcd[1].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9829 </span><span class="lineNoCov">          0 :     msgcd[1].gd.cid = CID_MarkSets;</span>
<span class="lineNum">    9830 </span><span class="lineNoCov">          0 :     msgcd[1].gd.u.matrix = &amp;marks_mi;</span>
<span class="lineNum">    9831 </span><span class="lineNoCov">          0 :     msgcd[1].creator = GMatrixEditCreate;</span>
<span class="lineNum">    9832 </span>            : 
<span class="lineNum">    9833 </span><span class="lineNoCov">          0 :     msarray[0] = &amp;msgcd[0]; msarray[1] = &amp;msgcd[1];</span>
<span class="lineNum">    9834 </span><span class="lineNoCov">          0 :       msarray[2] = NULL;</span>
<span class="lineNum">    9835 </span><span class="lineNoCov">          0 :     memset(msbox,0,sizeof(msbox));</span>
<span class="lineNum">    9836 </span><span class="lineNoCov">          0 :     msbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9837 </span><span class="lineNoCov">          0 :     msbox[0].gd.u.boxelements = msarray;</span>
<span class="lineNum">    9838 </span><span class="lineNoCov">          0 :     msbox[0].creator = GVBoxCreate;</span>
<span class="lineNum">    9839 </span>            : /******************************************************************************/
<span class="lineNum">    9840 </span><span class="lineNoCov">          0 :     memset(&amp;wofflabel,0,sizeof(wofflabel));</span>
<span class="lineNum">    9841 </span><span class="lineNoCov">          0 :     memset(&amp;woffgcd,0,sizeof(woffgcd));</span>
<span class="lineNum">    9842 </span>            : 
<span class="lineNum">    9843 </span><span class="lineNoCov">          0 :     wofflabel[0].text = (unichar_t *) _(&quot;Version, Major:&quot;);</span>
<span class="lineNum">    9844 </span><span class="lineNoCov">          0 :     wofflabel[0].text_is_1byte = true;</span>
<span class="lineNum">    9845 </span><span class="lineNoCov">          0 :     woffgcd[0].gd.label = &amp;wofflabel[0];</span>
<span class="lineNum">    9846 </span><span class="lineNoCov">          0 :     woffgcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9847 </span><span class="lineNoCov">          0 :     woffgcd[0].creator = GLabelCreate;</span>
<span class="lineNum">    9848 </span>            : 
<span class="lineNum">    9849 </span><span class="lineNoCov">          0 :     woffmajorbuf[0]='\0';</span>
<span class="lineNum">    9850 </span><span class="lineNoCov">          0 :     woffminorbuf[0]='\0';</span>
<span class="lineNum">    9851 </span><span class="lineNoCov">          0 :     if ( sf-&gt;woffMajor!=woffUnset ) {</span>
<span class="lineNum">    9852 </span><span class="lineNoCov">          0 :         sprintf( woffmajorbuf, &quot;%d&quot;, sf-&gt;woffMajor );</span>
<span class="lineNum">    9853 </span><span class="lineNoCov">          0 :         sprintf( woffminorbuf, &quot;%d&quot;, sf-&gt;woffMinor );</span>
<span class="lineNum">    9854 </span>            :     }
<span class="lineNum">    9855 </span><span class="lineNoCov">          0 :     woffgcd[1].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    9856 </span><span class="lineNoCov">          0 :     wofflabel[1].text = (unichar_t *) woffmajorbuf;</span>
<span class="lineNum">    9857 </span><span class="lineNoCov">          0 :     wofflabel[1].text_is_1byte = true;</span>
<span class="lineNum">    9858 </span><span class="lineNoCov">          0 :     woffgcd[1].gd.label = &amp;wofflabel[1];</span>
<span class="lineNum">    9859 </span><span class="lineNoCov">          0 :     woffgcd[1].gd.cid = CID_WoffMajor;</span>
<span class="lineNum">    9860 </span><span class="lineNoCov">          0 :     woffgcd[1].gd.popup_msg = (unichar_t *) _(&quot;If you leave this field blank FontForge will use a default based on\neither the version string, or one in the 'name' table.&quot; );</span>
<span class="lineNum">    9861 </span><span class="lineNoCov">          0 :     woffgcd[1].creator = GTextFieldCreate;</span>
<span class="lineNum">    9862 </span>            : 
<span class="lineNum">    9863 </span><span class="lineNoCov">          0 :     wofflabel[2].text = (unichar_t *) _(&quot;Minor:&quot;);</span>
<span class="lineNum">    9864 </span><span class="lineNoCov">          0 :     wofflabel[2].text_is_1byte = true;</span>
<span class="lineNum">    9865 </span><span class="lineNoCov">          0 :     woffgcd[2].gd.label = &amp;wofflabel[2];</span>
<span class="lineNum">    9866 </span><span class="lineNoCov">          0 :     woffgcd[2].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9867 </span><span class="lineNoCov">          0 :     woffgcd[2].creator = GLabelCreate;</span>
<span class="lineNum">    9868 </span>            : 
<span class="lineNum">    9869 </span><span class="lineNoCov">          0 :     woffgcd[3].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    9870 </span><span class="lineNoCov">          0 :     wofflabel[3].text = (unichar_t *) woffminorbuf;</span>
<span class="lineNum">    9871 </span><span class="lineNoCov">          0 :     wofflabel[3].text_is_1byte = true;</span>
<span class="lineNum">    9872 </span><span class="lineNoCov">          0 :     woffgcd[3].gd.label = &amp;wofflabel[3];</span>
<span class="lineNum">    9873 </span><span class="lineNoCov">          0 :     woffgcd[3].gd.cid = CID_WoffMinor;</span>
<span class="lineNum">    9874 </span><span class="lineNoCov">          0 :     woffgcd[3].gd.popup_msg = (unichar_t *) _(&quot;If you leave this field blank FontForge will use a default based on\neither the version string, or one in the 'name' table.&quot; );</span>
<span class="lineNum">    9875 </span><span class="lineNoCov">          0 :     woffgcd[3].creator = GTextFieldCreate;</span>
<span class="lineNum">    9876 </span>            : 
<span class="lineNum">    9877 </span><span class="lineNoCov">          0 :     woffarray[0] = &amp;woffgcd[0];</span>
<span class="lineNum">    9878 </span><span class="lineNoCov">          0 :     woffarray[1] = &amp;woffgcd[1];</span>
<span class="lineNum">    9879 </span><span class="lineNoCov">          0 :     woffarray[2] = &amp;woffgcd[2];</span>
<span class="lineNum">    9880 </span><span class="lineNoCov">          0 :     woffarray[3] = &amp;woffgcd[3];</span>
<span class="lineNum">    9881 </span><span class="lineNoCov">          0 :     woffarray[4] = NULL;</span>
<span class="lineNum">    9882 </span>            : 
<span class="lineNum">    9883 </span><span class="lineNoCov">          0 :     wofflabel[4].text = (unichar_t *) _(&quot;Metadata (xml):&quot;);</span>
<span class="lineNum">    9884 </span><span class="lineNoCov">          0 :     wofflabel[4].text_is_1byte = true;</span>
<span class="lineNum">    9885 </span><span class="lineNoCov">          0 :     woffgcd[4].gd.label = &amp;wofflabel[4];</span>
<span class="lineNum">    9886 </span><span class="lineNoCov">          0 :     woffgcd[4].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9887 </span><span class="lineNoCov">          0 :     woffgcd[4].creator = GLabelCreate;</span>
<span class="lineNum">    9888 </span>            : 
<span class="lineNum">    9889 </span><span class="lineNoCov">          0 :     woffarray[5] = &amp;woffgcd[4];</span>
<span class="lineNum">    9890 </span><span class="lineNoCov">          0 :     woffarray[6] = GCD_ColSpan;</span>
<span class="lineNum">    9891 </span><span class="lineNoCov">          0 :     woffarray[7] = GCD_ColSpan;</span>
<span class="lineNum">    9892 </span><span class="lineNoCov">          0 :     woffarray[8] = GCD_ColSpan;</span>
<span class="lineNum">    9893 </span><span class="lineNoCov">          0 :     woffarray[9] = NULL;</span>
<span class="lineNum">    9894 </span>            : 
<span class="lineNum">    9895 </span><span class="lineNoCov">          0 :     woffgcd[5].gd.flags = gg_visible | gg_enabled | gg_textarea_wrap;</span>
<span class="lineNum">    9896 </span><span class="lineNoCov">          0 :     if ( sf-&gt;woffMetadata!=NULL ) {</span>
<span class="lineNum">    9897 </span><span class="lineNoCov">          0 :         wofflabel[5].text = (unichar_t *) sf-&gt;woffMetadata;</span>
<span class="lineNum">    9898 </span><span class="lineNoCov">          0 :         wofflabel[5].text_is_1byte = true;</span>
<span class="lineNum">    9899 </span><span class="lineNoCov">          0 :         woffgcd[5].gd.label = &amp;wofflabel[5];</span>
<span class="lineNum">    9900 </span>            :     }
<span class="lineNum">    9901 </span><span class="lineNoCov">          0 :     woffgcd[5].gd.cid = CID_WoffMetadata;</span>
<span class="lineNum">    9902 </span><span class="lineNoCov">          0 :     woffgcd[5].creator = GTextAreaCreate;</span>
<span class="lineNum">    9903 </span>            : 
<span class="lineNum">    9904 </span><span class="lineNoCov">          0 :     woffarray[10] = &amp;woffgcd[5];</span>
<span class="lineNum">    9905 </span><span class="lineNoCov">          0 :     woffarray[11] = GCD_ColSpan;</span>
<span class="lineNum">    9906 </span><span class="lineNoCov">          0 :     woffarray[12] = GCD_ColSpan;</span>
<span class="lineNum">    9907 </span><span class="lineNoCov">          0 :     woffarray[13] = GCD_ColSpan;</span>
<span class="lineNum">    9908 </span><span class="lineNoCov">          0 :     woffarray[14] = NULL;</span>
<span class="lineNum">    9909 </span><span class="lineNoCov">          0 :     woffarray[15] = NULL;</span>
<span class="lineNum">    9910 </span>            : 
<span class="lineNum">    9911 </span><span class="lineNoCov">          0 :     memset(woffbox,0,sizeof(woffbox));</span>
<span class="lineNum">    9912 </span><span class="lineNoCov">          0 :     woffbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9913 </span><span class="lineNoCov">          0 :     woffbox[0].gd.u.boxelements = woffarray;</span>
<span class="lineNum">    9914 </span><span class="lineNoCov">          0 :     woffbox[0].creator = GHVBoxCreate;</span>
<span class="lineNum">    9915 </span>            : /******************************************************************************/
<span class="lineNum">    9916 </span><span class="lineNoCov">          0 :     memset(&amp;txlabel,0,sizeof(txlabel));</span>
<span class="lineNum">    9917 </span><span class="lineNoCov">          0 :     memset(&amp;txgcd,0,sizeof(txgcd));</span>
<span class="lineNum">    9918 </span>            : 
<span class="lineNum">    9919 </span><span class="lineNoCov">          0 :     k=0;</span>
<span class="lineNum">    9920 </span><span class="lineNoCov">          0 :     txlabel[k].text = (unichar_t *) U_(&quot; General&quot;);</span>
<span class="lineNum">    9921 </span><span class="lineNoCov">          0 :     txlabel[k].text_is_1byte = true;</span>
<span class="lineNum">    9922 </span><span class="lineNoCov">          0 :     txgcd[k].gd.label = &amp;txlabel[k];</span>
<span class="lineNum">    9923 </span><span class="lineNoCov">          0 :     txgcd[k].gd.pos.x = 10; txgcd[k].gd.pos.y = 10;</span>
<span class="lineNum">    9924 </span><span class="lineNoCov">          0 :     txgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9925 </span><span class="lineNoCov">          0 :     txgcd[k].gd.cid = CID_TeXText;</span>
<span class="lineNum">    9926 </span><span class="lineNoCov">          0 :     txgcd[k].gd.handle_controlevent = GFI_TeXChanged;</span>
<span class="lineNum">    9927 </span><span class="lineNoCov">          0 :     txgcd[k++].creator = GRadioCreate;</span>
<span class="lineNum">    9928 </span>            : 
<span class="lineNum">    9929 </span><span class="lineNoCov">          0 :     txlabel[k].text = (unichar_t *) U_(&quot; Math Symbol&quot;);</span>
<span class="lineNum">    9930 </span><span class="lineNoCov">          0 :     txlabel[k].text_is_1byte = true;</span>
<span class="lineNum">    9931 </span><span class="lineNoCov">          0 :     txgcd[k].gd.label = &amp;txlabel[k];</span>
<span class="lineNum">    9932 </span><span class="lineNoCov">          0 :     txgcd[k].gd.pos.x = 80; txgcd[k].gd.pos.y = txgcd[k-1].gd.pos.y;</span>
<span class="lineNum">    9933 </span><span class="lineNoCov">          0 :     txgcd[k].gd.flags = gg_visible | gg_enabled | gg_rad_continueold;</span>
<span class="lineNum">    9934 </span><span class="lineNoCov">          0 :     txgcd[k].gd.cid = CID_TeXMathSym;</span>
<span class="lineNum">    9935 </span><span class="lineNoCov">          0 :     txgcd[k].gd.handle_controlevent = GFI_TeXChanged;</span>
<span class="lineNum">    9936 </span><span class="lineNoCov">          0 :     txgcd[k++].creator = GRadioCreate;</span>
<span class="lineNum">    9937 </span>            : 
<span class="lineNum">    9938 </span><span class="lineNoCov">          0 :     txlabel[k].text = (unichar_t *) U_(&quot; Math Extension&quot;);</span>
<span class="lineNum">    9939 </span><span class="lineNoCov">          0 :     txlabel[k].text_is_1byte = true;</span>
<span class="lineNum">    9940 </span><span class="lineNoCov">          0 :     txgcd[k].gd.label = &amp;txlabel[k];</span>
<span class="lineNum">    9941 </span><span class="lineNoCov">          0 :     txgcd[k].gd.pos.x = 155; txgcd[k].gd.pos.y = txgcd[k-1].gd.pos.y;</span>
<span class="lineNum">    9942 </span><span class="lineNoCov">          0 :     txgcd[k].gd.flags = gg_visible | gg_enabled | gg_rad_continueold;</span>
<span class="lineNum">    9943 </span><span class="lineNoCov">          0 :     txgcd[k].gd.cid = CID_TeXMathExt;</span>
<span class="lineNum">    9944 </span><span class="lineNoCov">          0 :     txgcd[k].gd.handle_controlevent = GFI_TeXChanged;</span>
<span class="lineNum">    9945 </span><span class="lineNoCov">          0 :     txgcd[k++].creator = GRadioCreate;</span>
<span class="lineNum">    9946 </span>            : 
<span class="lineNum">    9947 </span><span class="lineNoCov">          0 :     for ( i=j=0; texparams[i]!=0; ++i ) {</span>
<span class="lineNum">    9948 </span><span class="lineNoCov">          0 :         txlabel[k].text = (unichar_t *) texparams[i];</span>
<span class="lineNum">    9949 </span><span class="lineNoCov">          0 :         txlabel[k].text_is_1byte = true;</span>
<span class="lineNum">    9950 </span><span class="lineNoCov">          0 :         txgcd[k].gd.label = &amp;txlabel[k];</span>
<span class="lineNum">    9951 </span><span class="lineNoCov">          0 :         txgcd[k].gd.pos.x = 10; txgcd[k].gd.pos.y = txgcd[k-2].gd.pos.y+26;</span>
<span class="lineNum">    9952 </span><span class="lineNoCov">          0 :         txgcd[k].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">    9953 </span><span class="lineNoCov">          0 :         txgcd[k].gd.popup_msg = (unichar_t *) texpopups[i];</span>
<span class="lineNum">    9954 </span><span class="lineNoCov">          0 :         txarray2[j++] = &amp;txgcd[k];</span>
<span class="lineNum">    9955 </span><span class="lineNoCov">          0 :         txgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">    9956 </span>            : 
<span class="lineNum">    9957 </span><span class="lineNoCov">          0 :         txgcd[k].gd.pos.x = 70; txgcd[k].gd.pos.y = txgcd[k-1].gd.pos.y-4;</span>
<span class="lineNum">    9958 </span><span class="lineNoCov">          0 :         txgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9959 </span><span class="lineNoCov">          0 :         txgcd[k].gd.cid = CID_TeX + i;</span>
<span class="lineNum">    9960 </span><span class="lineNoCov">          0 :         txarray2[j++] = &amp;txgcd[k];</span>
<span class="lineNum">    9961 </span><span class="lineNoCov">          0 :         txgcd[k++].creator = GTextFieldCreate;</span>
<span class="lineNum">    9962 </span><span class="lineNoCov">          0 :         txarray2[j++] = GCD_Glue;</span>
<span class="lineNum">    9963 </span><span class="lineNoCov">          0 :         txarray2[j++] = NULL;</span>
<span class="lineNum">    9964 </span>            :     }
<span class="lineNum">    9965 </span><span class="lineNoCov">          0 :     txgcd[k-2].gd.cid = CID_TeXExtraSpLabel;</span>
<span class="lineNum">    9966 </span><span class="lineNoCov">          0 :     txarray2[j++] = NULL;</span>
<span class="lineNum">    9967 </span>            : 
<span class="lineNum">    9968 </span>            : /* GT: More Parameters */
<span class="lineNum">    9969 </span><span class="lineNoCov">          0 :     txlabel[k].text = (unichar_t *) _(&quot;More Params&quot;);</span>
<span class="lineNum">    9970 </span><span class="lineNoCov">          0 :     txlabel[k].text_is_1byte = true;</span>
<span class="lineNum">    9971 </span><span class="lineNoCov">          0 :     txgcd[k].gd.label = &amp;txlabel[k];</span>
<span class="lineNum">    9972 </span><span class="lineNoCov">          0 :     txgcd[k].gd.pos.x = 20; txgcd[k].gd.pos.y = txgcd[k-1].gd.pos.y+26;</span>
<span class="lineNum">    9973 </span><span class="lineNoCov">          0 :     txgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">    9974 </span><span class="lineNoCov">          0 :     txgcd[k].gd.handle_controlevent = GFI_MoreParams;</span>
<span class="lineNum">    9975 </span><span class="lineNoCov">          0 :     txgcd[k].gd.cid = CID_MoreParams;</span>
<span class="lineNum">    9976 </span><span class="lineNoCov">          0 :     txgcd[k++].creator = GButtonCreate;</span>
<span class="lineNum">    9977 </span>            : 
<span class="lineNum">    9978 </span><span class="lineNoCov">          0 :     txarray[0] = &amp;txbox[2]; txarray[1] = &amp;txbox[3]; txarray[2] = &amp;txbox[4]; txarray[3] = GCD_Glue; txarray[4] = NULL;</span>
<span class="lineNum">    9979 </span><span class="lineNoCov">          0 :     txarray3[0] = &amp;txgcd[0]; txarray3[1] = GCD_Glue; txarray3[2] = &amp;txgcd[1];</span>
<span class="lineNum">    9980 </span><span class="lineNoCov">          0 :      txarray3[3] = GCD_Glue; txarray3[4] = &amp;txgcd[2]; txarray3[5] = NULL;</span>
<span class="lineNum">    9981 </span><span class="lineNoCov">          0 :     txarray4[0] = GCD_Glue; txarray4[1] = &amp;txgcd[k-1];</span>
<span class="lineNum">    9982 </span><span class="lineNoCov">          0 :      txarray4[2] = txarray4[3] = txarray4[4] = GCD_Glue; txarray4[5] = NULL;</span>
<span class="lineNum">    9983 </span><span class="lineNoCov">          0 :     memset(txbox,0,sizeof(txbox));</span>
<span class="lineNum">    9984 </span><span class="lineNoCov">          0 :     txbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9985 </span><span class="lineNoCov">          0 :     txbox[0].gd.u.boxelements = txarray;</span>
<span class="lineNum">    9986 </span><span class="lineNoCov">          0 :     txbox[0].creator = GVBoxCreate;</span>
<span class="lineNum">    9987 </span>            : 
<span class="lineNum">    9988 </span><span class="lineNoCov">          0 :     txbox[2].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9989 </span><span class="lineNoCov">          0 :     txbox[2].gd.u.boxelements = txarray3;</span>
<span class="lineNum">    9990 </span><span class="lineNoCov">          0 :     txbox[2].creator = GHBoxCreate;</span>
<span class="lineNum">    9991 </span>            : 
<span class="lineNum">    9992 </span><span class="lineNoCov">          0 :     txbox[3].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9993 </span><span class="lineNoCov">          0 :     txbox[3].gd.u.boxelements = txarray2;</span>
<span class="lineNum">    9994 </span><span class="lineNoCov">          0 :     txbox[3].gd.cid = CID_TeXBox;</span>
<span class="lineNum">    9995 </span><span class="lineNoCov">          0 :     txbox[3].creator = GHVBoxCreate;</span>
<span class="lineNum">    9996 </span>            : 
<span class="lineNum">    9997 </span><span class="lineNoCov">          0 :     txbox[4].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">    9998 </span><span class="lineNoCov">          0 :     txbox[4].gd.u.boxelements = txarray4;</span>
<span class="lineNum">    9999 </span><span class="lineNoCov">          0 :     txbox[4].creator = GHBoxCreate;</span>
<span class="lineNum">   10000 </span>            : /******************************************************************************/
<span class="lineNum">   10001 </span><span class="lineNoCov">          0 :     memset(&amp;szlabel,0,sizeof(szlabel));</span>
<span class="lineNum">   10002 </span><span class="lineNoCov">          0 :     memset(&amp;szgcd,0,sizeof(szgcd));</span>
<span class="lineNum">   10003 </span><span class="lineNoCov">          0 :     SizeMatrixInit(&amp;sizemi,d);</span>
<span class="lineNum">   10004 </span>            : 
<span class="lineNum">   10005 </span><span class="lineNoCov">          0 :     k=0;</span>
<span class="lineNum">   10006 </span>            : 
<span class="lineNum">   10007 </span><span class="lineNoCov">          0 :     szlabel[k].text = (unichar_t *) _(&quot;De_sign Size:&quot;);</span>
<span class="lineNum">   10008 </span><span class="lineNoCov">          0 :     szlabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10009 </span><span class="lineNoCov">          0 :     szlabel[k].text_in_resource = true;</span>
<span class="lineNum">   10010 </span><span class="lineNoCov">          0 :     szgcd[k].gd.label = &amp;szlabel[k];</span>
<span class="lineNum">   10011 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 10; szgcd[k].gd.pos.y = 9;</span>
<span class="lineNum">   10012 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">   10013 </span><span class="lineNoCov">          0 :     szgcd[k].gd.popup_msg = (unichar_t *) _(&quot;The size (in points) for which this face was designed&quot;);</span>
<span class="lineNum">   10014 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">   10015 </span>            : 
<span class="lineNum">   10016 </span><span class="lineNoCov">          0 :     sprintf(dszbuf, &quot;%.1f&quot;, sf-&gt;design_size/10.0);</span>
<span class="lineNum">   10017 </span><span class="lineNoCov">          0 :     szlabel[k].text = (unichar_t *) dszbuf;</span>
<span class="lineNum">   10018 </span><span class="lineNoCov">          0 :     szlabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10019 </span><span class="lineNoCov">          0 :     szgcd[k].gd.label = &amp;szlabel[k];</span>
<span class="lineNum">   10020 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 70; szgcd[k].gd.pos.y = szgcd[k-1].gd.pos.y-4;</span>
<span class="lineNum">   10021 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.width = 60;</span>
<span class="lineNum">   10022 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10023 </span><span class="lineNoCov">          0 :     szgcd[k].gd.cid = CID_DesignSize;</span>
<span class="lineNum">   10024 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GTextFieldCreate;</span>
<span class="lineNum">   10025 </span>            : 
<span class="lineNum">   10026 </span><span class="lineNoCov">          0 :     szlabel[k].text = (unichar_t *) S_(&quot;Size|Points&quot;);</span>
<span class="lineNum">   10027 </span><span class="lineNoCov">          0 :     szlabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10028 </span><span class="lineNoCov">          0 :     szgcd[k].gd.label = &amp;szlabel[k];</span>
<span class="lineNum">   10029 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 134; szgcd[k].gd.pos.y = szgcd[k-2].gd.pos.y;</span>
<span class="lineNum">   10030 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">   10031 </span><span class="lineNoCov">          0 :     szgcd[k].gd.popup_msg = (unichar_t *) _(&quot;The size (in points) for which this face was designed&quot;);</span>
<span class="lineNum">   10032 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">   10033 </span>            : 
<span class="lineNum">   10034 </span><span class="lineNoCov">          0 :     szlabel[k].text = (unichar_t *) _(&quot;Design Range&quot;);</span>
<span class="lineNum">   10035 </span><span class="lineNoCov">          0 :     szlabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10036 </span><span class="lineNoCov">          0 :     szgcd[k].gd.label = &amp;szlabel[k];</span>
<span class="lineNum">   10037 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 14; szgcd[k].gd.pos.y = szgcd[k-2].gd.pos.y+24;</span>
<span class="lineNum">   10038 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">   10039 </span><span class="lineNoCov">          0 :     szgcd[k].gd.popup_msg = (unichar_t *) _(&quot;The range of sizes (in points) to which this face applies.\nLower bound is exclusive, upper bound is inclusive.&quot;);</span>
<span class="lineNum">   10040 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">   10041 </span>            : 
<span class="lineNum">   10042 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 8; szgcd[k].gd.pos.y = GDrawPointsToPixels(NULL,szgcd[k-1].gd.pos.y+6);</span>
<span class="lineNum">   10043 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.width = pos.width-32; szgcd[k].gd.pos.height = GDrawPointsToPixels(NULL,36);</span>
<span class="lineNum">   10044 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_enabled | gg_visible | gg_pos_in_pixels;</span>
<span class="lineNum">   10045 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GGroupCreate;</span>
<span class="lineNum">   10046 </span>            : 
<span class="lineNum">   10047 </span><span class="lineNoCov">          0 :     szlabel[k].text = (unichar_t *) _(&quot;_Bottom:&quot;);</span>
<span class="lineNum">   10048 </span><span class="lineNoCov">          0 :     szlabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10049 </span><span class="lineNoCov">          0 :     szlabel[k].text_in_resource = true;</span>
<span class="lineNum">   10050 </span><span class="lineNoCov">          0 :     szgcd[k].gd.label = &amp;szlabel[k];</span>
<span class="lineNum">   10051 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 14; szgcd[k].gd.pos.y = szgcd[k-2].gd.pos.y+18;</span>
<span class="lineNum">   10052 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">   10053 </span><span class="lineNoCov">          0 :     szgcd[k].gd.popup_msg = (unichar_t *) _(&quot;The range of sizes (in points) to which this face applies.\nLower bound is exclusive, upper bound is inclusive.&quot;);</span>
<span class="lineNum">   10054 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">   10055 </span>            : 
<span class="lineNum">   10056 </span><span class="lineNoCov">          0 :     sprintf(dsbbuf, &quot;%.1f&quot;, sf-&gt;design_range_bottom/10.0);</span>
<span class="lineNum">   10057 </span><span class="lineNoCov">          0 :     szlabel[k].text = (unichar_t *) dsbbuf;</span>
<span class="lineNum">   10058 </span><span class="lineNoCov">          0 :     szlabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10059 </span><span class="lineNoCov">          0 :     szgcd[k].gd.label = &amp;szlabel[k];</span>
<span class="lineNum">   10060 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 70; szgcd[k].gd.pos.y = szgcd[k-1].gd.pos.y-4;</span>
<span class="lineNum">   10061 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.width = 60;</span>
<span class="lineNum">   10062 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10063 </span><span class="lineNoCov">          0 :     szgcd[k].gd.cid = CID_DesignBottom;</span>
<span class="lineNum">   10064 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GTextFieldCreate;</span>
<span class="lineNum">   10065 </span>            : 
<span class="lineNum">   10066 </span><span class="lineNoCov">          0 :     szlabel[k].text = (unichar_t *) _(&quot;_Top:&quot;);</span>
<span class="lineNum">   10067 </span><span class="lineNoCov">          0 :     szlabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10068 </span><span class="lineNoCov">          0 :     szlabel[k].text_in_resource = true;</span>
<span class="lineNum">   10069 </span><span class="lineNoCov">          0 :     szgcd[k].gd.label = &amp;szlabel[k];</span>
<span class="lineNum">   10070 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 140; szgcd[k].gd.pos.y = szgcd[k-2].gd.pos.y;</span>
<span class="lineNum">   10071 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">   10072 </span><span class="lineNoCov">          0 :     szgcd[k].gd.popup_msg = (unichar_t *) _(&quot;The range of sizes (in points) to which this face applies.\nLower bound is exclusive, upper bound is inclusive.&quot;);</span>
<span class="lineNum">   10073 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">   10074 </span>            : 
<span class="lineNum">   10075 </span><span class="lineNoCov">          0 :     sprintf(dstbuf, &quot;%.1f&quot;, sf-&gt;design_range_top/10.0);</span>
<span class="lineNum">   10076 </span><span class="lineNoCov">          0 :     szlabel[k].text = (unichar_t *) dstbuf;</span>
<span class="lineNum">   10077 </span><span class="lineNoCov">          0 :     szlabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10078 </span><span class="lineNoCov">          0 :     szgcd[k].gd.label = &amp;szlabel[k];</span>
<span class="lineNum">   10079 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 180; szgcd[k].gd.pos.y = szgcd[k-1].gd.pos.y-4;</span>
<span class="lineNum">   10080 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.width = 60;</span>
<span class="lineNum">   10081 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10082 </span><span class="lineNoCov">          0 :     szgcd[k].gd.cid = CID_DesignTop;</span>
<span class="lineNum">   10083 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GTextFieldCreate;</span>
<span class="lineNum">   10084 </span>            : 
<span class="lineNum">   10085 </span><span class="lineNoCov">          0 :     szlabel[k].text = (unichar_t *) _(&quot;Style _ID:&quot;);</span>
<span class="lineNum">   10086 </span><span class="lineNoCov">          0 :     szlabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10087 </span><span class="lineNoCov">          0 :     szlabel[k].text_in_resource = true;</span>
<span class="lineNum">   10088 </span><span class="lineNoCov">          0 :     szgcd[k].gd.label = &amp;szlabel[k];</span>
<span class="lineNum">   10089 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 14; szgcd[k].gd.pos.y = GDrawPixelsToPoints(NULL,szgcd[k-5].gd.pos.y+szgcd[k-5].gd.pos.height)+10;</span>
<span class="lineNum">   10090 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">   10091 </span><span class="lineNoCov">          0 :     szgcd[k].gd.popup_msg = (unichar_t *) _(&quot;This is an identifying number shared by all members of\nthis font family with the same style (I.e. 10pt Bold and\n24pt Bold would have the same id, but 10pt Italic would not&quot;);</span>
<span class="lineNum">   10092 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">   10093 </span>            : 
<span class="lineNum">   10094 </span><span class="lineNoCov">          0 :     sprintf(sibuf, &quot;%d&quot;, sf-&gt;fontstyle_id);</span>
<span class="lineNum">   10095 </span><span class="lineNoCov">          0 :     szlabel[k].text = (unichar_t *) sibuf;</span>
<span class="lineNum">   10096 </span><span class="lineNoCov">          0 :     szlabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10097 </span><span class="lineNoCov">          0 :     szgcd[k].gd.label = &amp;szlabel[k];</span>
<span class="lineNum">   10098 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 70; szgcd[k].gd.pos.y = szgcd[k-1].gd.pos.y-4;</span>
<span class="lineNum">   10099 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.width = 60;</span>
<span class="lineNum">   10100 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10101 </span><span class="lineNoCov">          0 :     szgcd[k].gd.cid = CID_StyleID;</span>
<span class="lineNum">   10102 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GTextFieldCreate;</span>
<span class="lineNum">   10103 </span>            : 
<span class="lineNum">   10104 </span><span class="lineNoCov">          0 :     szlabel[k].text = (unichar_t *) _(&quot;Style Name:&quot;);</span>
<span class="lineNum">   10105 </span><span class="lineNoCov">          0 :     szlabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10106 </span><span class="lineNoCov">          0 :     szgcd[k].gd.label = &amp;szlabel[k];</span>
<span class="lineNum">   10107 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.x = 14; szgcd[k].gd.pos.y = szgcd[k-2].gd.pos.y+22;</span>
<span class="lineNum">   10108 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">   10109 </span><span class="lineNoCov">          0 :     szgcd[k].gd.popup_msg = (unichar_t *) _(&quot;This provides a set of names used to identify the\nstyle of this font. Names may be translated into multiple\nlanguages (English is required, others are optional)\nAll fonts with the same Style ID should share this name.&quot;);</span>
<span class="lineNum">   10110 </span><span class="lineNoCov">          0 :     szgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">   10111 </span>            : 
<span class="lineNum">   10112 </span><span class="lineNoCov">          0 :     szgcd[k].gd.pos.width = 300; szgcd[k].gd.pos.height = 200;</span>
<span class="lineNum">   10113 </span><span class="lineNoCov">          0 :     szgcd[k].gd.flags = gg_enabled | gg_visible | gg_utf8_popup;</span>
<span class="lineNum">   10114 </span><span class="lineNoCov">          0 :     szgcd[k].gd.cid = CID_StyleName;</span>
<span class="lineNum">   10115 </span><span class="lineNoCov">          0 :     szgcd[k].gd.u.matrix = &amp;sizemi;</span>
<span class="lineNum">   10116 </span><span class="lineNoCov">          0 :     szgcd[k].gd.popup_msg = (unichar_t *) _(</span>
<span class="lineNum">   10117 </span>            :         &quot;To create a new name, left click on the &lt;New&gt; button, and select a locale (language).\n&quot;
<span class="lineNum">   10118 </span>            :         &quot;To change the locale, left click on it.\n&quot;
<span class="lineNum">   10119 </span>            :         &quot;To change the text, left click in it and then type.\n&quot;
<span class="lineNum">   10120 </span>            :         );
<span class="lineNum">   10121 </span><span class="lineNoCov">          0 :     szgcd[k].data = d;</span>
<span class="lineNum">   10122 </span><span class="lineNoCov">          0 :     szgcd[k].creator = GMatrixEditCreate;</span>
<span class="lineNum">   10123 </span>            : 
<span class="lineNum">   10124 </span><span class="lineNoCov">          0 :     szarray[0] = &amp;szbox[2];</span>
<span class="lineNum">   10125 </span><span class="lineNoCov">          0 :     szarray[1] = &amp;szbox[3];</span>
<span class="lineNum">   10126 </span><span class="lineNoCov">          0 :     szarray[2] = &amp;szbox[4];</span>
<span class="lineNum">   10127 </span><span class="lineNoCov">          0 :     szarray[3] = &amp;szgcd[11];</span>
<span class="lineNum">   10128 </span><span class="lineNoCov">          0 :     szarray[4] = &amp;szgcd[12];</span>
<span class="lineNum">   10129 </span><span class="lineNoCov">          0 :     szarray[5] = NULL;</span>
<span class="lineNum">   10130 </span>            : 
<span class="lineNum">   10131 </span><span class="lineNoCov">          0 :     szarray2[0] = &amp;szgcd[0]; szarray2[1] = &amp;szgcd[1]; szarray2[2] = &amp;szgcd[2]; szarray2[3] = GCD_Glue; szarray2[4] = NULL;</span>
<span class="lineNum">   10132 </span><span class="lineNoCov">          0 :     szarray3[0] = &amp;szgcd[5]; szarray3[1] = &amp;szgcd[6]; szarray3[2] = &amp;szgcd[7]; szarray3[3] = &amp;szgcd[8]; szarray3[4] = GCD_Glue; szarray3[5] = NULL;</span>
<span class="lineNum">   10133 </span><span class="lineNoCov">          0 :      szarray3[6] = NULL;</span>
<span class="lineNum">   10134 </span><span class="lineNoCov">          0 :     szarray4[0] = &amp;szgcd[9]; szarray4[1] = &amp;szgcd[10]; szarray4[2] = GCD_Glue; szarray4[3] = NULL;</span>
<span class="lineNum">   10135 </span>            : 
<span class="lineNum">   10136 </span><span class="lineNoCov">          0 :     memset(szbox,0,sizeof(szbox));</span>
<span class="lineNum">   10137 </span><span class="lineNoCov">          0 :     szbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10138 </span><span class="lineNoCov">          0 :     szbox[0].gd.u.boxelements = szarray;</span>
<span class="lineNum">   10139 </span><span class="lineNoCov">          0 :     szbox[0].creator = GVBoxCreate;</span>
<span class="lineNum">   10140 </span>            : 
<span class="lineNum">   10141 </span><span class="lineNoCov">          0 :     szbox[2].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10142 </span><span class="lineNoCov">          0 :     szbox[2].gd.u.boxelements = szarray2;</span>
<span class="lineNum">   10143 </span><span class="lineNoCov">          0 :     szbox[2].creator = GHBoxCreate;</span>
<span class="lineNum">   10144 </span>            : 
<span class="lineNum">   10145 </span><span class="lineNoCov">          0 :     szbox[3].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10146 </span><span class="lineNoCov">          0 :     szbox[3].gd.label = (GTextInfo *) &amp;szgcd[3];</span>
<span class="lineNum">   10147 </span><span class="lineNoCov">          0 :     szbox[3].gd.u.boxelements = szarray3;</span>
<span class="lineNum">   10148 </span><span class="lineNoCov">          0 :     szbox[3].creator = GHVGroupCreate;</span>
<span class="lineNum">   10149 </span>            : 
<span class="lineNum">   10150 </span><span class="lineNoCov">          0 :     szbox[4].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10151 </span><span class="lineNoCov">          0 :     szbox[4].gd.u.boxelements = szarray4;</span>
<span class="lineNum">   10152 </span><span class="lineNoCov">          0 :     szbox[4].creator = GHBoxCreate;</span>
<span class="lineNum">   10153 </span>            : 
<span class="lineNum">   10154 </span>            : /******************************************************************************/
<span class="lineNum">   10155 </span><span class="lineNoCov">          0 :     memset(&amp;mcgcd,0,sizeof(mcgcd));</span>
<span class="lineNum">   10156 </span><span class="lineNoCov">          0 :     memset(&amp;mclabel,'\0',sizeof(mclabel));</span>
<span class="lineNum">   10157 </span>            : 
<span class="lineNum">   10158 </span><span class="lineNoCov">          0 :     k=0;</span>
<span class="lineNum">   10159 </span><span class="lineNoCov">          0 :     mclabel[k].text = (unichar_t *) _(&quot;Mac Style Set:&quot;);</span>
<span class="lineNum">   10160 </span><span class="lineNoCov">          0 :     mclabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10161 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.label = &amp;mclabel[k];</span>
<span class="lineNum">   10162 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.pos.x = 10; mcgcd[k].gd.pos.y = 7;</span>
<span class="lineNum">   10163 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10164 </span><span class="lineNoCov">          0 :     mcgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">   10165 </span>            : 
<span class="lineNum">   10166 </span><span class="lineNoCov">          0 :     mclabel[k].text = (unichar_t *) _(&quot;Automatic&quot;);</span>
<span class="lineNum">   10167 </span><span class="lineNoCov">          0 :     mclabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10168 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.label = &amp;mclabel[k];</span>
<span class="lineNum">   10169 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.pos.x = 10; mcgcd[k].gd.pos.y = 20;</span>
<span class="lineNum">   10170 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.flags = (sf-&gt;macstyle==-1) ? (gg_visible | gg_enabled | gg_cb_on) : (gg_visible | gg_enabled);</span>
<span class="lineNum">   10171 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.cid = CID_MacAutomatic;</span>
<span class="lineNum">   10172 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.handle_controlevent = GFI_MacAutomatic;</span>
<span class="lineNum">   10173 </span><span class="lineNoCov">          0 :     mcgcd[k++].creator = GRadioCreate;</span>
<span class="lineNum">   10174 </span>            : 
<span class="lineNum">   10175 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.pos.x = 90; mcgcd[k].gd.pos.y = 20;</span>
<span class="lineNum">   10176 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.flags = (sf-&gt;macstyle!=-1) ? (gg_visible | gg_enabled | gg_cb_on | gg_rad_continueold) : (gg_visible | gg_enabled | gg_rad_continueold);</span>
<span class="lineNum">   10177 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.handle_controlevent = GFI_MacAutomatic;</span>
<span class="lineNum">   10178 </span><span class="lineNoCov">          0 :     mcgcd[k++].creator = GRadioCreate;</span>
<span class="lineNum">   10179 </span>            : 
<span class="lineNum">   10180 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.pos.x = 110; mcgcd[k].gd.pos.y = 20;</span>
<span class="lineNum">   10181 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.pos.width = 120; mcgcd[k].gd.pos.height = 7*12+10;</span>
<span class="lineNum">   10182 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.flags = (sf-&gt;macstyle==-1) ? (gg_visible | gg_list_multiplesel) : (gg_visible | gg_enabled | gg_list_multiplesel);</span>
<span class="lineNum">   10183 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.cid = CID_MacStyles;</span>
<span class="lineNum">   10184 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.u.list = macstyles;</span>
<span class="lineNum">   10185 </span><span class="lineNoCov">          0 :     mcgcd[k++].creator = GListCreate;</span>
<span class="lineNum">   10186 </span>            : 
<span class="lineNum">   10187 </span><span class="lineNoCov">          0 :     mclabel[k].text = (unichar_t *) _(&quot;FOND Name:&quot;);</span>
<span class="lineNum">   10188 </span><span class="lineNoCov">          0 :     mclabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10189 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.label = &amp;mclabel[k];</span>
<span class="lineNum">   10190 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.pos.x = 10; mcgcd[k].gd.pos.y = mcgcd[k-1].gd.pos.y + mcgcd[k-1].gd.pos.height+8;</span>
<span class="lineNum">   10191 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10192 </span><span class="lineNoCov">          0 :     mcgcd[k++].creator = GLabelCreate;</span>
<span class="lineNum">   10193 </span>            : 
<span class="lineNum">   10194 </span><span class="lineNoCov">          0 :     mclabel[k].text = (unichar_t *) sf-&gt;fondname;</span>
<span class="lineNum">   10195 </span><span class="lineNoCov">          0 :     mclabel[k].text_is_1byte = true;</span>
<span class="lineNum">   10196 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.label = sf-&gt;fondname==NULL ? NULL : &amp;mclabel[k];</span>
<span class="lineNum">   10197 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.pos.x = 90; mcgcd[k].gd.pos.y = mcgcd[k-1].gd.pos.y - 4;</span>
<span class="lineNum">   10198 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10199 </span><span class="lineNoCov">          0 :     mcgcd[k].gd.cid = CID_MacFOND;</span>
<span class="lineNum">   10200 </span><span class="lineNoCov">          0 :     mcgcd[k++].creator = GTextFieldCreate;</span>
<span class="lineNum">   10201 </span>            : 
<span class="lineNum">   10202 </span>            : 
<span class="lineNum">   10203 </span><span class="lineNoCov">          0 :     mcs = MacStyleCode(sf,NULL);</span>
<span class="lineNum">   10204 </span><span class="lineNoCov">          0 :     for ( i=0; macstyles[i].text!=NULL; ++i )</span>
<span class="lineNum">   10205 </span><span class="lineNoCov">          0 :         macstyles[i].selected = (mcs&amp;(int) (intpt) macstyles[i].userdata)? 1 : 0;</span>
<span class="lineNum">   10206 </span>            : 
<span class="lineNum">   10207 </span><span class="lineNoCov">          0 :     mcarray[0] = &amp;mcgcd[0]; mcarray[1] = GCD_Glue; mcarray[2] = NULL;</span>
<span class="lineNum">   10208 </span><span class="lineNoCov">          0 :     mcarray[3] = &amp;mcbox[2]; mcarray[4] = &amp;mcgcd[3]; mcarray[5] = NULL;</span>
<span class="lineNum">   10209 </span><span class="lineNoCov">          0 :     mcarray[6] = &amp;mcgcd[4]; mcarray[7] = &amp;mcgcd[5]; mcarray[8] = NULL;</span>
<span class="lineNum">   10210 </span><span class="lineNoCov">          0 :     mcarray[9] = GCD_Glue; mcarray[10] = GCD_Glue; mcarray[11] = NULL;</span>
<span class="lineNum">   10211 </span><span class="lineNoCov">          0 :     mcarray[12] = NULL;</span>
<span class="lineNum">   10212 </span><span class="lineNoCov">          0 :     mcarray2[0] = &amp;mcgcd[1]; mcarray2[1] = &amp;mcgcd[2]; mcarray2[2] = NULL;</span>
<span class="lineNum">   10213 </span><span class="lineNoCov">          0 :     mcarray2[3] = GCD_Glue; mcarray2[4] = GCD_Glue; mcarray2[5] = NULL;</span>
<span class="lineNum">   10214 </span><span class="lineNoCov">          0 :     mcarray2[6] = NULL;</span>
<span class="lineNum">   10215 </span>            : 
<span class="lineNum">   10216 </span><span class="lineNoCov">          0 :     memset(mcbox,0,sizeof(mcbox));</span>
<span class="lineNum">   10217 </span><span class="lineNoCov">          0 :     mcbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10218 </span><span class="lineNoCov">          0 :     mcbox[0].gd.u.boxelements = mcarray;</span>
<span class="lineNum">   10219 </span><span class="lineNoCov">          0 :     mcbox[0].creator = GHVBoxCreate;</span>
<span class="lineNum">   10220 </span>            : 
<span class="lineNum">   10221 </span><span class="lineNoCov">          0 :     mcbox[2].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10222 </span><span class="lineNoCov">          0 :     mcbox[2].gd.u.boxelements = mcarray2;</span>
<span class="lineNum">   10223 </span><span class="lineNoCov">          0 :     mcbox[2].creator = GHVBoxCreate;</span>
<span class="lineNum">   10224 </span>            : 
<span class="lineNum">   10225 </span>            : /******************************************************************************/
<span class="lineNum">   10226 </span><span class="lineNoCov">          0 :     memset(&amp;lksubgcd,0,sizeof(lksubgcd));</span>
<span class="lineNum">   10227 </span><span class="lineNoCov">          0 :     memset(&amp;lkgcd,0,sizeof(lkgcd));</span>
<span class="lineNum">   10228 </span><span class="lineNoCov">          0 :     memset(&amp;lkaspects,'\0',sizeof(lkaspects));</span>
<span class="lineNum">   10229 </span><span class="lineNoCov">          0 :     memset(&amp;lkbox,'\0',sizeof(lkbox));</span>
<span class="lineNum">   10230 </span><span class="lineNoCov">          0 :     memset(&amp;lkbuttonsgcd,'\0',sizeof(lkbuttonsgcd));</span>
<span class="lineNum">   10231 </span><span class="lineNoCov">          0 :     memset(&amp;lkbuttonslabel,'\0',sizeof(lkbuttonslabel));</span>
<span class="lineNum">   10232 </span>            : 
<span class="lineNum">   10233 </span><span class="lineNoCov">          0 :     LookupSetup(&amp;d-&gt;tables[0],sf-&gt;gsub_lookups);</span>
<span class="lineNum">   10234 </span><span class="lineNoCov">          0 :     LookupSetup(&amp;d-&gt;tables[1],sf-&gt;gpos_lookups);</span>
<span class="lineNum">   10235 </span>            : 
<span class="lineNum">   10236 </span><span class="lineNoCov">          0 :     i=0;</span>
<span class="lineNum">   10237 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10238 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10239 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Moves the currently selected lookup to be first in the lookup ordering\nor moves the currently selected subtable to be first in its lookup.&quot;);</span>
<span class="lineNum">   10240 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;_Top&quot;);</span>
<span class="lineNum">   10241 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10242 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10243 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10244 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_LookupTop;</span>
<span class="lineNum">   10245 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupOrder;</span>
<span class="lineNum">   10246 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10247 </span>            : 
<span class="lineNum">   10248 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10249 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10250 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Moves the currently selected lookup before the previous lookup\nor moves the currently selected subtable before the previous subtable.&quot;);</span>
<span class="lineNum">   10251 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;_Up&quot;);</span>
<span class="lineNum">   10252 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10253 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10254 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10255 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_LookupUp;</span>
<span class="lineNum">   10256 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupOrder;</span>
<span class="lineNum">   10257 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10258 </span>            : 
<span class="lineNum">   10259 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10260 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10261 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Moves the currently selected lookup after the next lookup\nor moves the currently selected subtable after the next subtable.&quot;);</span>
<span class="lineNum">   10262 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;_Down&quot;);</span>
<span class="lineNum">   10263 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10264 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10265 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10266 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_LookupDown;</span>
<span class="lineNum">   10267 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupOrder;</span>
<span class="lineNum">   10268 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10269 </span>            : 
<span class="lineNum">   10270 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10271 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10272 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Moves the currently selected lookup to the end of the lookup chain\nor moves the currently selected subtable to be the last subtable in the lookup&quot;);</span>
<span class="lineNum">   10273 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;_Bottom&quot;);</span>
<span class="lineNum">   10274 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10275 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10276 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10277 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_LookupBottom;</span>
<span class="lineNum">   10278 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupOrder;</span>
<span class="lineNum">   10279 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10280 </span>            : 
<span class="lineNum">   10281 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10282 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10283 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Sorts the lookups in a default ordering based on feature tags&quot;);</span>
<span class="lineNum">   10284 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;_Sort&quot;);</span>
<span class="lineNum">   10285 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10286 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10287 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10288 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_LookupSort;</span>
<span class="lineNum">   10289 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupSort;</span>
<span class="lineNum">   10290 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10291 </span>            : 
<span class="lineNum">   10292 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10293 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_enabled ;</span>
<span class="lineNum">   10294 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GLineCreate;</span>
<span class="lineNum">   10295 </span>            : 
<span class="lineNum">   10296 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10297 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_enabled | gg_utf8_popup ;</span>
<span class="lineNum">   10298 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Adds a new lookup after the selected lookup\nor at the start of the lookup list if nothing is selected.&quot;);</span>
<span class="lineNum">   10299 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;Add _Lookup&quot;);</span>
<span class="lineNum">   10300 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10301 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10302 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10303 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_AddLookup;</span>
<span class="lineNum">   10304 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupAddLookup;</span>
<span class="lineNum">   10305 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10306 </span>            : 
<span class="lineNum">   10307 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10308 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10309 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Adds a new lookup subtable after the selected subtable\nor at the start of the lookup if nothing is selected.&quot;);</span>
<span class="lineNum">   10310 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;Add Sub_table&quot;);</span>
<span class="lineNum">   10311 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10312 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10313 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10314 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_AddSubtable;</span>
<span class="lineNum">   10315 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupAddSubtable;</span>
<span class="lineNum">   10316 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10317 </span>            : 
<span class="lineNum">   10318 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10319 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10320 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Edits a lookup or lookup subtable.&quot;);</span>
<span class="lineNum">   10321 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;Edit _Metadata&quot;);</span>
<span class="lineNum">   10322 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10323 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10324 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10325 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_EditMetadata;</span>
<span class="lineNum">   10326 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupEditMetadata;</span>
<span class="lineNum">   10327 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10328 </span>            : 
<span class="lineNum">   10329 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10330 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10331 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Edits the transformations in a lookup subtable.&quot;);</span>
<span class="lineNum">   10332 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;_Edit Data&quot;);</span>
<span class="lineNum">   10333 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10334 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10335 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10336 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_EditSubtable;</span>
<span class="lineNum">   10337 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupEditSubtableContents;</span>
<span class="lineNum">   10338 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10339 </span>            : 
<span class="lineNum">   10340 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10341 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10342 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Deletes any selected lookups and their subtables, or deletes any selected subtables.\nThis will also delete any transformations associated with those subtables.&quot;);</span>
<span class="lineNum">   10343 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;De_lete&quot;);</span>
<span class="lineNum">   10344 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10345 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10346 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10347 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_DeleteLookup;</span>
<span class="lineNum">   10348 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupDeleteLookup;</span>
<span class="lineNum">   10349 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10350 </span>            : 
<span class="lineNum">   10351 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10352 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10353 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Merges two selected (and compatible) lookups into one,\nor merges two selected subtables of a lookup into one&quot;);</span>
<span class="lineNum">   10354 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;_Merge&quot;);</span>
<span class="lineNum">   10355 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10356 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10357 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10358 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_MergeLookup;</span>
<span class="lineNum">   10359 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupMergeLookup;</span>
<span class="lineNum">   10360 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10361 </span>            : 
<span class="lineNum">   10362 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10363 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10364 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Reverts the lookup list to its original condition.\nBut any changes to subtable data will remain.&quot;);</span>
<span class="lineNum">   10365 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;_Revert&quot;);</span>
<span class="lineNum">   10366 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10367 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10368 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10369 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_RevertLookups;</span>
<span class="lineNum">   10370 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupRevertLookup;</span>
<span class="lineNum">   10371 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10372 </span>            : 
<span class="lineNum">   10373 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = &amp;lkbuttonsgcd[i];</span>
<span class="lineNum">   10374 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.flags = gg_visible | gg_utf8_popup ;</span>
<span class="lineNum">   10375 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.popup_msg = (unichar_t *) _(&quot;Imports a lookup (and all its subtables) from another font.&quot;);</span>
<span class="lineNum">   10376 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text = (unichar_t *) _(&quot;_Import&quot;);</span>
<span class="lineNum">   10377 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_is_1byte = true;</span>
<span class="lineNum">   10378 </span><span class="lineNoCov">          0 :     lkbuttonslabel[i].text_in_resource = true;</span>
<span class="lineNum">   10379 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.label = &amp;lkbuttonslabel[i];</span>
<span class="lineNum">   10380 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.cid = CID_ImportLookups;</span>
<span class="lineNum">   10381 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i].gd.handle_controlevent = GFI_LookupImportLookup;</span>
<span class="lineNum">   10382 </span><span class="lineNoCov">          0 :     lkbuttonsgcd[i++].creator = GButtonCreate;</span>
<span class="lineNum">   10383 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i] = GCD_Glue;</span>
<span class="lineNum">   10384 </span><span class="lineNoCov">          0 :     lkbuttonsarray[i+1] = NULL;</span>
<span class="lineNum">   10385 </span>            : 
<span class="lineNum">   10386 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;2; ++i ) {</span>
<span class="lineNum">   10387 </span><span class="lineNoCov">          0 :         lkaspects[i].text = (unichar_t *) (i?&quot;GPOS&quot;:&quot;GSUB&quot;);</span>
<span class="lineNum">   10388 </span><span class="lineNoCov">          0 :         lkaspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10389 </span><span class="lineNoCov">          0 :         lkaspects[i].gcd = &amp;lkbox[2*i];</span>
<span class="lineNum">   10390 </span>            : 
<span class="lineNum">   10391 </span><span class="lineNoCov">          0 :         lksubgcd[i][0].gd.pos.x = 10; lksubgcd[i][0].gd.pos.y = 10;</span>
<span class="lineNum">   10392 </span><span class="lineNoCov">          0 :         lksubgcd[i][0].gd.pos.width = ngcd[15].gd.pos.width;</span>
<span class="lineNum">   10393 </span><span class="lineNoCov">          0 :         lksubgcd[i][0].gd.pos.height = 150;</span>
<span class="lineNum">   10394 </span><span class="lineNoCov">          0 :         lksubgcd[i][0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10395 </span><span class="lineNoCov">          0 :         lksubgcd[i][0].gd.u.drawable_e_h = i ? gposlookups_e_h : gsublookups_e_h;</span>
<span class="lineNum">   10396 </span><span class="lineNoCov">          0 :         lksubgcd[i][0].gd.cid = CID_LookupWin+i;</span>
<span class="lineNum">   10397 </span><span class="lineNoCov">          0 :         lksubgcd[i][0].creator = GDrawableCreate;</span>
<span class="lineNum">   10398 </span>            : 
<span class="lineNum">   10399 </span><span class="lineNoCov">          0 :         lksubgcd[i][1].gd.pos.x = 10; lksubgcd[i][1].gd.pos.y = 10;</span>
<span class="lineNum">   10400 </span><span class="lineNoCov">          0 :         lksubgcd[i][1].gd.pos.height = 150;</span>
<span class="lineNum">   10401 </span><span class="lineNoCov">          0 :         lksubgcd[i][1].gd.flags = gg_visible | gg_enabled | gg_sb_vert;</span>
<span class="lineNum">   10402 </span><span class="lineNoCov">          0 :         lksubgcd[i][1].gd.cid = CID_LookupVSB+i;</span>
<span class="lineNum">   10403 </span><span class="lineNoCov">          0 :         lksubgcd[i][1].gd.handle_controlevent = LookupsVScroll;</span>
<span class="lineNum">   10404 </span><span class="lineNoCov">          0 :         lksubgcd[i][1].creator = GScrollBarCreate;</span>
<span class="lineNum">   10405 </span>            : 
<span class="lineNum">   10406 </span><span class="lineNoCov">          0 :         lksubgcd[i][2].gd.pos.x = 10; lksubgcd[i][2].gd.pos.y = 10;</span>
<span class="lineNum">   10407 </span><span class="lineNoCov">          0 :         lksubgcd[i][2].gd.pos.width = 150;</span>
<span class="lineNum">   10408 </span><span class="lineNoCov">          0 :         lksubgcd[i][2].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10409 </span><span class="lineNoCov">          0 :         lksubgcd[i][2].gd.cid = CID_LookupHSB+i;</span>
<span class="lineNum">   10410 </span><span class="lineNoCov">          0 :         lksubgcd[i][2].gd.handle_controlevent = LookupsHScroll;</span>
<span class="lineNum">   10411 </span><span class="lineNoCov">          0 :         lksubgcd[i][2].creator = GScrollBarCreate;</span>
<span class="lineNum">   10412 </span>            : 
<span class="lineNum">   10413 </span><span class="lineNoCov">          0 :         lksubgcd[i][3].gd.pos.x = 10; lksubgcd[i][3].gd.pos.y = 10;</span>
<span class="lineNum">   10414 </span><span class="lineNoCov">          0 :         lksubgcd[i][3].gd.pos.width = lksubgcd[i][3].gd.pos.height = _GScrollBar_Width;</span>
<span class="lineNum">   10415 </span><span class="lineNoCov">          0 :         lksubgcd[i][3].gd.flags = gg_visible | gg_enabled | gg_tabset_nowindow;</span>
<span class="lineNum">   10416 </span><span class="lineNoCov">          0 :         lksubgcd[i][3].creator = GDrawableCreate;</span>
<span class="lineNum">   10417 </span>            : 
<span class="lineNum">   10418 </span><span class="lineNoCov">          0 :         lkarray[i][0] = &amp;lksubgcd[i][0]; lkarray[i][1] = &amp;lksubgcd[i][1]; lkarray[i][2] = NULL;</span>
<span class="lineNum">   10419 </span><span class="lineNoCov">          0 :         lkarray[i][3] = &amp;lksubgcd[i][2]; lkarray[i][4] = &amp;lksubgcd[i][3]; lkarray[i][5] = NULL;</span>
<span class="lineNum">   10420 </span><span class="lineNoCov">          0 :         lkarray[i][6] = NULL;</span>
<span class="lineNum">   10421 </span>            : 
<span class="lineNum">   10422 </span><span class="lineNoCov">          0 :         lkbox[2*i].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10423 </span><span class="lineNoCov">          0 :         lkbox[2*i].gd.u.boxelements = lkarray[i];</span>
<span class="lineNum">   10424 </span><span class="lineNoCov">          0 :         lkbox[2*i].creator = GHVBoxCreate;</span>
<span class="lineNum">   10425 </span>            :     }
<span class="lineNum">   10426 </span>            : 
<span class="lineNum">   10427 </span><span class="lineNoCov">          0 :     lkaspects[0].selected = true;</span>
<span class="lineNum">   10428 </span>            : 
<span class="lineNum">   10429 </span><span class="lineNoCov">          0 :     lkgcd[0].gd.pos.x = 4; lkgcd[0].gd.pos.y = 10;</span>
<span class="lineNum">   10430 </span><span class="lineNoCov">          0 :     lkgcd[0].gd.pos.width = 250;</span>
<span class="lineNum">   10431 </span><span class="lineNoCov">          0 :     lkgcd[0].gd.pos.height = 260;</span>
<span class="lineNum">   10432 </span><span class="lineNoCov">          0 :     lkgcd[0].gd.u.tabs = lkaspects;</span>
<span class="lineNum">   10433 </span><span class="lineNoCov">          0 :     lkgcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10434 </span><span class="lineNoCov">          0 :     lkgcd[0].gd.cid = CID_Lookups;</span>
<span class="lineNum">   10435 </span><span class="lineNoCov">          0 :     lkgcd[0].gd.handle_controlevent = GFI_LookupAspectChange;</span>
<span class="lineNum">   10436 </span><span class="lineNoCov">          0 :     lkgcd[0].creator = GTabSetCreate;</span>
<span class="lineNum">   10437 </span>            : 
<span class="lineNum">   10438 </span><span class="lineNoCov">          0 :     lkharray[0] = &amp;lkgcd[0]; lkharray[1] = &amp;lkbox[4]; lkharray[2] = NULL;</span>
<span class="lineNum">   10439 </span>            : 
<span class="lineNum">   10440 </span><span class="lineNoCov">          0 :     lkbox[4].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10441 </span><span class="lineNoCov">          0 :     lkbox[4].gd.u.boxelements = lkbuttonsarray;</span>
<span class="lineNum">   10442 </span><span class="lineNoCov">          0 :     lkbox[4].creator = GVBoxCreate;</span>
<span class="lineNum">   10443 </span>            : 
<span class="lineNum">   10444 </span><span class="lineNoCov">          0 :     lkbox[5].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10445 </span><span class="lineNoCov">          0 :     lkbox[5].gd.u.boxelements = lkharray;</span>
<span class="lineNum">   10446 </span><span class="lineNoCov">          0 :     lkbox[5].creator = GHBoxCreate;</span>
<span class="lineNum">   10447 </span>            : 
<span class="lineNum">   10448 </span>            : 
<span class="lineNum">   10449 </span>            : /******************************************************************************/
<span class="lineNum">   10450 </span><span class="lineNoCov">          0 :     memset(&amp;mfgcd,0,sizeof(mfgcd));</span>
<span class="lineNum">   10451 </span><span class="lineNoCov">          0 :     memset(&amp;mflabel,'\0',sizeof(mflabel));</span>
<span class="lineNum">   10452 </span><span class="lineNoCov">          0 :     memset(mfbox,0,sizeof(mfbox));</span>
<span class="lineNum">   10453 </span>            : 
<span class="lineNum">   10454 </span><span class="lineNoCov">          0 :     GCDFillMacFeat(mfgcd,mflabel,250,sf-&gt;features, false, mfbox, mfarray);</span>
<span class="lineNum">   10455 </span>            : /******************************************************************************/
<span class="lineNum">   10456 </span>            : 
<span class="lineNum">   10457 </span><span class="lineNoCov">          0 :     memset(&amp;dlabel,0,sizeof(dlabel));</span>
<span class="lineNum">   10458 </span><span class="lineNoCov">          0 :     memset(&amp;dgcd,0,sizeof(dgcd));</span>
<span class="lineNum">   10459 </span>            : 
<span class="lineNum">   10460 </span><span class="lineNoCov">          0 :     dlabel[0].text = (unichar_t *) _(&quot;Creation Date:&quot;);</span>
<span class="lineNum">   10461 </span><span class="lineNoCov">          0 :     dlabel[0].text_is_1byte = true;</span>
<span class="lineNum">   10462 </span><span class="lineNoCov">          0 :     dlabel[0].text_in_resource = true;</span>
<span class="lineNum">   10463 </span><span class="lineNoCov">          0 :     dgcd[0].gd.label = &amp;dlabel[0];</span>
<span class="lineNum">   10464 </span><span class="lineNoCov">          0 :     dgcd[0].gd.pos.x = 12; dgcd[0].gd.pos.y = 6+6;</span>
<span class="lineNum">   10465 </span><span class="lineNoCov">          0 :     dgcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10466 </span><span class="lineNoCov">          0 :     dgcd[0].creator = GLabelCreate;</span>
<span class="lineNum">   10467 </span>            : 
<span class="lineNum">   10468 </span><span class="lineNoCov">          0 :     t = sf-&gt;creationtime;</span>
<span class="lineNum">   10469 </span><span class="lineNoCov">          0 :     tm = localtime(&amp;t);</span>
<span class="lineNum">   10470 </span><span class="lineNoCov">          0 :     if(!tm) strcpy(createtime, &quot;error&quot;);</span>
<span class="lineNum">   10471 </span><span class="lineNoCov">          0 :     else    strftime(createtime,sizeof(createtime),&quot;%c&quot;,tm);</span>
<span class="lineNum">   10472 </span><span class="lineNoCov">          0 :     tmpcreatetime = def2u_copy(createtime);</span>
<span class="lineNum">   10473 </span><span class="lineNoCov">          0 :     dgcd[1].gd.pos.x = 115; dgcd[1].gd.pos.y = dgcd[0].gd.pos.y;</span>
<span class="lineNum">   10474 </span><span class="lineNoCov">          0 :     dgcd[1].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10475 </span><span class="lineNoCov">          0 :     dlabel[1].text = tmpcreatetime;</span>
<span class="lineNum">   10476 </span><span class="lineNoCov">          0 :     dgcd[1].gd.label = &amp;dlabel[1];</span>
<span class="lineNum">   10477 </span><span class="lineNoCov">          0 :     dgcd[1].creator = GLabelCreate;</span>
<span class="lineNum">   10478 </span>            : 
<span class="lineNum">   10479 </span><span class="lineNoCov">          0 :     dlabel[2].text = (unichar_t *) _(&quot;Modification Date:&quot;);</span>
<span class="lineNum">   10480 </span><span class="lineNoCov">          0 :     dlabel[2].text_is_1byte = true;</span>
<span class="lineNum">   10481 </span><span class="lineNoCov">          0 :     dlabel[2].text_in_resource = true;</span>
<span class="lineNum">   10482 </span><span class="lineNoCov">          0 :     dgcd[2].gd.label = &amp;dlabel[2];</span>
<span class="lineNum">   10483 </span><span class="lineNoCov">          0 :     dgcd[2].gd.pos.x = 12; dgcd[2].gd.pos.y = dgcd[0].gd.pos.y+14;</span>
<span class="lineNum">   10484 </span><span class="lineNoCov">          0 :     dgcd[2].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10485 </span><span class="lineNoCov">          0 :     dgcd[2].creator = GLabelCreate;</span>
<span class="lineNum">   10486 </span>            : 
<span class="lineNum">   10487 </span><span class="lineNoCov">          0 :     t = sf-&gt;modificationtime;</span>
<span class="lineNum">   10488 </span><span class="lineNoCov">          0 :     tm = localtime(&amp;t);</span>
<span class="lineNum">   10489 </span><span class="lineNoCov">          0 :     if(!tm) strcpy(modtime, &quot;error&quot;);</span>
<span class="lineNum">   10490 </span><span class="lineNoCov">          0 :     else    strftime(modtime,sizeof(modtime),&quot;%c&quot;,tm);</span>
<span class="lineNum">   10491 </span><span class="lineNoCov">          0 :     tmpmodtime = def2u_copy(modtime);</span>
<span class="lineNum">   10492 </span><span class="lineNoCov">          0 :     dgcd[3].gd.pos.x = 115; dgcd[3].gd.pos.y = dgcd[2].gd.pos.y;</span>
<span class="lineNum">   10493 </span><span class="lineNoCov">          0 :     dgcd[3].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10494 </span><span class="lineNoCov">          0 :     dlabel[3].text = tmpmodtime;</span>
<span class="lineNum">   10495 </span><span class="lineNoCov">          0 :     dgcd[3].gd.label = &amp;dlabel[3];</span>
<span class="lineNum">   10496 </span><span class="lineNoCov">          0 :     dgcd[3].creator = GLabelCreate;</span>
<span class="lineNum">   10497 </span>            : 
<span class="lineNum">   10498 </span><span class="lineNoCov">          0 :     darray[0] = &amp;dgcd[0]; darray[1] = &amp;dgcd[1]; darray[2] = NULL;</span>
<span class="lineNum">   10499 </span><span class="lineNoCov">          0 :     darray[3] = &amp;dgcd[2]; darray[4] = &amp;dgcd[3]; darray[5] = NULL;</span>
<span class="lineNum">   10500 </span><span class="lineNoCov">          0 :     darray[6] = GCD_Glue; darray[7] = GCD_Glue; darray[8] = NULL;</span>
<span class="lineNum">   10501 </span><span class="lineNoCov">          0 :     darray[9] = NULL;</span>
<span class="lineNum">   10502 </span>            : 
<span class="lineNum">   10503 </span><span class="lineNoCov">          0 :     memset(dbox,0,sizeof(dbox));</span>
<span class="lineNum">   10504 </span><span class="lineNoCov">          0 :     dbox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10505 </span><span class="lineNoCov">          0 :     dbox[0].gd.u.boxelements = darray;</span>
<span class="lineNum">   10506 </span><span class="lineNoCov">          0 :     dbox[0].creator = GHVBoxCreate;</span>
<span class="lineNum">   10507 </span>            : /******************************************************************************/
<span class="lineNum">   10508 </span>            : 
<span class="lineNum">   10509 </span><span class="lineNoCov">          0 :     memset(&amp;ulabel,0,sizeof(ulabel));</span>
<span class="lineNum">   10510 </span><span class="lineNoCov">          0 :     memset(&amp;ugcd,0,sizeof(ugcd));</span>
<span class="lineNum">   10511 </span><span class="lineNoCov">          0 :     memset(ubox,0,sizeof(ubox));</span>
<span class="lineNum">   10512 </span>            : 
<span class="lineNum">   10513 </span><span class="lineNoCov">          0 :     ulabel[0].text = (unichar_t *) _(</span>
<span class="lineNum">   10514 </span>            :             &quot;This pane is informative only and shows the characters\n&quot;
<span class="lineNum">   10515 </span>            :             &quot;actually in the font. If you wish to set the OS/2 Unicode\n&quot;
<span class="lineNum">   10516 </span>            :             &quot;Range field, change the pane to&quot;);
<span class="lineNum">   10517 </span><span class="lineNoCov">          0 :     ulabel[0].text_is_1byte = true;</span>
<span class="lineNum">   10518 </span><span class="lineNoCov">          0 :     ugcd[0].gd.label = &amp;ulabel[0];</span>
<span class="lineNum">   10519 </span><span class="lineNoCov">          0 :     ugcd[0].gd.pos.x = 12; ugcd[0].gd.pos.y = 10;</span>
<span class="lineNum">   10520 </span><span class="lineNoCov">          0 :     ugcd[0].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10521 </span><span class="lineNoCov">          0 :     ugcd[0].creator = GLabelCreate;</span>
<span class="lineNum">   10522 </span>            : 
<span class="lineNum">   10523 </span><span class="lineNoCov">          0 :     ulabel[1].text = (unichar_t *) _( &quot;OS/2 -&gt; Charsets&quot;);</span>
<span class="lineNum">   10524 </span><span class="lineNoCov">          0 :     ulabel[1].text_is_1byte = true;</span>
<span class="lineNum">   10525 </span><span class="lineNoCov">          0 :     ugcd[1].gd.label = &amp;ulabel[1];</span>
<span class="lineNum">   10526 </span><span class="lineNoCov">          0 :     ugcd[1].gd.pos.x = 12; ugcd[1].gd.pos.y = 10;</span>
<span class="lineNum">   10527 </span><span class="lineNoCov">          0 :     ugcd[1].gd.flags = gg_visible | gg_enabled | gg_dontcopybox;</span>
<span class="lineNum">   10528 </span><span class="lineNoCov">          0 :     ugcd[1].gd.box = &amp;small_blue_box;</span>
<span class="lineNum">   10529 </span><span class="lineNoCov">          0 :     ugcd[1].gd.handle_controlevent = GFI_URangeAspectChange;</span>
<span class="lineNum">   10530 </span><span class="lineNoCov">          0 :     ugcd[1].creator = GButtonCreate;</span>
<span class="lineNum">   10531 </span><span class="lineNoCov">          0 :     uharray[0] = GCD_Glue; uharray[1] = &amp;ugcd[1]; uharray[2] = GCD_Glue; uharray[3] = NULL;</span>
<span class="lineNum">   10532 </span>            : 
<span class="lineNum">   10533 </span><span class="lineNoCov">          0 :     ubox[2].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10534 </span><span class="lineNoCov">          0 :     ubox[2].gd.u.boxelements = uharray;</span>
<span class="lineNum">   10535 </span><span class="lineNoCov">          0 :     ubox[2].creator = GHBoxCreate;</span>
<span class="lineNum">   10536 </span>            : 
<span class="lineNum">   10537 </span><span class="lineNoCov">          0 :     ulabel[2].text = (unichar_t *) _(&quot;Include Empty Blocks&quot;);</span>
<span class="lineNum">   10538 </span><span class="lineNoCov">          0 :     ulabel[2].text_is_1byte = true;</span>
<span class="lineNum">   10539 </span><span class="lineNoCov">          0 :     ulabel[2].text_in_resource = true;</span>
<span class="lineNum">   10540 </span><span class="lineNoCov">          0 :     ugcd[2].gd.label = &amp;ulabel[2];</span>
<span class="lineNum">   10541 </span><span class="lineNoCov">          0 :     ugcd[2].gd.pos.x = 12; ugcd[2].gd.pos.y = 10;</span>
<span class="lineNum">   10542 </span><span class="lineNoCov">          0 :     ugcd[2].gd.flags = gg_visible | gg_enabled;</span>
<span class="lineNum">   10543 </span><span class="lineNoCov">          0 :     ugcd[2].gd.handle_controlevent = GFI_UnicodeEmptiesChange;</span>
<span class="lineNum">   10544 </span><span class="lineNoCov">          0 :     ugcd[2].gd.cid = CID_UnicodeEmpties;</span>
<span class="lineNum">   10545 </span><span class="lineNoCov">          0 :     ugcd[2].creator = GCheckBoxCreate;</span>
<span class="lineNum">   10546 </span>            : 
<span class="lineNum">   10547 </span><span class="lineNoCov">          0 :     ugcd[3].gd.pos.x = 12; ugcd[3].gd.pos.y = 30;</span>
<span class="lineNum">   10548 </span><span class="lineNoCov">          0 :     ugcd[3].gd.pos.width = ngcd[15].gd.pos.width;</span>
<span class="lineNum">   10549 </span><span class="lineNoCov">          0 :     ugcd[3].gd.pos.height = 200;</span>
<span class="lineNum">   10550 </span><span class="lineNoCov">          0 :     ugcd[3].gd.flags = gg_visible | gg_enabled | gg_utf8_popup;</span>
<span class="lineNum">   10551 </span><span class="lineNoCov">          0 :     ugcd[3].gd.cid = CID_Unicode;</span>
<span class="lineNum">   10552 </span><span class="lineNoCov">          0 :     ugcd[3].gd.handle_controlevent = GFI_UnicodeRangeChange;</span>
<span class="lineNum">   10553 </span><span class="lineNoCov">          0 :     ugcd[3].gd.popup_msg = (unichar_t *) _(&quot;Click on a range to select characters in that range.\nDouble click on a range to see characters that should be\nin the range but aren't.&quot;);</span>
<span class="lineNum">   10554 </span><span class="lineNoCov">          0 :     ugcd[3].creator = GListCreate;</span>
<span class="lineNum">   10555 </span>            : 
<span class="lineNum">   10556 </span><span class="lineNoCov">          0 :     uarray[0] = &amp;ugcd[0]; uarray[1] = &amp;ubox[2]; uarray[2] = &amp;ugcd[2]; uarray[3] = &amp;ugcd[3]; uarray[4] = NULL;</span>
<span class="lineNum">   10557 </span>            : 
<span class="lineNum">   10558 </span><span class="lineNoCov">          0 :     ubox[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10559 </span><span class="lineNoCov">          0 :     ubox[0].gd.u.boxelements = uarray;</span>
<span class="lineNum">   10560 </span><span class="lineNoCov">          0 :     ubox[0].creator = GVBoxCreate;</span>
<span class="lineNum">   10561 </span>            : 
<span class="lineNum">   10562 </span>            : /******************************************************************************/
<span class="lineNum">   10563 </span>            : 
<span class="lineNum">   10564 </span>            :     // This is where the indices for the different tabs get set as referenced by defaspect.
<span class="lineNum">   10565 </span>            :     // If you change something here, it's probably a good idea to grep for calls to FontInfo
<span class="lineNum">   10566 </span>            :     // in order to confirm/adjust the defaspect arguments.
<span class="lineNum">   10567 </span>            : 
<span class="lineNum">   10568 </span><span class="lineNoCov">          0 :     memset(&amp;mlabel,0,sizeof(mlabel));</span>
<span class="lineNum">   10569 </span><span class="lineNoCov">          0 :     memset(&amp;mgcd,0,sizeof(mgcd));</span>
<span class="lineNum">   10570 </span><span class="lineNoCov">          0 :     memset(&amp;aspects,'\0',sizeof(aspects));</span>
<span class="lineNum">   10571 </span>            : 
<span class="lineNum">   10572 </span><span class="lineNoCov">          0 :     i = 0;</span>
<span class="lineNum">   10573 </span>            : 
<span class="lineNum">   10574 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;PS Names&quot;);</span>
<span class="lineNum">   10575 </span><span class="lineNoCov">          0 :     d-&gt;old_aspect = 0;</span>
<span class="lineNum">   10576 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10577 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = nb;</span>
<span class="lineNum">   10578 </span>            : 
<span class="lineNum">   10579 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;General&quot;);</span>
<span class="lineNum">   10580 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10581 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = psb;</span>
<span class="lineNum">   10582 </span>            : 
<span class="lineNum">   10583 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;Layers&quot;);</span>
<span class="lineNum">   10584 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10585 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = lbox;</span>
<span class="lineNum">   10586 </span>            : 
<span class="lineNum">   10587 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;PS UID&quot;);</span>
<span class="lineNum">   10588 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10589 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = xub;</span>
<span class="lineNum">   10590 </span>            : 
<span class="lineNum">   10591 </span><span class="lineNoCov">          0 :     d-&gt;private_aspect = i;</span>
<span class="lineNum">   10592 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;PS Private&quot;);</span>
<span class="lineNum">   10593 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10594 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = ppbox;</span>
<span class="lineNum">   10595 </span>            : 
<span class="lineNum">   10596 </span><span class="lineNoCov">          0 :     d-&gt;ttfv_aspect = i;</span>
<span class="lineNum">   10597 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;OS/2&quot;);</span>
<span class="lineNum">   10598 </span><span class="lineNoCov">          0 :     if ( sf-&gt;cidmaster!=NULL ) aspects[i].disabled = true;</span>
<span class="lineNum">   10599 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10600 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = vagcd;</span>
<span class="lineNum">   10601 </span>            : 
<span class="lineNum">   10602 </span><span class="lineNoCov">          0 :     d-&gt;tn_aspect = i;</span>
<span class="lineNum">   10603 </span><span class="lineNoCov">          0 :     if ( sf-&gt;cidmaster!=NULL ) aspects[i].disabled = true;</span>
<span class="lineNum">   10604 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;TTF Names&quot;);</span>
<span class="lineNum">   10605 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10606 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = tnboxes;</span>
<span class="lineNum">   10607 </span>            : 
<span class="lineNum">   10608 </span><span class="lineNoCov">          0 :     if ( sf-&gt;cidmaster!=NULL ) aspects[i].disabled = true;</span>
<span class="lineNum">   10609 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;StyleSet Names&quot;);</span>
<span class="lineNum">   10610 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10611 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = ssboxes;</span>
<span class="lineNum">   10612 </span>            : 
<span class="lineNum">   10613 </span><span class="lineNoCov">          0 :     if ( sf-&gt;cidmaster!=NULL ) aspects[i].disabled = true;</span>
<span class="lineNum">   10614 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;Grid Fitting&quot;);</span>
<span class="lineNum">   10615 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10616 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = gaspboxes;</span>
<span class="lineNum">   10617 </span>            : 
<span class="lineNum">   10618 </span><span class="lineNoCov">          0 :     d-&gt;tx_aspect = i;</span>
<span class="lineNum">   10619 </span>            : /* xgettext won't use non-ASCII messages */
<span class="lineNum">   10620 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) U_(&quot;&quot;);     /* Tau epsilon Chi, in greek */</span>
<span class="lineNum">   10621 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10622 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = txbox;</span>
<span class="lineNum">   10623 </span>            : 
<span class="lineNum">   10624 </span><span class="lineNoCov">          0 :     if ( sf-&gt;cidmaster!=NULL ) aspects[i].disabled = true;</span>
<span class="lineNum">   10625 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;Size&quot;);</span>
<span class="lineNum">   10626 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10627 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = szbox;</span>
<span class="lineNum">   10628 </span>            : 
<span class="lineNum">   10629 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;Comment&quot;);</span>
<span class="lineNum">   10630 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10631 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = combox;</span>
<span class="lineNum">   10632 </span>            : 
<span class="lineNum">   10633 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;FONTLOG&quot;);</span>
<span class="lineNum">   10634 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10635 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = flogbox;</span>
<span class="lineNum">   10636 </span>            : 
<span class="lineNum">   10637 </span><span class="lineNoCov">          0 :     if ( sf-&gt;cidmaster!=NULL ) aspects[i].disabled = true;</span>
<span class="lineNum">   10638 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;Mark Classes&quot;);</span>
<span class="lineNum">   10639 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10640 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = mkbox;</span>
<span class="lineNum">   10641 </span>            : 
<span class="lineNum">   10642 </span><span class="lineNoCov">          0 :     if ( sf-&gt;cidmaster!=NULL ) aspects[i].disabled = true;</span>
<span class="lineNum">   10643 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;Mark Sets&quot;);</span>
<span class="lineNum">   10644 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10645 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = msbox;</span>
<span class="lineNum">   10646 </span>            : 
<span class="lineNum">   10647 </span>            : /* GT: OpenType GPOS/GSUB lookups */
<span class="lineNum">   10648 </span><span class="lineNoCov">          0 :     if ( sf-&gt;cidmaster!=NULL ) aspects[i].disabled = true;</span>
<span class="lineNum">   10649 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) S_(&quot;OpenType|Lookups&quot;);</span>
<span class="lineNum">   10650 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10651 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = &amp;lkbox[5];</span>
<span class="lineNum">   10652 </span>            : /* On my system the &quot;lookups line appears indented. That seems to be because */
<span class="lineNum">   10653 </span>            : /*  the letter &quot;L&quot; has more of a left-side bearing than it should. It is not */
<span class="lineNum">   10654 </span>            : /*  a bug in the nesting level. Remember this next time it bugs me */
<span class="lineNum">   10655 </span>            : 
<span class="lineNum">   10656 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;WOFF&quot;);</span>
<span class="lineNum">   10657 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10658 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = woffbox;</span>
<span class="lineNum">   10659 </span>            : 
<span class="lineNum">   10660 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;Mac&quot;);</span>
<span class="lineNum">   10661 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10662 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = mcbox;</span>
<span class="lineNum">   10663 </span>            : 
<span class="lineNum">   10664 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;Mac Features&quot;);</span>
<span class="lineNum">   10665 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10666 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = mfbox;</span>
<span class="lineNum">   10667 </span>            : 
<span class="lineNum">   10668 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;Dates&quot;);</span>
<span class="lineNum">   10669 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10670 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = dbox;</span>
<span class="lineNum">   10671 </span>            : 
<span class="lineNum">   10672 </span><span class="lineNoCov">          0 :     d-&gt;unicode_aspect = i;</span>
<span class="lineNum">   10673 </span><span class="lineNoCov">          0 :     aspects[i].text = (unichar_t *) _(&quot;Unicode Ranges&quot;);</span>
<span class="lineNum">   10674 </span><span class="lineNoCov">          0 :     aspects[i].text_is_1byte = true;</span>
<span class="lineNum">   10675 </span><span class="lineNoCov">          0 :     aspects[i++].gcd = ubox;</span>
<span class="lineNum">   10676 </span>            : 
<span class="lineNum">   10677 </span><span class="lineNoCov">          0 :     aspects[defaspect].selected = true;</span>
<span class="lineNum">   10678 </span>            : 
<span class="lineNum">   10679 </span><span class="lineNoCov">          0 :     mgcd[0].gd.pos.x = 4; mgcd[0].gd.pos.y = 6;</span>
<span class="lineNum">   10680 </span><span class="lineNoCov">          0 :     mgcd[0].gd.u.tabs = aspects;</span>
<span class="lineNum">   10681 </span><span class="lineNoCov">          0 :     mgcd[0].gd.flags = gg_visible | gg_enabled | gg_tabset_vert;</span>
<span class="lineNum">   10682 </span>            :     // We adjusted the following two values so as to make the GPOS and GSUB scrollbars visible.
<span class="lineNum">   10683 </span><span class="lineNoCov">          0 :     mgcd[0].gd.pos.width = 500; // 260+85;</span>
<span class="lineNum">   10684 </span><span class="lineNoCov">          0 :     mgcd[0].gd.pos.height = 380; // 325;</span>
<span class="lineNum">   10685 </span><span class="lineNoCov">          0 :     mgcd[0].gd.handle_controlevent = GFI_AspectChange;</span>
<span class="lineNum">   10686 </span><span class="lineNoCov">          0 :     mgcd[0].gd.cid = CID_Tabs;</span>
<span class="lineNum">   10687 </span><span class="lineNoCov">          0 :     mgcd[0].creator = GTabSetCreate;</span>
<span class="lineNum">   10688 </span>            : 
<span class="lineNum">   10689 </span><span class="lineNoCov">          0 :     mgcd[1].gd.pos.x = 30-3; mgcd[1].gd.pos.y = GDrawPixelsToPoints(NULL,pos.height)-35-3;</span>
<span class="lineNum">   10690 </span><span class="lineNoCov">          0 :     mgcd[1].gd.pos.width = -1; mgcd[1].gd.pos.height = 0;</span>
<span class="lineNum">   10691 </span><span class="lineNoCov">          0 :     mgcd[1].gd.flags = gg_visible | gg_enabled | gg_but_default;</span>
<span class="lineNum">   10692 </span><span class="lineNoCov">          0 :     mlabel[1].text = (unichar_t *) _(&quot;_OK&quot;);</span>
<span class="lineNum">   10693 </span><span class="lineNoCov">          0 :     mlabel[1].text_is_1byte = true;</span>
<span class="lineNum">   10694 </span><span class="lineNoCov">          0 :     mlabel[1].text_in_resource = true;</span>
<span class="lineNum">   10695 </span><span class="lineNoCov">          0 :     mgcd[1].gd.label = &amp;mlabel[1];</span>
<span class="lineNum">   10696 </span><span class="lineNoCov">          0 :     mgcd[1].gd.handle_controlevent = GFI_OK;</span>
<span class="lineNum">   10697 </span><span class="lineNoCov">          0 :     mgcd[1].gd.cid = CID_OK;</span>
<span class="lineNum">   10698 </span><span class="lineNoCov">          0 :     mgcd[1].creator = GButtonCreate;</span>
<span class="lineNum">   10699 </span>            : 
<span class="lineNum">   10700 </span><span class="lineNoCov">          0 :     mgcd[2].gd.pos.x = -30; mgcd[2].gd.pos.y = mgcd[1].gd.pos.y+3;</span>
<span class="lineNum">   10701 </span><span class="lineNoCov">          0 :     mgcd[2].gd.pos.width = -1; mgcd[2].gd.pos.height = 0;</span>
<span class="lineNum">   10702 </span><span class="lineNoCov">          0 :     mgcd[2].gd.flags = gg_visible | gg_enabled | gg_but_cancel;</span>
<span class="lineNum">   10703 </span><span class="lineNoCov">          0 :     mlabel[2].text = (unichar_t *) _(&quot;_Cancel&quot;);</span>
<span class="lineNum">   10704 </span><span class="lineNoCov">          0 :     mlabel[2].text_is_1byte = true;</span>
<span class="lineNum">   10705 </span><span class="lineNoCov">          0 :     mlabel[2].text_in_resource = true;</span>
<span class="lineNum">   10706 </span><span class="lineNoCov">          0 :     mgcd[2].gd.label = &amp;mlabel[2];</span>
<span class="lineNum">   10707 </span><span class="lineNoCov">          0 :     mgcd[2].gd.handle_controlevent = GFI_Cancel;</span>
<span class="lineNum">   10708 </span><span class="lineNoCov">          0 :     mgcd[2].gd.cid = CID_Cancel;</span>
<span class="lineNum">   10709 </span><span class="lineNoCov">          0 :     mgcd[2].creator = GButtonCreate;</span>
<span class="lineNum">   10710 </span>            : 
<span class="lineNum">   10711 </span><span class="lineNoCov">          0 :     mgcd[3].gd.pos.x = 2; mgcd[3].gd.pos.y = 2;</span>
<span class="lineNum">   10712 </span><span class="lineNoCov">          0 :     mgcd[3].gd.pos.width = pos.width-4; mgcd[3].gd.pos.height = pos.height-4;</span>
<span class="lineNum">   10713 </span><span class="lineNoCov">          0 :     mgcd[3].gd.flags = gg_enabled | gg_visible | gg_pos_in_pixels;</span>
<span class="lineNum">   10714 </span><span class="lineNoCov">          0 :     mgcd[3].gd.cid = CID_MainGroup;</span>
<span class="lineNum">   10715 </span><span class="lineNoCov">          0 :     mgcd[3].creator = GGroupCreate;</span>
<span class="lineNum">   10716 </span>            : 
<span class="lineNum">   10717 </span><span class="lineNoCov">          0 :     marray2[0] = marray2[2] = marray2[3] = marray2[4] = marray2[6] = GCD_Glue; marray2[7] = NULL;</span>
<span class="lineNum">   10718 </span><span class="lineNoCov">          0 :     marray2[1] = &amp;mgcd[1]; marray2[5] = &amp;mgcd[2];</span>
<span class="lineNum">   10719 </span>            : 
<span class="lineNum">   10720 </span><span class="lineNoCov">          0 :     marray[0] = &amp;mgcd[0]; marray[1] = NULL;</span>
<span class="lineNum">   10721 </span><span class="lineNoCov">          0 :     marray[2] = &amp;mb2; marray[3] = NULL;</span>
<span class="lineNum">   10722 </span><span class="lineNoCov">          0 :     marray[4] = GCD_Glue; marray[5] = NULL;</span>
<span class="lineNum">   10723 </span><span class="lineNoCov">          0 :     marray[6] = NULL;</span>
<span class="lineNum">   10724 </span>            : 
<span class="lineNum">   10725 </span><span class="lineNoCov">          0 :     memset(mb,0,sizeof(mb));</span>
<span class="lineNum">   10726 </span><span class="lineNoCov">          0 :     mb[0].gd.pos.x = mb[0].gd.pos.y = 2;</span>
<span class="lineNum">   10727 </span><span class="lineNoCov">          0 :     mb[0].gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10728 </span><span class="lineNoCov">          0 :     mb[0].gd.u.boxelements = marray;</span>
<span class="lineNum">   10729 </span><span class="lineNoCov">          0 :     mb[0].gd.cid = CID_TopBox;</span>
<span class="lineNum">   10730 </span><span class="lineNoCov">          0 :     mb[0].creator = GHVGroupCreate;</span>
<span class="lineNum">   10731 </span>            : 
<span class="lineNum">   10732 </span><span class="lineNoCov">          0 :     memset(&amp;mb2,0,sizeof(mb2));</span>
<span class="lineNum">   10733 </span><span class="lineNoCov">          0 :     mb2.gd.flags = gg_enabled|gg_visible;</span>
<span class="lineNum">   10734 </span><span class="lineNoCov">          0 :     mb2.gd.u.boxelements = marray2;</span>
<span class="lineNum">   10735 </span><span class="lineNoCov">          0 :     mb2.creator = GHBoxCreate;</span>
<span class="lineNum">   10736 </span>            : 
<span class="lineNum">   10737 </span><span class="lineNoCov">          0 :     GGadgetsCreate(gw,mb);</span>
<span class="lineNum">   10738 </span><span class="lineNoCov">          0 :     GMatrixEditSetNewText(tngcd[4].ret,S_(&quot;TrueTypeName|New&quot;));</span>
<span class="lineNum">   10739 </span><span class="lineNoCov">          0 :     GGadgetSelectOneListItem(gaspgcd[0].ret,sf-&gt;gasp_version);</span>
<span class="lineNum">   10740 </span><span class="lineNoCov">          0 :     GMatrixEditSetNewText(gaspgcd[3].ret,S_(&quot;gaspTableEntry|New&quot;));</span>
<span class="lineNum">   10741 </span><span class="lineNoCov">          0 :     GMatrixEditAddButtons(gaspgcd[3].ret,gaspgcd_def);</span>
<span class="lineNum">   10742 </span><span class="lineNoCov">          0 :     if ( sf-&gt;gasp_version==0 ) {</span>
<span class="lineNum">   10743 </span><span class="lineNoCov">          0 :         GMatrixEditShowColumn(gaspgcd[3].ret,3,false);</span>
<span class="lineNum">   10744 </span><span class="lineNoCov">          0 :         GMatrixEditShowColumn(gaspgcd[3].ret,4,false);</span>
<span class="lineNum">   10745 </span>            :     }
<span class="lineNum">   10746 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(gaspboxes[2].ret,2);</span>
<span class="lineNum">   10747 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(gaspboxes[0].ret,1);</span>
<span class="lineNum">   10748 </span>            : 
<span class="lineNum">   10749 </span><span class="lineNoCov">          0 :     GMatrixEditAddButtons(pgcd[0].ret,privategcd_def);</span>
<span class="lineNum">   10750 </span><span class="lineNoCov">          0 :     GMatrixEditSetUpDownVisible(pgcd[0].ret, true);</span>
<span class="lineNum">   10751 </span><span class="lineNoCov">          0 :     GMatrixEditSetOtherButtonEnable(pgcd[0].ret, PSPrivate_EnableButtons);</span>
<span class="lineNum">   10752 </span><span class="lineNoCov">          0 :     GMatrixEditSetNewText(pgcd[0].ret,S_(&quot;PSPrivateDictKey|New&quot;));</span>
<span class="lineNum">   10753 </span>            : 
<span class="lineNum">   10754 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(lbox[2].ret,3);</span>
<span class="lineNum">   10755 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(lbox[3].ret,gb_expandglue);</span>
<span class="lineNum">   10756 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(lbox[4].ret,gb_expandglue);</span>
<span class="lineNum">   10757 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(lbox[0].ret,5);</span>
<span class="lineNum">   10758 </span><span class="lineNoCov">          0 :     GMatrixEditEnableColumn(GWidgetGetControl(gw,CID_Backgrounds),1,ltype&lt;0);</span>
<span class="lineNum">   10759 </span><span class="lineNoCov">          0 :     GMatrixEditShowColumn(GWidgetGetControl(gw,CID_Backgrounds),3,false);</span>
<span class="lineNum">   10760 </span>            :         /* This column contains internal state information which the user */
<span class="lineNum">   10761 </span>            :         /* should not see, ever */
<span class="lineNum">   10762 </span>            : 
<span class="lineNum">   10763 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(combox[0].ret,1);</span>
<span class="lineNum">   10764 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(flogbox[0].ret,1);</span>
<span class="lineNum">   10765 </span>            : 
<span class="lineNum">   10766 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(mb[0].ret,0);</span>
<span class="lineNum">   10767 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(mb2.ret,gb_expandgluesame);</span>
<span class="lineNum">   10768 </span>            : 
<span class="lineNum">   10769 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(nb[0].ret,1);</span>
<span class="lineNum">   10770 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(nb[0].ret,8);</span>
<span class="lineNum">   10771 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(nb2.ret,1);</span>
<span class="lineNum">   10772 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(nb3.ret,1);</span>
<span class="lineNum">   10773 </span>            : 
<span class="lineNum">   10774 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(xub[0].ret,1);</span>
<span class="lineNum">   10775 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(xub[0].ret,5);</span>
<span class="lineNum">   10776 </span>            : 
<span class="lineNum">   10777 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(psb[0].ret,psrow);</span>
<span class="lineNum">   10778 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(psb2[0].ret,3);</span>
<span class="lineNum">   10779 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(psb2[1].ret,1);</span>
<span class="lineNum">   10780 </span>            : 
<span class="lineNum">   10781 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(vbox[0].ret,gb_expandglue);</span>
<span class="lineNum">   10782 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(vbox[0].ret,1);</span>
<span class="lineNum">   10783 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(vbox[2].ret,gb_expandglue);</span>
<span class="lineNum">   10784 </span>            : 
<span class="lineNum">   10785 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(metbox[0].ret,10);</span>
<span class="lineNum">   10786 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(metbox[0].ret,1);</span>
<span class="lineNum">   10787 </span>            : 
<span class="lineNum">   10788 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(ssbox[0].ret,gb_expandglue);</span>
<span class="lineNum">   10789 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(ssbox[0].ret,gb_expandglue);</span>
<span class="lineNum">   10790 </span>            : 
<span class="lineNum">   10791 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(panbox[0].ret,gb_expandglue);</span>
<span class="lineNum">   10792 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(panbox[0].ret,1);</span>
<span class="lineNum">   10793 </span>            : 
<span class="lineNum">   10794 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(cbox[0].ret,2);</span>
<span class="lineNum">   10795 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(cbox[2].ret,gb_expandglue);</span>
<span class="lineNum">   10796 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(cbox[3].ret,gb_expandglue);</span>
<span class="lineNum">   10797 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(cbox[4].ret,gb_expandglue);</span>
<span class="lineNum">   10798 </span>            : 
<span class="lineNum">   10799 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(woffbox[0].ret,2);</span>
<span class="lineNum">   10800 </span>            : 
<span class="lineNum">   10801 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(mkbox[0].ret,1);</span>
<span class="lineNum">   10802 </span><span class="lineNoCov">          0 :     GMatrixEditSetBeforeDelete(mkgcd[1].ret, GFI_Mark_DeleteClass);</span>
<span class="lineNum">   10803 </span><span class="lineNoCov">          0 :     GMatrixEditSetColumnCompletion(mkgcd[1].ret,1,GFI_GlyphListCompletion);</span>
<span class="lineNum">   10804 </span>            : 
<span class="lineNum">   10805 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(msbox[0].ret,1);</span>
<span class="lineNum">   10806 </span><span class="lineNoCov">          0 :     GMatrixEditSetBeforeDelete(msgcd[1].ret, GFI_Mark_DeleteClass);</span>
<span class="lineNum">   10807 </span><span class="lineNoCov">          0 :     GMatrixEditSetColumnCompletion(msgcd[1].ret,1,GFI_GlyphListCompletion);</span>
<span class="lineNum">   10808 </span>            : 
<span class="lineNum">   10809 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(txbox[0].ret,gb_expandglue);</span>
<span class="lineNum">   10810 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(txbox[2].ret,gb_expandglue);</span>
<span class="lineNum">   10811 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(txbox[3].ret,gb_expandglue);</span>
<span class="lineNum">   10812 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(txbox[4].ret,gb_expandglue);</span>
<span class="lineNum">   10813 </span>            : 
<span class="lineNum">   10814 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(szbox[0].ret,4);</span>
<span class="lineNum">   10815 </span><span class="lineNoCov">          0 :     GHVBoxSetPadding(szbox[2].ret,6,2);</span>
<span class="lineNum">   10816 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(szbox[2].ret,gb_expandglue);</span>
<span class="lineNum">   10817 </span><span class="lineNoCov">          0 :     GHVBoxSetPadding(szbox[3].ret,6,2);</span>
<span class="lineNum">   10818 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(szbox[3].ret,gb_expandglue);</span>
<span class="lineNum">   10819 </span><span class="lineNoCov">          0 :     GHVBoxSetPadding(szbox[4].ret,6,2);</span>
<span class="lineNum">   10820 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(szbox[4].ret,gb_expandglue);</span>
<span class="lineNum">   10821 </span>            : 
<span class="lineNum">   10822 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(tnboxes[0].ret,1);</span>
<span class="lineNum">   10823 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(tnboxes[2].ret,gb_expandglue);</span>
<span class="lineNum">   10824 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(tnboxes[3].ret,gb_expandglue);</span>
<span class="lineNum">   10825 </span>            : 
<span class="lineNum">   10826 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(ssboxes[0].ret,1);</span>
<span class="lineNum">   10827 </span>            : 
<span class="lineNum">   10828 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(mcbox[0].ret,gb_expandglue);</span>
<span class="lineNum">   10829 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(mcbox[0].ret,1);</span>
<span class="lineNum">   10830 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(mcbox[2].ret,gb_expandglue);</span>
<span class="lineNum">   10831 </span>            : 
<span class="lineNum">   10832 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(mfbox[0].ret,0);</span>
<span class="lineNum">   10833 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(mfbox[2].ret,gb_expandglue);</span>
<span class="lineNum">   10834 </span>            : 
<span class="lineNum">   10835 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(dbox[0].ret,gb_expandglue);</span>
<span class="lineNum">   10836 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(dbox[0].ret,1);</span>
<span class="lineNum">   10837 </span>            : 
<span class="lineNum">   10838 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(ubox[0].ret,3);</span>
<span class="lineNum">   10839 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(ubox[2].ret,gb_expandglue);</span>
<span class="lineNum">   10840 </span>            : 
<span class="lineNum">   10841 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(lkbox[0].ret,0);</span>
<span class="lineNum">   10842 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(lkbox[0].ret,0);</span>
<span class="lineNum">   10843 </span><span class="lineNoCov">          0 :     GHVBoxSetPadding(lkbox[0].ret,0,0);</span>
<span class="lineNum">   10844 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(lkbox[2].ret,0);</span>
<span class="lineNum">   10845 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(lkbox[2].ret,0);</span>
<span class="lineNum">   10846 </span><span class="lineNoCov">          0 :     GHVBoxSetPadding(lkbox[2].ret,0,0);</span>
<span class="lineNum">   10847 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableRow(lkbox[4].ret,gb_expandglue);</span>
<span class="lineNum">   10848 </span><span class="lineNoCov">          0 :     GHVBoxSetExpandableCol(lkbox[5].ret,0);</span>
<span class="lineNum">   10849 </span>            : 
<span class="lineNum">   10850 </span><span class="lineNoCov">          0 :     GFI_LookupEnableButtons(d,true);</span>
<span class="lineNum">   10851 </span><span class="lineNoCov">          0 :     GFI_LookupEnableButtons(d,false);</span>
<span class="lineNum">   10852 </span>            : 
<span class="lineNum">   10853 </span><span class="lineNoCov">          0 :     OS2_UnicodeChange(GWidgetGetControl(gw,CID_UnicodeRanges),NULL);</span>
<span class="lineNum">   10854 </span><span class="lineNoCov">          0 :     OS2_CodePageChange(GWidgetGetControl(gw,CID_CodePageRanges),NULL);</span>
<span class="lineNum">   10855 </span>            : 
<span class="lineNum">   10856 </span><span class="lineNoCov">          0 :     if ( fi_font==NULL ) {</span>
<span class="lineNum">   10857 </span><span class="lineNoCov">          0 :         memset(&amp;rq,0,sizeof(rq));</span>
<span class="lineNum">   10858 </span><span class="lineNoCov">          0 :         rq.utf8_family_name = SANS_UI_FAMILIES;</span>
<span class="lineNum">   10859 </span><span class="lineNoCov">          0 :         rq.point_size = 12;</span>
<span class="lineNum">   10860 </span><span class="lineNoCov">          0 :         rq.weight = 400;</span>
<span class="lineNum">   10861 </span><span class="lineNoCov">          0 :         fi_font = GDrawInstanciateFont(gw,&amp;rq);</span>
<span class="lineNum">   10862 </span><span class="lineNoCov">          0 :         fi_font = GResourceFindFont(&quot;FontInfo.Font&quot;,fi_font);</span>
<span class="lineNum">   10863 </span>            :     }
<span class="lineNum">   10864 </span><span class="lineNoCov">          0 :     d-&gt;font = fi_font;</span>
<span class="lineNum">   10865 </span><span class="lineNoCov">          0 :     GDrawWindowFontMetrics(gw,d-&gt;font,&amp;as,&amp;ds,&amp;ld);</span>
<span class="lineNum">   10866 </span><span class="lineNoCov">          0 :     d-&gt;as = as; d-&gt;fh = as+ds;</span>
<span class="lineNum">   10867 </span>            : 
<span class="lineNum">   10868 </span><span class="lineNoCov">          0 :     GTextInfoListFree(namelistnames);</span>
<span class="lineNum">   10869 </span>            : 
<span class="lineNum">   10870 </span><span class="lineNoCov">          0 :     for ( i=0; i&lt;mi.initial_row_cnt; ++i )</span>
<span class="lineNum">   10871 </span><span class="lineNoCov">          0 :         free( mi.matrix_data[3*i+2].u.md_str );</span>
<span class="lineNum">   10872 </span><span class="lineNoCov">          0 :     free( mi.matrix_data );</span>
<span class="lineNum">   10873 </span>            : 
<span class="lineNum">   10874 </span><span class="lineNoCov">          0 :     free(tmpcreatetime);</span>
<span class="lineNum">   10875 </span><span class="lineNoCov">          0 :     free(tmpmodtime);</span>
<span class="lineNum">   10876 </span>            : 
<span class="lineNum">   10877 </span><span class="lineNoCov">          0 :     free(copied_copyright);</span>
<span class="lineNum">   10878 </span>            : 
<span class="lineNum">   10879 </span><span class="lineNoCov">          0 :     GWidgetIndicateFocusGadget(ngcd[1].ret);</span>
<span class="lineNum">   10880 </span><span class="lineNoCov">          0 :     PSPrivate_EnableButtons(GWidgetGetControl(d-&gt;gw,CID_Private),-1,-1);</span>
<span class="lineNum">   10881 </span><span class="lineNoCov">          0 :     GFI_AspectChange(mgcd[0].ret,NULL);</span>
<span class="lineNum">   10882 </span>            : 
<span class="lineNum">   10883 </span><span class="lineNoCov">          0 :     GHVBoxFitWindow(mb[0].ret);</span>
<span class="lineNum">   10884 </span>            : 
<span class="lineNum">   10885 </span><span class="lineNoCov">          0 :     GWidgetHidePalettes();</span>
<span class="lineNum">   10886 </span><span class="lineNoCov">          0 :     GDrawSetVisible(gw,true);</span>
<span class="lineNum">   10887 </span>            : 
<span class="lineNum">   10888 </span><span class="lineNoCov">          0 :     if ( sync ) {</span>
<span class="lineNum">   10889 </span><span class="lineNoCov">          0 :         while ( !d-&gt;done )</span>
<span class="lineNum">   10890 </span><span class="lineNoCov">          0 :             GDrawProcessOneEvent(NULL);</span>
<span class="lineNum">   10891 </span>            :     }
<a name="10892"><span class="lineNum">   10892 </span>            : }</a>
<span class="lineNum">   10893 </span>            : 
<span class="lineNum">   10894 </span><span class="lineNoCov">          0 : void FontMenuFontInfo(void *_fv) {</span>
<span class="lineNum">   10895 </span><span class="lineNoCov">          0 :     if ( _fv &amp;&amp; collabclient_inSessionFV( _fv) ) {</span>
<span class="lineNum">   10896 </span><span class="lineNoCov">          0 :         gwwv_post_error(_(&quot;Feature Not Available&quot;), _(&quot;The Font Information Dialog is not available in collaboration mode yet.&quot;));</span>
<span class="lineNum">   10897 </span><span class="lineNoCov">          0 :         return;</span>
<span class="lineNum">   10898 </span>            :     }
<span class="lineNum">   10899 </span><span class="lineNoCov">          0 :     FontInfo( ((FontViewBase *) _fv)-&gt;sf,((FontViewBase *) _fv)-&gt;active_layer,-1,false);</span>
<a name="10900"><span class="lineNum">   10900 </span>            : }</a>
<span class="lineNum">   10901 </span>            : 
<span class="lineNum">   10902 </span><span class="lineNoCov">          0 : void FontInfoDestroy(SplineFont *sf) {</span>
<span class="lineNum">   10903 </span><span class="lineNoCov">          0 :     if ( sf-&gt;fontinfo )</span>
<span class="lineNum">   10904 </span><span class="lineNoCov">          0 :         GFI_CancelClose( (struct gfi_data *) (sf-&gt;fontinfo) );</span>
<a name="10905"><span class="lineNum">   10905 </span><span class="lineNoCov">          0 : }</span></a>
<span class="lineNum">   10906 </span>            : 
<span class="lineNum">   10907 </span><span class="lineCov">          6 : void FontInfoInit(void) {</span>
<span class="lineNum">   10908 </span>            :     static int done = false;
<span class="lineNum">   10909 </span>            :     int i, j, k;
<span class="lineNum">   10910 </span>            :     static GTextInfo *needswork[] = {
<span class="lineNum">   10911 </span>            :         macstyles, widthclass, weightclass, fstype, pfmfamily, ibmfamily,
<span class="lineNum">   10912 </span>            :         panfamily, panserifs, panweight, panprop, pancontrast, panstrokevar,
<span class="lineNum">   10913 </span>            :         panarmstyle, panletterform, panmidline, panxheight,
<span class="lineNum">   10914 </span>            :         pantool, panspacing, panasprat, pancontrast2, pantopology, panform,
<span class="lineNum">   10915 </span>            :         panfinials, panxascent,
<span class="lineNum">   10916 </span>            :         panclass, panaspect, panserifvar, pantreatment, panlining,
<span class="lineNum">   10917 </span>            :         pantopology2, pancharrange, pancontrast3,
<span class="lineNum">   10918 </span>            :         pankind, panasprat2,
<span class="lineNum">   10919 </span>            :         mslanguages,
<span class="lineNum">   10920 </span>            :         ttfnameids, interpretations, gridfit, antialias, os2versions,
<span class="lineNum">   10921 </span>            :         codepagenames, unicoderangenames, symsmooth, gfsymsmooth, splineorder,
<span class="lineNum">   10922 </span>            :         NULL
<span class="lineNum">   10923 </span>            :     };
<span class="lineNum">   10924 </span>            :     struct titlelist *tl;
<span class="lineNum">   10925 </span>            :     static char **needswork2[] = { texparams, texpopups,
<span class="lineNum">   10926 </span>            :         mathparams, mathpopups, extparams, extpopups,
<span class="lineNum">   10927 </span>            :     NULL };
<span class="lineNum">   10928 </span>            :     static struct {
<span class="lineNum">   10929 </span>            :         int size;
<span class="lineNum">   10930 </span>            :         struct col_init *ci;
<span class="lineNum">   10931 </span>            :     } needswork3[] = {{ sizeof(ci)/sizeof(ci[0]), ci},
<span class="lineNum">   10932 </span>            :                         { sizeof(gaspci)/sizeof(gaspci[0]), gaspci },
<span class="lineNum">   10933 </span>            :                         { sizeof(layersci)/sizeof(layersci[0]), layersci },
<span class="lineNum">   10934 </span>            :                         { sizeof(ssci)/sizeof(ssci[0]), ssci },
<span class="lineNum">   10935 </span>            :                         { sizeof(sizeci)/sizeof(sizeci[0]), sizeci },
<span class="lineNum">   10936 </span>            :                         { sizeof(marks_ci)/sizeof(marks_ci[0]), marks_ci },
<span class="lineNum">   10937 </span>            :                         { sizeof(markc_ci)/sizeof(markc_ci[0]), markc_ci },
<span class="lineNum">   10938 </span>            :                         { 0, NULL }};
<span class="lineNum">   10939 </span>            : 
<span class="lineNum">   10940 </span><span class="lineCov">          6 :     if ( done )</span>
<span class="lineNum">   10941 </span><span class="lineCov">         11 : return;</span>
<span class="lineNum">   10942 </span><span class="lineCov">          1 :     done = true;</span>
<span class="lineNum">   10943 </span><span class="lineCov">         46 :     for ( j=0; needswork[j]!=NULL; ++j ) {</span>
<span class="lineNum">   10944 </span><span class="lineCov">       1053 :         for ( i=0; needswork[j][i].text!=NULL; ++i )</span>
<span class="lineNum">   10945 </span><span class="lineCov">       1008 :             needswork[j][i].text = (unichar_t *) S_((char *) needswork[j][i].text);</span>
<span class="lineNum">   10946 </span>            :     }
<span class="lineNum">   10947 </span><span class="lineCov">          7 :     for ( j=0; needswork2[j]!=NULL; ++j ) {</span>
<span class="lineNum">   10948 </span><span class="lineCov">         62 :         for ( i=0; needswork2[j][i]!=NULL; ++i )</span>
<span class="lineNum">   10949 </span><span class="lineCov">         56 :             needswork2[j][i] = S_(needswork2[j][i]);</span>
<span class="lineNum">   10950 </span>            :     }
<span class="lineNum">   10951 </span>            : 
<span class="lineNum">   10952 </span><span class="lineCov">          8 :     for ( j=0; needswork3[j].ci!=NULL; ++j ) {</span>
<span class="lineNum">   10953 </span><span class="lineCov">         28 :         for ( i=0; i&lt;needswork3[j].size; ++i ) {</span>
<span class="lineNum">   10954 </span><span class="lineCov">         21 :             needswork3[j].ci[i].title = S_(needswork3[j].ci[i].title);</span>
<span class="lineNum">   10955 </span><span class="lineCov">         21 :             if ( needswork3[j].ci[i].enum_vals!=NULL ) {</span>
<span class="lineNum">   10956 </span><span class="lineCov">        733 :                 for ( k=0; needswork3[j].ci[i].enum_vals[k].text!=NULL; ++k )</span>
<span class="lineNum">   10957 </span><span class="lineCov">        722 :                     needswork3[j].ci[i].enum_vals[k].text = (unichar_t *) S_((char *) needswork3[j].ci[i].enum_vals[k].text);</span>
<span class="lineNum">   10958 </span>            :             }
<span class="lineNum">   10959 </span>            :         }
<span class="lineNum">   10960 </span>            :     }
<span class="lineNum">   10961 </span>            : 
<span class="lineNum">   10962 </span><span class="lineCov">         64 :     for ( tl=&amp;panoses[0][0]; tl-&gt;name!=NULL; ++tl )</span>
<span class="lineNum">   10963 </span><span class="lineCov">         63 :         tl-&gt;name = S_(tl-&gt;name);</span>
<span class="lineNum">   10964 </span>            : 
<span class="lineNum">   10965 </span><span class="lineCov">          1 :     LookupUIInit();</span>
<span class="lineNum">   10966 </span><span class="lineCov">          1 :     LookupInit();</span>
<span class="lineNum">   10967 </span>            : }
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.10</a></td></tr>
  </table>
  <br>

</body>
</html>
